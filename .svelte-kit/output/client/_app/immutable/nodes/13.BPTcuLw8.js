import{f as m,a as l,c as Ee,t as B}from"../chunks/9XWdspYM.js";import{o as vt}from"../chunks/pKpJ46-q.js";import{p as Ke,c as s,b as r,g as a,ak as p,i as e,aj as d,t as h,j as Xe,x as Ae,al as x,a5 as Ue,am as Je,s as n}from"../chunks/Cr9rJIyK.js";import{i as se,s as u}from"../chunks/O9ATySAj.js";import{e as Qe,i as Ze}from"../chunks/BEZi9W-P.js";import{B as Y,P as Ve,s as ct}from"../chunks/Ci9HWMjh.js";import{s as dt}from"../chunks/DPb1oAxt.js";import{s as ut}from"../chunks/2kpl1my0.js";import"../chunks/BsLrHCZA.js";import"../chunks/C2WxzHaP.js";import"../chunks/DsSU34pe.js";import{I as gt}from"../chunks/DBn6PFen.js";import{S as we}from"../chunks/Dh-X1iYj.js";import{B as ve}from"../chunks/CJmKRmqT.js";import{A as pt}from"../chunks/CWNTjX5g.js";import{p as je}from"../chunks/DyAKuw6u.js";var ft=m('<span class="icon svelte-14nrfpk">«</span>'),mt=m('<span class="icon svelte-14nrfpk">‹</span>'),_t=m('<span class="ellipsis svelte-14nrfpk">...</span>'),ht=m('<span class="icon svelte-14nrfpk">›</span>'),$t=m('<span class="icon svelte-14nrfpk">»</span>'),kt=m('<div class="pagination-controls svelte-14nrfpk"><!> <!> <div class="page-numbers svelte-14nrfpk"></div> <!> <!></div>'),Pt=m('<div class="pagination-container svelte-14nrfpk"><div class="pagination-info svelte-14nrfpk"><span class="info-text svelte-14nrfpk">Showing <strong class="svelte-14nrfpk"> </strong> to <strong class="svelte-14nrfpk"> </strong> of <strong class="svelte-14nrfpk"> </strong> items</span></div> <!></div>');function bt(ce,$){Ke($,!0);let i=je($,"currentPage",15,1),U=je($,"itemsPerPage",3,50),k=je($,"maxVisiblePages",3,7),f=d(()=>Math.ceil($.totalItems/U())),de=d(()=>(i()-1)*U()+1),re=d(()=>Math.min(i()*U(),$.totalItems)),J=d(()=>{if(e(f)<=k())return Array.from({length:e(f)},(O,K)=>K+1);const _=Math.floor(k()/2);let S=Math.max(1,i()-_),w=Math.min(e(f),S+k()-1);w-S<k()-1&&(S=Math.max(1,w-k()+1));const P=[];S>1&&(P.push(1),S>2&&P.push("ellipsis"));for(let O=S;O<=w;O++)P.push(O);return w<e(f)&&(w<e(f)-1&&P.push("ellipsis"),P.push(e(f))),P});function C(_){_<1||_>e(f)||_===i()||(i(_),$.onPageChange&&$.onPageChange(_))}function q(){C(i()+1)}function G(){C(i()-1)}function R(){C(1)}function le(){C(e(f))}var V=Pt(),T=s(V),$e=s(T),ue=r(s($e)),ie=s(ue,!0);a(ue);var ge=r(ue,2),Ie=s(ge,!0);a(ge);var ke=r(ge,2),Le=s(ke,!0);a(ke),p(),a($e),a(T);var ze=r(T,2);{var Pe=_=>{var S=kt(),w=s(S);{let A=d(()=>i()===1);Y(w,{variant:"ghost",size:"sm",onclick:R,get disabled(){return e(A)},"aria-label":"First page",children:(g,N)=>{var I=ft();l(g,I)},$$slots:{default:!0}})}var P=r(w,2);{let A=d(()=>i()===1);Y(P,{variant:"ghost",size:"sm",onclick:G,get disabled(){return e(A)},"aria-label":"Previous page",children:(g,N)=>{var I=mt();l(g,I)},$$slots:{default:!0}})}var O=r(P,2);Qe(O,21,()=>e(J),Ze,(A,g)=>{var N=Ee(),I=Ae(N);{var Be=j=>{var fe=_t();l(j,fe)},be=j=>{{let fe=d(()=>e(g)===i()?"primary":"ghost"),ye=d(()=>e(g)===i()?"page":void 0);Y(j,{get variant(){return e(fe)},size:"sm",onclick:()=>C(e(g)),get"aria-label"(){return`Page ${e(g)??""}`},get"aria-current"(){return e(ye)},children:(xe,Ye)=>{p();var Ce=B();h(()=>u(Ce,e(g))),l(xe,Ce)},$$slots:{default:!0}})}};se(I,j=>{e(g)==="ellipsis"?j(Be):j(be,!1)})}l(A,N)}),a(O);var K=r(O,2);{let A=d(()=>i()===e(f));Y(K,{variant:"ghost",size:"sm",onclick:q,get disabled(){return e(A)},"aria-label":"Next page",children:(g,N)=>{var I=ht();l(g,I)},$$slots:{default:!0}})}var pe=r(K,2);{let A=d(()=>i()===e(f));Y(pe,{variant:"ghost",size:"sm",onclick:le,get disabled(){return e(A)},"aria-label":"Last page",children:(g,N)=>{var I=$t();l(g,I)},$$slots:{default:!0}})}a(S),l(_,S)};se(ze,_=>{e(f)>1&&_(Pe)})}a(V),h(()=>{u(ie,e(de)),u(Ie,e(re)),u(Le,$.totalItems)}),l(ce,V),Xe()}function yt(ce,$=300){let i=null;const U=function(...k){i!==null&&clearTimeout(i),i=setTimeout(()=>{ce.apply(this,k),i=null},$)};return U.cancel=()=>{i!==null&&(clearTimeout(i),i=null)},U}var xt=m('<div class="filters-section svelte-c8k2rg"><div class="filter-row svelte-c8k2rg"><!></div> <div class="filter-row svelte-c8k2rg"><!> <!> <!> <!></div> <div class="controls-row svelte-c8k2rg"><div class="sort-section svelte-c8k2rg"><!></div> <div class="view-section svelte-c8k2rg"><!> <!></div> <div class="result-count svelte-c8k2rg"><!></div></div></div>'),Ct=m('<div class="loading-state svelte-c8k2rg"><div class="spinner svelte-c8k2rg"></div> <p>Loading skills...</p></div>'),St=m('<div class="empty-state svelte-c8k2rg"><p class="empty-message svelte-c8k2rg">No skills found matching your filters.</p> <!></div>'),wt=m('<span class="tag-more svelte-c8k2rg"> </span>'),At=m('<div class="skill-header svelte-c8k2rg"><h3 class="skill-name svelte-c8k2rg"> </h3> <!></div> <p class="skill-description svelte-c8k2rg"> </p> <div class="skill-meta svelte-c8k2rg"><div class="meta-item svelte-c8k2rg"><span class="meta-label svelte-c8k2rg">Section:</span> <!></div> <div class="meta-item svelte-c8k2rg"><span class="meta-label svelte-c8k2rg">Category:</span> <!></div></div> <div class="skill-tags svelte-c8k2rg"><!> <!></div> <div class="skill-footer svelte-c8k2rg"><div class="cost-info svelte-c8k2rg"><span class="cost-label svelte-c8k2rg">Est. Cost:</span> <!></div></div>',1),It=m('<a class="skill-link svelte-c8k2rg"><!></a>'),Lt=m("<div><!> <!></div>"),zt=m('<div class="library-container svelte-c8k2rg"><div class="page-header svelte-c8k2rg"><div class="header-content svelte-c8k2rg"><h1 class="page-title svelte-c8k2rg">Skill Library</h1> <div class="stats-row svelte-c8k2rg"><div class="stat-item svelte-c8k2rg"><span class="stat-value svelte-c8k2rg"> </span> <span class="stat-label svelte-c8k2rg">Total</span></div> <div class="stat-item svelte-c8k2rg"><span class="stat-value success svelte-c8k2rg"> </span> <span class="stat-label svelte-c8k2rg">Public</span></div> <div class="stat-item svelte-c8k2rg"><span class="stat-value warning svelte-c8k2rg"> </span> <span class="stat-label svelte-c8k2rg">BDS Only</span></div></div></div></div> <!> <div class="library-content svelte-c8k2rg"><!></div></div>');function Rt(ce,$){Ke($,!0);let i=x(Ue([])),U=x(Ue([])),k=x(Ue([])),f=x(!0),de=x(null),re=x(""),J=x(""),C=x("all"),q=x("all"),G=x("all"),R=x(1);const le=50;let V=x("grid"),T=x("name"),$e=d(()=>{const t=new Set(e(i).map(L=>L.section));return["all",...Array.from(t)]}),ue=d(()=>{const t=new Set(e(i).map(L=>L.category));return["all",...Array.from(t)]}),ie=d(()=>({total:e(i).length,public:e(i).filter(t=>t.access==="PUBLIC").length,bdsOnly:e(i).filter(t=>t.access==="BDS_ONLY").length,filtered:e(k).length})),ge=d(()=>e($e).map(t=>({value:t,label:t==="all"?"All Sections":t}))),Ie=d(()=>e(ue).map(t=>({value:t,label:t==="all"?"All Categories":t})));const ke=[{value:"all",label:"All Access"},{value:"PUBLIC",label:"Public"},{value:"BDS_ONLY",label:"BDS Only"}],Le=[{value:"name",label:"Name"},{value:"section",label:"Section"},{value:"category",label:"Category"}];vt(async()=>{try{n(i,await ut.getAllSkills(),!0),Pe(),n(f,!1)}catch(t){n(de,t instanceof Error?t.message:"Failed to load skills",!0),n(f,!1)}});const ze=yt(t=>{n(J,t,!0)},300);function Pe(){let t=[...e(i)];if(e(J).trim()){const o=e(J).toLowerCase();t=t.filter(F=>F.name.toLowerCase().includes(o)||F.description.toLowerCase().includes(o)||F.tags.some(z=>z.toLowerCase().includes(o)))}e(C)!=="all"&&(t=t.filter(o=>o.section===e(C))),e(q)!=="all"&&(t=t.filter(o=>o.category===e(q))),e(G)!=="all"&&(t=t.filter(o=>o.access===e(G))),t.sort((o,F)=>e(T)==="name"?o.name.localeCompare(F.name):e(T)==="section"?o.section.localeCompare(F.section):e(T)==="category"?o.category.localeCompare(F.category):0),n(k,t,!0);const L=(e(R)-1)*le,X=L+le;n(U,t.slice(L,X),!0)}Je(()=>{e(J),e(C),e(q),e(G),e(T),e(R),Pe()}),Je(()=>{ze(e(re))});function _(){n(re,""),n(J,""),n(C,"all"),n(q,"all"),n(G,"all"),n(R,1)}function S(t){n(R,t,!0),window.scrollTo({top:0,behavior:"smooth"})}var w=zt(),P=s(w),O=s(P),K=r(s(O),2),pe=s(K),A=s(pe),g=s(A,!0);a(A),p(2),a(pe);var N=r(pe,2),I=s(N),Be=s(I,!0);a(I),p(2),a(N);var be=r(N,2),j=s(be),fe=s(j,!0);a(j),p(2),a(be),a(K),a(O),a(P);var ye=r(P,2);Ve(ye,{variant:"bordered",padding:"lg",children:(t,L)=>{var X=xt(),o=s(X),F=s(o);gt(F,{type:"search",placeholder:"Search skills by name, description, or tags...",fullWidth:!0,get value(){return e(re)},set value(v){n(re,v,!0)}}),a(o);var z=r(o,2),Z=s(z);we(Z,{get options(){return e(ge)},placeholder:"All Sections",fullWidth:!0,get value(){return e(C)},set value(v){n(C,v,!0)}});var me=r(Z,2);we(me,{get options(){return e(Ie)},placeholder:"All Categories",fullWidth:!0,get value(){return e(q)},set value(v){n(q,v,!0)}});var ee=r(me,2);we(ee,{get options(){return ke},placeholder:"All Access",fullWidth:!0,get value(){return e(G)},set value(v){n(G,v,!0)}});var Oe=r(ee,2);Y(Oe,{variant:"secondary",$$events:{click:_},children:(v,te)=>{p();var ae=B("Clear");l(v,ae)},$$slots:{default:!0}}),a(z);var E=r(z,2),D=s(E),_e=s(D);we(_e,{get options(){return Le},get value(){return e(T)},set value(v){n(T,v,!0)}}),a(D);var Q=r(D,2),ne=s(Q);{let v=d(()=>e(V)==="grid"?"primary":"ghost");Y(ne,{get variant(){return e(v)},size:"sm",$$events:{click:()=>n(V,"grid")},children:(te,ae)=>{p();var oe=B("Grid");l(te,oe)},$$slots:{default:!0}})}var M=r(ne,2);{let v=d(()=>e(V)==="list"?"primary":"ghost");Y(M,{get variant(){return e(v)},size:"sm",$$events:{click:()=>n(V,"list")},children:(te,ae)=>{p();var oe=B("List");l(te,oe)},$$slots:{default:!0}})}a(Q);var c=r(Q,2),H=s(c);ve(H,{variant:"default",children:(v,te)=>{p();var ae=B();h(()=>u(ae,`${e(ie).filtered??""} skills`)),l(v,ae)},$$slots:{default:!0}}),a(c),a(E),a(X),l(t,X)},$$slots:{default:!0}});var xe=r(ye,2),Ye=s(xe);{var Ce=t=>{var L=Ct();l(t,L)},et=t=>{var L=Ee(),X=Ae(L);{var o=z=>{pt(z,{variant:"error",title:"Failed to Load Skills",children:(Z,me)=>{p();var ee=B();h(()=>u(ee,e(de))),l(Z,ee)},$$slots:{default:!0}})},F=z=>{var Z=Ee(),me=Ae(Z);{var ee=E=>{Ve(E,{variant:"elevated",padding:"lg",children:(D,_e)=>{var Q=St(),ne=r(s(Q),2);Y(ne,{variant:"primary",$$events:{click:_},children:(M,c)=>{p();var H=B("Clear Filters");l(M,H)},$$slots:{default:!0}}),a(Q),l(D,Q)},$$slots:{default:!0}})},Oe=E=>{var D=Lt(),_e=s(D);Qe(_e,17,()=>e(U),M=>M.id,(M,c)=>{var H=It(),v=s(H);Ve(v,{variant:"bordered",padding:"lg",children:(te,ae)=>{var oe=At(),Fe=Ae(oe),Me=s(Fe),tt=s(Me,!0);a(Me);var at=r(Me,2);{let b=d(()=>e(c).access==="PUBLIC"?"success":"warning");ve(at,{get variant(){return e(b)},size:"sm",children:(W,y)=>{p();var he=B();h(()=>u(he,e(c).access)),l(W,he)},$$slots:{default:!0}})}a(Fe);var Te=r(Fe,2),st=s(Te,!0);a(Te);var Ne=r(Te,2),De=s(Ne),rt=r(s(De),2);ve(rt,{variant:"default",size:"sm",children:(b,W)=>{p();var y=B();h(()=>u(y,e(c).section)),l(b,y)},$$slots:{default:!0}}),a(De);var qe=r(De,2),lt=r(s(qe),2);ve(lt,{variant:"default",size:"sm",children:(b,W)=>{p();var y=B();h(()=>u(y,e(c).category)),l(b,y)},$$slots:{default:!0}}),a(qe),a(Ne);var We=r(Ne,2),Ge=s(We);Qe(Ge,17,()=>e(c).tags.slice(0,4),Ze,(b,W)=>{ve(b,{variant:"info",size:"sm",outline:!0,children:(y,he)=>{p();var Se=B();h(()=>u(Se,e(W))),l(y,Se)},$$slots:{default:!0}})});var it=r(Ge,2);{var nt=b=>{var W=wt(),y=s(W);a(W),h(()=>u(y,`+${e(c).tags.length-4}`)),l(b,W)};se(it,b=>{e(c).tags.length>4&&b(nt)})}a(We);var Re=r(We,2),He=s(Re),ot=r(s(He),2);ve(ot,{variant:"accent",size:"sm",children:(b,W)=>{p();var y=B();h((he,Se)=>u(y,`$${he??""} - $${Se??""}`),[()=>e(c).estimatedCost.min.toFixed(3),()=>e(c).estimatedCost.max.toFixed(3)]),l(b,y)},$$slots:{default:!0}}),a(He),a(Re),h(()=>{u(tt,e(c).name),u(st,e(c).description)}),l(te,oe)},$$slots:{default:!0}}),a(H),h(()=>ct(H,"href",`/library/${e(c).id??""}`)),l(M,H)});var Q=r(_e,2);{var ne=M=>{bt(M,{get totalItems(){return e(k).length},itemsPerPage:le,onPageChange:S,get currentPage(){return e(R)},set currentPage(c){n(R,c,!0)}})};se(Q,M=>{e(k).length>le&&M(ne)})}a(D),h(()=>dt(D,1,`skills-${e(V)??""}`,"svelte-c8k2rg")),l(E,D)};se(me,E=>{e(k).length===0?E(ee):E(Oe,!1)},!0)}l(z,Z)};se(X,z=>{e(de)?z(o):z(F,!1)},!0)}l(t,L)};se(Ye,t=>{e(f)?t(Ce):t(et,!1)})}a(xe),a(w),h(()=>{u(g,e(ie).total),u(Be,e(ie).public),u(fe,e(ie).bdsOnly)}),l(ce,w),Xe()}export{Rt as component};
