import{s as e,T as s,o as a,b as t,f as l,i as r,h as i,j as d,H as v,p as n,g as o,c,q as u,m as p,r as h,A as k,I as m,k as g,d as f,G as $,v as b,w as y,x,e as T,O as z,Y as S,P as j,E as q,F as w,a0 as E}from"../chunks/CEBGzJg8.js";import{s as I}from"../chunks/Jf6GASyq.js";import{f as C}from"../chunks/CdkQEK9T.js";import{A as F}from"../chunks/x5TBZFzC.js";import{B as L}from"../chunks/wNGl6z03.js";import{B as O}from"../chunks/-MggM-z0.js";import{P as W}from"../chunks/BFaR4WWh.js";import{S as B}from"../chunks/DuZmGE6i.js";import{I as P}from"../chunks/BvPI1pIT.js";import{T as _}from"../chunks/DX0SbVy8.js";var A=l('<div class="loading-state svelte-112kdh0"><div class="spinner svelte-112kdh0"></div> <p>Loading skill...</p></div>'),G=l('<!> <div style="text-align: center; margin-top: 1rem;"><!></div>',1),M=l('<div class="skill-metadata svelte-112kdh0"><div class="meta-group svelte-112kdh0"><span class="meta-label svelte-112kdh0">Skill ID</span> <!></div> <div class="meta-group svelte-112kdh0"><span class="meta-label svelte-112kdh0">Section</span> <!></div> <div class="meta-group svelte-112kdh0"><span class="meta-label svelte-112kdh0">Category</span> <!></div> <div class="meta-group svelte-112kdh0"><span class="meta-label svelte-112kdh0">Est. Cost</span> <!></div></div>'),D=l('<div class="skill-tags svelte-112kdh0"><span class="tags-label svelte-112kdh0">Tags</span> <div class="tags-list svelte-112kdh0"></div></div>'),H=l('<p class="no-inputs svelte-112kdh0">This skill requires no inputs.</p>'),N=l('<span class="required svelte-112kdh0">*</span>'),U=l('<p class="input-description svelte-112kdh0"> </p>'),Y=l('<div class="checkbox-group svelte-112kdh0"><label class="svelte-112kdh0"><input type="checkbox" class="svelte-112kdh0"/> <!></label> <!></div>'),J=l('<div class="inputs-form svelte-112kdh0"></div>'),K=l('<h2 class="svelte-112kdh0">Inputs</h2> <!> <div class="options-panel svelte-112kdh0"><h3 class="svelte-112kdh0">Execution Options</h3> <div class="option-group svelte-112kdh0"><label class="svelte-112kdh0"><input type="checkbox"/> Enable Streaming</label></div> <!> <div class="option-group svelte-112kdh0"><label for="temperature" class="svelte-112kdh0"> </label> <input type="range" id="temperature" min="0" max="1" step="0.1" class="option-slider svelte-112kdh0"/></div> <div class="option-group svelte-112kdh0"><label for="maxTokens" class="svelte-112kdh0"> </label> <input type="range" id="maxTokens" min="256" max="8192" step="256" class="option-slider svelte-112kdh0"/></div></div> <!>',1),Q=l('<div class="streaming-output svelte-112kdh0"><pre> </pre> <div class="streaming-indicator svelte-112kdh0"><!></div></div>'),R=l('<div class="spinner svelte-112kdh0"></div> <p>Executing skill...</p>',1),V=l('<div class="output-loading svelte-112kdh0"><!></div>'),X=l('<div class="output-success svelte-112kdh0"><div class="output-content svelte-112kdh0"><pre class="svelte-112kdh0"> </pre></div></div>'),Z=l('<div class="output-content svelte-112kdh0"><pre class="svelte-112kdh0"> </pre></div>'),ee=l('<div class="output-success svelte-112kdh0"><div class="output-metadata svelte-112kdh0"><div class="meta-item svelte-112kdh0"><span class="meta-label svelte-112kdh0">Session ID</span> <!></div> <div class="meta-item svelte-112kdh0"><span class="meta-label svelte-112kdh0">Model</span> <!></div> <div class="meta-item svelte-112kdh0"><span class="meta-label svelte-112kdh0">Tokens</span> <!></div> <div class="meta-item svelte-112kdh0"><span class="meta-label svelte-112kdh0">Cost</span> <!></div> <div class="meta-item svelte-112kdh0"><span class="meta-label svelte-112kdh0">Latency</span> <!></div></div> <!></div>'),se=l('<div class="output-empty svelte-112kdh0"><p>No output yet. Configure inputs and click "Invoke Skill" to run.</p></div>'),ae=l('<div class="output-header svelte-112kdh0"><h2 class="svelte-112kdh0">Output</h2> <!></div> <!>',1),te=l('<div class="skill-detail"><div class="detail-header svelte-112kdh0"><!> <div class="header-content svelte-112kdh0"><div class="header-main svelte-112kdh0"><h1 class="svelte-112kdh0"> </h1> <!></div> <p class="skill-description svelte-112kdh0"> </p></div></div> <!> <!> <div class="content-grid svelte-112kdh0"><!> <!></div></div>'),le=l('<div class="skill-detail-container svelte-112kdh0"><!></div>');function re(l,re){n(re,!0);const[ie,de]=v();let ve=e(null),ne=e(!0),oe=e(null),ce=e(s({})),ue=e(!1),pe=e(null),he=e(""),ke=e(!1),me=e(!0),ge=e("claude-3.5-sonnet"),fe=e(.2),$e=e(4096);const be=u(()=>k(m,"$page",ie).params.id);async function ye(){if(o(ve)&&!o(ue)){c(ue,!0),c(pe,null),c(he,""),c(oe,null);try{if(o(me)){c(ke,!0);const e=C.invokeSkillStreaming(o(ve).id,{inputs:o(ce),options:{model:o(ge),temperature:o(fe),max_tokens:o($e)}});for await(const s of e)c(he,o(he)+s);c(ke,!1)}else c(pe,await C.invokeSkill(o(ve).id,{inputs:o(ce),options:{model:o(ge),temperature:o(fe),max_tokens:o($e)}}),!0)}catch(e){c(oe,e instanceof Error?e.message:"Invocation failed",!0),c(ke,!1)}finally{c(ue,!1)}}}function xe(){c(pe,null),c(he,""),c(oe,null)}a(async()=>{try{c(ve,await I.getSkill(o(be))||null,!0),o(ve)||c(oe,`Skill not found: ${o(be)}`),c(ne,!1)}catch(e){c(oe,e instanceof Error?e.message:"Failed to load skill",!0),c(ne,!1)}}),t(()=>{if(o(ve)){const e={};for(const[s,a]of Object.entries(o(ve).inputs))"boolean"===a.type?e[s]=!1:"number"===a.type?e[s]=0:"array"===a.type?e[s]=[]:e[s]="";c(ce,e,!0)}});var Te=le(),ze=p(Te),Se=e=>{var s=A();i(e,s)},je=e=>{var s=g(),a=f(s),t=e=>{var s=G(),a=f(s);F(a,{variant:"error",title:"Failed to Load Skill",children:(e,s)=>{$();var a=b();y(()=>x(a,o(oe))),i(e,a)},$$slots:{default:!0}});var t=T(a,2),l=p(t);L(l,{variant:"secondary",$$events:{click:()=>window.location.href="/library"},children:(e,s)=>{$();var a=b("← Back to Library");i(e,a)},$$slots:{default:!0}}),h(t),i(e,s)},l=e=>{var s=g(),a=f(s),t=e=>{var s=te(),a=p(s),t=p(a);L(t,{variant:"ghost",size:"sm",$$events:{click:()=>window.location.href="/library"},children:(e,s)=>{$();var a=b("← Back to Library");i(e,a)},$$slots:{default:!0}});var l=T(t,2),d=p(l),v=p(d),n=p(v,!0);h(v);var k=T(v,2);{let e=u(()=>"PUBLIC"===o(ve).access?"success":"warning");O(k,{get variant(){return o(e)},size:"lg",children:(e,s)=>{$();var a=b();y(()=>x(a,o(ve).access)),i(e,a)},$$slots:{default:!0}})}h(d);var m=T(d,2),I=p(m,!0);h(m),h(l),h(a);var C=T(a,2);W(C,{variant:"bordered",padding:"lg",children:(e,s)=>{var a=M(),t=p(a),l=T(p(t),2);O(l,{variant:"default",size:"sm",children:(e,s)=>{$();var a=b();y(()=>x(a,o(ve).id)),i(e,a)},$$slots:{default:!0}}),h(t);var r=T(t,2),d=T(p(r),2);O(d,{variant:"info",size:"sm",children:(e,s)=>{$();var a=b();y(()=>x(a,o(ve).section)),i(e,a)},$$slots:{default:!0}}),h(r);var v=T(r,2),n=T(p(v),2);O(n,{variant:"info",size:"sm",children:(e,s)=>{$();var a=b();y(()=>x(a,o(ve).category)),i(e,a)},$$slots:{default:!0}}),h(v);var c=T(v,2),u=T(p(c),2);O(u,{variant:"accent",size:"sm",children:(e,s)=>{$();var a=b();y((e,s)=>x(a,`$${e??""} - $${s??""}`),[()=>o(ve).estimatedCost.min.toFixed(3),()=>o(ve).estimatedCost.max.toFixed(3)]),i(e,a)},$$slots:{default:!0}}),h(c),h(a),i(e,a)},$$slots:{default:!0}});var A=T(C,2),G=e=>{var s=D(),a=T(p(s),2);q(a,21,()=>o(ve).tags,w,(e,s)=>{O(e,{variant:"default",size:"sm",outline:!0,children:(e,a)=>{$();var t=b();y(()=>x(t,o(s))),i(e,t)},$$slots:{default:!0}})}),h(a),h(s),i(e,s)};r(A,e=>{o(ve).tags.length>0&&e(G)});var le=T(A,2),re=p(le);W(re,{variant:"bordered",padding:"lg",children:(e,s)=>{var a=K(),t=T(f(a),2),l=e=>{var s=H();i(e,s)},d=e=>{var s=J();q(s,21,()=>Object.entries(o(ve).inputs),w,(e,s)=>{var a=u(()=>E(o(s),2));let t=()=>o(a)[0],l=()=>o(a)[1];var d=g(),v=f(d),n=e=>{{let s=u(()=>l().description||"");P(e,{get label(){return t()},get helperText(){return o(s)},get required(){return l().required},fullWidth:!0,get value(){return o(ce)[t()]},set value(e){o(ce)[t()]=e}})}},c=e=>{var s=g(),a=f(s),d=e=>{{let s=u(()=>l().description||"");P(e,{type:"number",get label(){return t()},get helperText(){return o(s)},get required(){return l().required},fullWidth:!0,get value(){return o(ce)[t()]},set value(e){o(ce)[t()]=e}})}},v=e=>{var s=g(),a=f(s),d=e=>{var s=Y(),a=p(s),d=p(a);z(d);var v=T(d),n=T(v),c=e=>{var s=N();i(e,s)};r(n,e=>{l().required&&e(c)}),h(a);var u=T(a,2),k=e=>{var s=U(),a=p(s,!0);h(s),y(()=>x(a,l().description)),i(e,s)};r(u,e=>{l().description&&e(k)}),h(s),y(()=>x(v,` ${t()??""} `)),S(d,()=>o(ce)[t()],e=>o(ce)[t()]=e),i(e,s)},v=e=>{var s=g(),a=f(s),d=e=>{{let s=u(()=>l().description||"Enter comma-separated values");_(e,{get label(){return t()},get helperText(){return o(s)},get required(){return l().required},rows:3,fullWidth:!0,get value(){return o(ce)[t()]},set value(e){o(ce)[t()]=e}})}},v=e=>{{let s=u(()=>l().description||"");_(e,{get label(){return t()},get helperText(){return o(s)},get required(){return l().required},rows:5,fullWidth:!0,get value(){return o(ce)[t()]},set value(e){o(ce)[t()]=e}})}};r(a,e=>{"array"===l().type?e(d):e(v,!1)},!0),i(e,s)};r(a,e=>{"boolean"===l().type?e(d):e(v,!1)},!0),i(e,s)};r(a,e=>{"number"===l().type?e(d):e(v,!1)},!0),i(e,s)};r(v,e=>{"string"===l().type?e(n):e(c,!1)}),i(e,d)}),h(s),i(e,s)};r(t,e=>{0===Object.keys(o(ve).inputs).length?e(l):e(d,!1)});var v=T(t,2),n=T(p(v),2),k=p(n),m=p(k);z(m),$(),h(k),h(n);var I=T(n,2);B(I,{label:"Model",options:[{value:"claude-3.5-sonnet",label:"Claude 3.5 Sonnet"},{value:"gpt-4-turbo",label:"GPT-4 Turbo"},{value:"gpt-4",label:"GPT-4"}],fullWidth:!0,get value(){return o(ge)},set value(e){c(ge,e,!0)}});var C=T(I,2),F=p(C),O=p(F);h(F);var W=T(F,2);z(W),h(C);var A=T(C,2),G=p(A),M=p(G);h(G);var D=T(G,2);z(D),h(A),h(v);var Q=T(v,2);L(Q,{variant:"primary",size:"lg",fullWidth:!0,get loading(){return o(ue)},$$events:{click:ye},children:(e,s)=>{$();var a=b("Invoke Skill");i(e,a)},$$slots:{default:!0}}),y(()=>{x(O,`Temperature: ${o(fe)??""}`),x(M,`Max Tokens: ${o($e)??""}`)}),S(m,()=>o(me),e=>c(me,e)),j(W,()=>o(fe),e=>c(fe,e)),j(D,()=>o($e),e=>c($e,e)),i(e,a)},$$slots:{default:!0}});var ie=T(re,2);W(ie,{variant:"bordered",padding:"lg",children:(e,s)=>{var a=ae(),t=f(a),l=T(p(t),2),d=e=>{L(e,{variant:"ghost",size:"sm",$$events:{click:xe},children:(e,s)=>{$();var a=b("Clear");i(e,a)},$$slots:{default:!0}})};r(l,e=>{(o(pe)||o(he))&&e(d)}),h(t);var v=T(t,2),n=e=>{F(e,{variant:"error",title:"Error",children:(e,s)=>{$();var a=b();y(()=>x(a,o(oe))),i(e,a)},$$slots:{default:!0}})},c=e=>{var s=g(),a=f(s),t=e=>{var s=V(),a=p(s),t=e=>{var s=Q(),a=p(s),t=p(a,!0);h(a);var l=T(a,2),r=p(l);O(r,{variant:"accent",dot:!0,children:(e,s)=>{$();var a=b("Streaming...");i(e,a)},$$slots:{default:!0}}),h(l),h(s),y(()=>x(t,o(he))),i(e,s)},l=e=>{var s=R();$(2),i(e,s)};r(a,e=>{o(ke)?e(t):e(l,!1)}),h(s),i(e,s)},l=e=>{var s=g(),a=f(s),t=e=>{var s=X(),a=p(s),t=p(a),l=p(t,!0);h(t),h(a),h(s),y(()=>x(l,o(he))),i(e,s)},l=e=>{var s=g(),a=f(s),t=e=>{var s=ee(),a=p(s),t=p(a),l=T(p(t),2);O(l,{variant:"default",size:"sm",children:(e,s)=>{$();var a=b();y(()=>x(a,o(pe).sessionId)),i(e,a)},$$slots:{default:!0}}),h(t);var d=T(t,2),v=T(p(d),2);O(v,{variant:"info",size:"sm",children:(e,s)=>{$();var a=b();y(()=>x(a,o(pe).metadata.model_used)),i(e,a)},$$slots:{default:!0}}),h(d);var n=T(d,2),c=T(p(n),2);O(c,{variant:"default",size:"sm",children:(e,s)=>{$();var a=b();y(()=>x(a,o(pe).metadata.tokens_used)),i(e,a)},$$slots:{default:!0}}),h(n);var u=T(n,2),k=T(p(u),2);O(k,{variant:"accent",size:"sm",children:(e,s)=>{$();var a=b();y(e=>x(a,`$${e??""}`),[()=>o(pe).metadata.cost.toFixed(4)]),i(e,a)},$$slots:{default:!0}}),h(u);var m=T(u,2),g=T(p(m),2);O(g,{variant:"default",size:"sm",children:(e,s)=>{$();var a=b();y(()=>x(a,`${o(pe).metadata.latency_ms??""}ms`)),i(e,a)},$$slots:{default:!0}}),h(m),h(a);var f=T(a,2),z=e=>{var s=Z(),a=p(s),t=p(a,!0);h(a),h(s),y(()=>x(t,o(pe).output)),i(e,s)},S=e=>{F(e,{variant:"error",title:"Execution Error",children:(e,s)=>{$();var a=b();y(()=>x(a,o(pe).error)),i(e,a)},$$slots:{default:!0}})};r(f,e=>{"success"===o(pe).status?e(z):e(S,!1)}),h(s),i(e,s)},l=e=>{var s=se();i(e,s)};r(a,e=>{o(pe)?e(t):e(l,!1)},!0),i(e,s)};r(a,e=>{o(he)?e(t):e(l,!1)},!0),i(e,s)};r(a,e=>{o(ue)?e(t):e(l,!1)},!0),i(e,s)};r(v,e=>{o(oe)?e(n):e(c,!1)}),i(e,a)},$$slots:{default:!0}}),h(le),h(s),y(()=>{x(n,o(ve).name),x(I,o(ve).description)}),i(e,s)};r(a,e=>{o(ve)&&e(t)},!0),i(e,s)};r(a,e=>{o(oe)&&!o(ve)?e(t):e(l,!1)},!0),i(e,s)};r(ze,e=>{o(ne)?e(Se):e(je,!1)}),h(Te),i(l,Te),d(),de()}export{re as component};
