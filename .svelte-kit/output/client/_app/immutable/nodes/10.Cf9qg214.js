import{S as e,P as s,s as t}from"../chunks/YOoqYTui.js";import{T as a,p as i,e as r,q as l,i as n,r as c,k as v,l as o,h as d,j as u,P as m,I as p,g,s as y,y as h,z as q,A as k,x as f,W as w,a as b,N as _,V as x,G as $,H as S,m as j,S as E}from"../chunks/DMG9opGF.js";import{E as z}from"../chunks/BUOzqyaV.js";import{P as C}from"../chunks/B9fUN0C4.js";import{B as A}from"../chunks/CPI7VlXT.js";import{A as N}from"../chunks/IY61Ops4.js";import{c as L,a as R}from"../chunks/Be9ROwSi.js";import{B as D}from"../chunks/Bd01I2fe.js";const P=a({sessions:[],currentSession:null,isEvaluating:!1,streamingOutput:"",currentStage:null}),I={get sessions(){return P.sessions},get currentSession(){return P.currentSession},get isEvaluating(){return P.isEvaluating},get streamingOutput(){return P.streamingOutput},get currentStage(){return P.currentStage},get activeSessions(){return P.sessions.filter(s=>s.status===e.RUNNING||s.status===e.PENDING)},get completedSessions(){return P.sessions.filter(s=>s.status===e.COMPLETED)},get failedSessions(){return P.sessions.filter(s=>s.status===e.FAILED)},createSession(s){const t={id:`evaluation_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,type:"evaluation",status:e.PENDING,createdAt:new Date,request:s,stages:{}};return P.sessions=[...P.sessions,t],P.currentSession=t,t},startSession(t){const a=P.sessions.find(e=>e.id===t);a&&(a.status=e.RUNNING,a.startedAt=new Date,a.currentStage=s.PLAN,P.currentStage=s.PLAN,P.isEvaluating=!0,P.streamingOutput="",P.sessions=[...P.sessions])},updateStageOutput(e,t,a){const i=P.sessions.find(s=>s.id===e);if(i){switch(t){case s.PLAN:i.stages.plan=a;break;case s.ACT:i.stages.act=a;break;case s.OBSERVE:i.stages.observe=a;break;case s.REFLECT:i.stages.reflect=a}P.sessions=[...P.sessions]}},appendStreamingOutput(e){P.streamingOutput+=e},clearStreamingOutput(){P.streamingOutput=""},advanceStage(e,s){const t=P.sessions.find(s=>s.id===e);t&&(s?(t.currentStage=s,P.currentStage=s,P.streamingOutput=""):(t.currentStage=void 0,P.currentStage=null,P.isEvaluating=!1),P.sessions=[...P.sessions])},completeSession(s,t){const a=P.sessions.find(e=>e.id===s);a&&(a.status=e.COMPLETED,a.completedAt=new Date,a.assessment=t,a.currentStage=void 0,P.currentStage=null,P.isEvaluating=!1,P.streamingOutput="",P.sessions=[...P.sessions])},failSession(s,t){const a=P.sessions.find(e=>e.id===s);a&&(a.status=e.FAILED,a.completedAt=new Date,a.error=t,a.currentStage=void 0,P.currentStage=null,P.isEvaluating=!1,P.streamingOutput="",P.sessions=[...P.sessions])},cancelSession(s){const t=P.sessions.find(e=>e.id===s);t&&(t.status=e.CANCELLED,t.completedAt=new Date,t.currentStage=void 0,P.currentSession?.id===s&&(P.currentStage=null,P.isEvaluating=!1,P.streamingOutput=""),P.sessions=[...P.sessions])},setCurrentSession(e){if(null===e)return void(P.currentSession=null);const s=P.sessions.find(s=>s.id===e);s&&(P.currentSession=s)},deleteSession(e){P.sessions=P.sessions.filter(s=>s.id!==e),P.currentSession?.id===e&&(P.currentSession=null,P.currentStage=null,P.isEvaluating=!1,P.streamingOutput="")},clearAll(){P.sessions=[],P.currentSession=null,P.isEvaluating=!1,P.streamingOutput="",P.currentStage=null}};async function F(e){const s=function(e){return e.executionResult?e.executionResult.code&&0!==e.executionResult.code.trim().length?e.criteria&&0!==e.criteria.length?null:R("At least one evaluation criterion is required"):R("No code to evaluate"):R("Execution result is required")}(e);if(s)return{success:!1,error:s};try{const s=I.createSession(e);I.startSession(s.id);const a=`http://localhost:8787/api/v1/bds/evaluation/${s.id}/stream`;return t.subscribe(a,{onChunk:e=>{I.appendStreamingOutput(e)},onStageStart:e=>{const t=e;I.advanceStage(s.id,t)},onStageEnd:(e,t)=>{const a=e,i=t;I.updateStageOutput(s.id,a,i)},onComplete:e=>{const t=e;I.completeSession(s.id,t)},onError:e=>{I.failSession(s.id,e.message)}}),{success:!0,sessionId:s.id}}catch(a){return{success:!1,error:L(a)}}}function O(e){return`${(100*e).toFixed(1)}%`}function M(e){return e>=.8?"success":e>=.6?"warning":"danger"}function T(e){return e>=.9?"compliant":e>=.7?"partial":"non-compliant"}var U=r('<div class="stat svelte-1dej7"><span class="stat-icon svelte-1dej7">ğŸ“</span> <span class="stat-value svelte-1dej7"> </span> <span class="stat-label svelte-1dej7">files</span></div>'),B=r('<div class="stat svelte-1dej7"><span class="stat-icon svelte-1dej7">ğŸ§ª</span> <span class="stat-value svelte-1dej7"> </span> <span class="stat-label svelte-1dej7">tests passed</span></div>'),G=r('<div class="stat svelte-1dej7"><span class="stat-icon svelte-1dej7">â±ï¸</span> <span class="stat-value svelte-1dej7"> </span> <span class="stat-label svelte-1dej7">duration</span></div>'),Q=r('<div class="execution-summary svelte-1dej7"><h3 class="svelte-1dej7">Execution Result</h3> <div class="summary-stats svelte-1dej7"><!> <!> <!></div></div> <div class="criteria-selection svelte-1dej7"><h3 class="svelte-1dej7">Evaluation Criteria</h3> <p class="text-muted svelte-1dej7">Select which aspects to evaluate</p> <div class="criteria-grid svelte-1dej7"><label class="criterion svelte-1dej7"><input type="checkbox" class="svelte-1dej7"/> <div class="criterion-content svelte-1dej7"><div class="criterion-title svelte-1dej7">Code Quality</div> <div class="criterion-description svelte-1dej7">Readability, organization, naming conventions</div></div></label> <label class="criterion svelte-1dej7"><input type="checkbox" class="svelte-1dej7"/> <div class="criterion-content svelte-1dej7"><div class="criterion-title svelte-1dej7">SAS Compliance</div> <div class="criterion-description svelte-1dej7">Adherence to Software Architecture Specification</div></div></label> <label class="criterion svelte-1dej7"><input type="checkbox" class="svelte-1dej7"/> <div class="criterion-content svelte-1dej7"><div class="criterion-title svelte-1dej7">Performance</div> <div class="criterion-description svelte-1dej7">Efficiency, optimization, resource usage</div></div></label> <label class="criterion svelte-1dej7"><input type="checkbox" class="svelte-1dej7"/> <div class="criterion-content svelte-1dej7"><div class="criterion-title svelte-1dej7">Security</div> <div class="criterion-description svelte-1dej7">Vulnerabilities, best practices, data protection</div></div></label> <label class="criterion svelte-1dej7"><input type="checkbox" class="svelte-1dej7"/> <div class="criterion-content svelte-1dej7"><div class="criterion-title svelte-1dej7">Maintainability</div> <div class="criterion-description svelte-1dej7">Modularity, documentation, future-proofing</div></div></label> <label class="criterion svelte-1dej7"><input type="checkbox" class="svelte-1dej7"/> <div class="criterion-content svelte-1dej7"><div class="criterion-title svelte-1dej7">Test Coverage</div> <div class="criterion-description svelte-1dej7">Unit tests, integration tests, coverage percentage</div></div></label></div></div> <!> <!>',1),V=r('<div class="empty-state svelte-1dej7"><div class="empty-icon svelte-1dej7">ğŸ”</div> <p class="empty-title svelte-1dej7">No Execution Result</p> <p class="empty-description svelte-1dej7">Load an execution result from the Execution Agent to begin evaluation.</p></div>'),H=r('<div class="evaluation-request svelte-1dej7"><!></div>');var W=r('<div class="metric-card svelte-1a9i8n4"><div class="metric-header svelte-1a9i8n4"><div class="metric-title svelte-1a9i8n4">Test Coverage</div> <!></div> <div class="metric-bar svelte-1a9i8n4"><div></div></div> <div class="metric-details svelte-1a9i8n4"><span>Unit & integration tests</span></div></div>'),J=r('<div class="metric-card svelte-1a9i8n4"><div class="metric-header svelte-1a9i8n4"><div class="metric-title svelte-1a9i8n4">Complexity</div> <!></div> <div class="metric-details svelte-1a9i8n4"><span>Cyclomatic complexity analysis</span></div></div>'),K=r('<div class="overall-score svelte-1a9i8n4"><div><div class="score-grade svelte-1a9i8n4"> </div> <div class="score-percent svelte-1a9i8n4"> </div></div> <div class="score-label svelte-1a9i8n4">Overall Quality Score</div></div> <div class="metrics-grid svelte-1a9i8n4"><div class="metric-card svelte-1a9i8n4"><div class="metric-header svelte-1a9i8n4"><div class="metric-title svelte-1a9i8n4">Code Quality</div> <!></div> <div class="metric-bar svelte-1a9i8n4"><div></div></div> <div class="metric-details svelte-1a9i8n4"><span>Readability, organization, naming</span></div></div> <div class="metric-card svelte-1a9i8n4"><div class="metric-header svelte-1a9i8n4"><div class="metric-title svelte-1a9i8n4">Performance</div> <!></div> <div class="metric-bar svelte-1a9i8n4"><div></div></div> <div class="metric-details svelte-1a9i8n4"><span>Efficiency, optimization</span></div></div> <div class="metric-card svelte-1a9i8n4"><div class="metric-header svelte-1a9i8n4"><div class="metric-title svelte-1a9i8n4">Security</div> <!></div> <div class="metric-bar svelte-1a9i8n4"><div></div></div> <div class="metric-details svelte-1a9i8n4"><span>Vulnerabilities, best practices</span></div></div> <div class="metric-card svelte-1a9i8n4"><div class="metric-header svelte-1a9i8n4"><div class="metric-title svelte-1a9i8n4">Maintainability</div> <!></div> <div class="metric-bar svelte-1a9i8n4"><div></div></div> <div class="metric-details svelte-1a9i8n4"><span>Modularity, documentation</span></div></div> <!> <!></div>',1),X=r('<div class="empty-state svelte-1a9i8n4"><p class="text-muted svelte-1a9i8n4">No quality metrics available. Start an evaluation to see metrics.</p></div>'),Y=r('<div class="quality-metrics svelte-1a9i8n4"><!></div>');var Z=r('<div class="pattern-notes svelte-w5sky8"> </div>'),ee=r('<div class="pattern-item svelte-w5sky8"><div class="pattern-header svelte-w5sky8"><span class="pattern-icon svelte-w5sky8"> </span> <span class="pattern-name svelte-w5sky8"> </span> <!></div> <!></div>'),se=r('<div class="compliance-section svelte-w5sky8"><h4 class="svelte-w5sky8">Architecture Patterns</h4> <div class="patterns-list svelte-w5sky8"></div></div>'),te=r('<li class="svelte-w5sky8"> </li>'),ae=r('<li class="text-muted svelte-w5sky8"> </li>'),ie=r('<div class="violations svelte-w5sky8"><div class="violations-header svelte-w5sky8"> </div> <ul class="violations-list svelte-w5sky8"><!> <!></ul></div>'),re=r('<div class="convention-item svelte-w5sky8"><div class="convention-header svelte-w5sky8"><span class="convention-icon svelte-w5sky8"> </span> <span class="convention-name svelte-w5sky8"> </span></div> <div class="convention-score svelte-w5sky8"> </div> <!></div>'),le=r('<div class="compliance-section svelte-w5sky8"><h4 class="svelte-w5sky8">Naming Conventions</h4> <div class="conventions-grid svelte-w5sky8"></div></div>'),ne=r('<li class="svelte-w5sky8"> </li>'),ce=r('<div class="structure-issues svelte-w5sky8"><div class="issues-header svelte-w5sky8">Issues:</div> <ul class="issues-list svelte-w5sky8"></ul></div>'),ve=r('<li class="svelte-w5sky8"> </li>'),oe=r('<div class="structure-suggestions svelte-w5sky8"><div class="suggestions-header svelte-w5sky8">Suggestions:</div> <ul class="suggestions-list svelte-w5sky8"></ul></div>'),de=r('<div class="compliance-section svelte-w5sky8"><h4 class="svelte-w5sky8">File Structure</h4> <div class="structure-card svelte-w5sky8"><div class="structure-header svelte-w5sky8"><span class="structure-icon svelte-w5sky8"> </span> <!></div> <!> <!></div></div>'),ue=r('<div class="standard-item svelte-w5sky8"><div class="standard-header svelte-w5sky8"><span class="standard-icon svelte-w5sky8"> </span> <span class="standard-name svelte-w5sky8"> </span></div> <div class="standard-status svelte-w5sky8"><!></div></div>'),me=r('<div class="compliance-section svelte-w5sky8"><h4 class="svelte-w5sky8">Code Standards</h4> <div class="standards-grid svelte-w5sky8"></div></div>'),pe=r('<div class="compliance-overview svelte-w5sky8"><div class="overview-header svelte-w5sky8"><h3 class="svelte-w5sky8">SAS Compliance Score</h3> <!></div> <div class="overview-status svelte-w5sky8"><span class="status-label svelte-w5sky8">Status:</span> <span> </span></div></div> <!> <!> <!> <!>',1),ge=r('<div class="empty-state svelte-w5sky8"><p class="text-muted svelte-w5sky8">No compliance data available. Start an evaluation to see SAS compliance.</p></div>'),ye=r('<div class="sas-compliance svelte-w5sky8"><!></div>');var he=r('<div class="summary-stat svelte-h9jmqb"><span class="stat-icon svelte-h9jmqb"> </span> <span class="stat-count svelte-h9jmqb"> </span> <span class="stat-label svelte-h9jmqb"> </span></div>'),qe=r('<span class="location-line svelte-h9jmqb"> </span>'),ke=r('<div class="review-location svelte-h9jmqb"><span class="location-icon svelte-h9jmqb">ğŸ“„</span> <span class="location-file svelte-h9jmqb"> </span> <!></div>'),fe=r('<div class="review-code svelte-h9jmqb"><div class="code-label svelte-h9jmqb">Code:</div> <pre class="code-block svelte-h9jmqb"><code> </code></pre></div>'),we=r('<div class="review-suggestion svelte-h9jmqb"><div class="suggestion-label svelte-h9jmqb">Suggestion:</div> <div class="suggestion-text svelte-h9jmqb"> </div></div>'),be=r('<div class="review-category svelte-h9jmqb"><!></div>'),_e=r('<div class="review-item svelte-h9jmqb"><div class="review-header svelte-h9jmqb"><div class="review-title svelte-h9jmqb"><span class="review-icon svelte-h9jmqb"> </span> <span class="review-message svelte-h9jmqb"> </span></div> <!></div> <!> <!> <!> <!></div>'),xe=r('<div class="review-summary svelte-h9jmqb"><h3 class="svelte-h9jmqb">Code Review Summary</h3> <div class="summary-stats svelte-h9jmqb"></div></div> <div class="reviews-list svelte-h9jmqb"></div>',1),$e=r('<div class="empty-state svelte-h9jmqb"><div class="empty-icon svelte-h9jmqb">âœ…</div> <p class="empty-title svelte-h9jmqb">No Issues Found</p> <p class="empty-description svelte-h9jmqb">The code review found no critical issues or suggestions.</p></div>'),Se=r('<div class="code-review svelte-h9jmqb"><!></div>');var je=r('<div class="summary-stat svelte-2kvzxr"><span class="stat-icon svelte-2kvzxr">ğŸ”´</span> <span class="stat-count svelte-2kvzxr"> </span> <span class="stat-label svelte-2kvzxr">High Priority</span></div>'),Ee=r('<div class="summary-stat svelte-2kvzxr"><span class="stat-icon svelte-2kvzxr">ğŸŸ¡</span> <span class="stat-count svelte-2kvzxr"> </span> <span class="stat-label svelte-2kvzxr">Medium Priority</span></div>'),ze=r('<div class="summary-stat svelte-2kvzxr"><span class="stat-icon svelte-2kvzxr">ğŸŸ¢</span> <span class="stat-count svelte-2kvzxr"> </span> <span class="stat-label svelte-2kvzxr">Low Priority</span></div>'),Ce=r('<div class="code-section svelte-2kvzxr"><div class="code-header svelte-2kvzxr"><span class="code-label svelte-2kvzxr">Current Code:</span></div> <pre class="code-block svelte-2kvzxr"><code> </code></pre></div>'),Ae=r('<div class="code-section svelte-2kvzxr"><div class="code-header svelte-2kvzxr"><span class="code-label svelte-2kvzxr">Suggested Code:</span> <!></div> <pre class="code-block suggested svelte-2kvzxr"><code> </code></pre></div>'),Ne=r('<div class="suggestion-rationale svelte-2kvzxr"><div class="rationale-label svelte-2kvzxr">Rationale:</div> <div class="rationale-text svelte-2kvzxr"> </div></div>'),Le=r('<div class="suggestion-effort svelte-2kvzxr"><span class="effort-label svelte-2kvzxr">Estimated Effort:</span> <span class="effort-value svelte-2kvzxr"> </span></div>'),Re=r('<div class="suggestion-category svelte-2kvzxr"><!></div>'),De=r('<div class="suggestion-item svelte-2kvzxr"><div class="suggestion-header svelte-2kvzxr"><div class="suggestion-title svelte-2kvzxr"><span class="suggestion-icon svelte-2kvzxr"> </span> <span class="suggestion-text svelte-2kvzxr"> </span></div> <div class="suggestion-badges svelte-2kvzxr"><!> <!></div></div> <div class="suggestion-description svelte-2kvzxr"> </div> <!> <!> <!> <!> <!></div>'),Pe=r('<div class="improvements-summary svelte-2kvzxr"><h3 class="svelte-2kvzxr"> </h3> <div class="summary-stats svelte-2kvzxr"><!> <!> <!></div></div> <div class="suggestions-list svelte-2kvzxr"></div>',1),Ie=r('<div class="empty-state svelte-2kvzxr"><div class="empty-icon svelte-2kvzxr">âœ¨</div> <p class="empty-title svelte-2kvzxr">No Improvements Suggested</p> <p class="empty-description svelte-2kvzxr">The code is already optimized and follows best practices.</p></div>'),Fe=r('<div class="improvements svelte-2kvzxr"><!></div>');function Oe(e,s){i(s,!0);const t=f(()=>()=>{const e={high:[],medium:[],low:[]};return s.suggestions.forEach(s=>{const t=s.priority.toLowerCase();e[t]&&e[t].push(s)}),e});var a=Fe(),r=l(a),m=e=>{var a=Pe(),i=d(a),r=l(i),o=l(r);c(r);var m=u(r,2),y=l(m),w=e=>{var s=je(),a=u(l(s),2),i=l(a,!0);c(a),p(2),c(s),q(e=>k(i,e),[()=>g(t)().high.length]),v(e,s)};n(y,e=>{g(t)().high.length>0&&e(w)});var b=u(y,2),_=e=>{var s=Ee(),a=u(l(s),2),i=l(a,!0);c(a),p(2),c(s),q(e=>k(i,e),[()=>g(t)().medium.length]),v(e,s)};n(b,e=>{g(t)().medium.length>0&&e(_)});var x=u(b,2),j=e=>{var s=ze(),a=u(l(s),2),i=l(a,!0);c(a),p(2),c(s),q(e=>k(i,e),[()=>g(t)().low.length]),v(e,s)};n(x,e=>{g(t)().low.length>0&&e(j)}),c(m),c(i);var E=u(i,2);$(E,21,()=>s.suggestions,S,(e,s)=>{var t=De(),a=l(t),i=l(a),r=l(i),o=l(r,!0);c(r);var d=u(r,2),m=l(d,!0);c(d),c(i);var y=u(i,2),w=l(y);{let e=f(()=>function(e){switch(e.toLowerCase()){case"high":return"danger";case"medium":return"warning";default:return"neutral"}}(g(s).priority));D(w,{get variant(){return g(e)},children:(e,t)=>{p();var a=h();q(()=>k(a,g(s).priority)),v(e,a)},$$slots:{default:!0}})}var b=u(w,2),_=e=>{D(e,{variant:"neutral",children:(e,t)=>{p();var a=h();q(e=>k(a,`${e??""} ${g(s).impact??""} Impact`),[()=>function(e){switch(e.toLowerCase()){case"high":return"âš¡";case"medium":default:return"ğŸ“Š";case"low":return"ğŸ“ˆ"}}(g(s).impact)]),v(e,a)},$$slots:{default:!0}})};n(b,e=>{g(s).impact&&e(_)}),c(y),c(a);var x=u(a,2),$=l(x,!0);c(x);var S=u(x,2),j=e=>{var t=Ce(),a=u(l(t),2),i=l(a),r=l(i,!0);c(i),c(a),c(t),q(()=>k(r,g(s).current_code)),v(e,t)};n(S,e=>{g(s).current_code&&e(j)});var E=u(S,2),z=e=>{var t=Ae(),a=l(t),i=u(l(a),2);A(i,{variant:"ghost",size:"sm",onclick:()=>async function(e){await navigator.clipboard.writeText(e)}(g(s).suggested_code||""),children:(e,s)=>{p();var t=h("Copy");v(e,t)},$$slots:{default:!0}}),c(a);var r=u(a,2),n=l(r),o=l(n,!0);c(n),c(r),c(t),q(()=>k(o,g(s).suggested_code)),v(e,t)};n(E,e=>{g(s).suggested_code&&e(z)});var C=u(E,2),N=e=>{var t=Ne(),a=u(l(t),2),i=l(a,!0);c(a),c(t),q(()=>k(i,g(s).rationale)),v(e,t)};n(C,e=>{g(s).rationale&&e(N)});var L=u(C,2),R=e=>{var t=Le(),a=u(l(t),2),i=l(a,!0);c(a),c(t),q(()=>k(i,g(s).effort)),v(e,t)};n(L,e=>{g(s).effort&&e(R)});var P=u(L,2),I=e=>{var t=Re(),a=l(t);D(a,{variant:"neutral",size:"sm",children:(e,t)=>{p();var a=h();q(()=>k(a,g(s).category)),v(e,a)},$$slots:{default:!0}}),c(t),v(e,t)};n(P,e=>{g(s).category&&e(I)}),c(t),q(e=>{k(o,e),k(m,g(s).title),k($,g(s).description)},[()=>function(e){switch(e.toLowerCase()){case"high":return"ğŸ”´";case"medium":return"ğŸŸ¡";case"low":return"ğŸŸ¢";default:return"âšª"}}(g(s).priority)]),v(e,t)}),c(E),q(()=>k(o,`Improvement Suggestions (${s.suggestions.length??""})`)),v(e,a)},y=e=>{var s=Ie();v(e,s)};n(r,e=>{s.suggestions.length>0?e(m):e(y,!1)}),c(a),v(e,a),o()}var Me=r('<div class="comparison-header svelte-1rkq4yi"><h3 class="svelte-1rkq4yi">Before & After Comparison</h3> <div class="comparison-meta"><!></div></div> <div class="comparison-grid svelte-1rkq4yi"><div class="comparison-column svelte-1rkq4yi"><div class="column-header svelte-1rkq4yi"><h4 class="svelte-1rkq4yi">Previous Evaluation</h4> <span class="column-date svelte-1rkq4yi"> </span></div> <div class="metrics-list svelte-1rkq4yi"><div class="metric-item svelte-1rkq4yi"><span class="metric-label svelte-1rkq4yi">Overall Quality</span> <span class="metric-value svelte-1rkq4yi"> </span></div> <div class="metric-item svelte-1rkq4yi"><span class="metric-label svelte-1rkq4yi">Code Quality</span> <span class="metric-value svelte-1rkq4yi"> </span></div> <div class="metric-item svelte-1rkq4yi"><span class="metric-label svelte-1rkq4yi">Performance</span> <span class="metric-value svelte-1rkq4yi"> </span></div> <div class="metric-item svelte-1rkq4yi"><span class="metric-label svelte-1rkq4yi">Security</span> <span class="metric-value svelte-1rkq4yi"> </span></div> <div class="metric-item svelte-1rkq4yi"><span class="metric-label svelte-1rkq4yi">Maintainability</span> <span class="metric-value svelte-1rkq4yi"> </span></div></div></div> <div class="comparison-column current svelte-1rkq4yi"><div class="column-header svelte-1rkq4yi"><h4 class="svelte-1rkq4yi">Current Evaluation</h4> <span class="column-date svelte-1rkq4yi"> </span></div> <div class="metrics-list svelte-1rkq4yi"><div class="metric-item svelte-1rkq4yi"><span class="metric-label svelte-1rkq4yi">Overall Quality</span> <div class="metric-with-change svelte-1rkq4yi"><span class="metric-value svelte-1rkq4yi"> </span> <span> </span></div></div> <div class="metric-item svelte-1rkq4yi"><span class="metric-label svelte-1rkq4yi">Code Quality</span> <div class="metric-with-change svelte-1rkq4yi"><span class="metric-value svelte-1rkq4yi"> </span> <span> </span></div></div> <div class="metric-item svelte-1rkq4yi"><span class="metric-label svelte-1rkq4yi">Performance</span> <div class="metric-with-change svelte-1rkq4yi"><span class="metric-value svelte-1rkq4yi"> </span> <span> </span></div></div> <div class="metric-item svelte-1rkq4yi"><span class="metric-label svelte-1rkq4yi">Security</span> <div class="metric-with-change svelte-1rkq4yi"><span class="metric-value svelte-1rkq4yi"> </span> <span> </span></div></div> <div class="metric-item svelte-1rkq4yi"><span class="metric-label svelte-1rkq4yi">Maintainability</span> <div class="metric-with-change svelte-1rkq4yi"><span class="metric-value svelte-1rkq4yi"> </span> <span> </span></div></div></div></div></div>',1),Te=r('<div class="empty-state svelte-1rkq4yi"><div class="empty-icon svelte-1rkq4yi">ğŸ“Š</div> <p class="empty-title svelte-1rkq4yi">No Comparison Available</p> <p class="empty-description svelte-1rkq4yi">Run at least two evaluations to compare results.</p></div>'),Ue=r('<div class="comparison-view svelte-1rkq4yi"><!></div>');var Be=r('<div class="stat svelte-1po5ep0"><span class="stat-icon svelte-1po5ep0">ğŸ”</span> <span class="stat-value svelte-1po5ep0"> </span> <span class="stat-label svelte-1po5ep0">reviews</span></div>'),Ge=r('<div class="stat svelte-1po5ep0"><span class="stat-icon svelte-1po5ep0">ğŸ’¡</span> <span class="stat-value svelte-1po5ep0"> </span> <span class="stat-label svelte-1po5ep0">suggestions</span></div>'),Qe=r('<div class="session-quality svelte-1po5ep0"><div class="quality-bar svelte-1po5ep0"><div></div></div></div>'),Ve=r('<div class="session-stats svelte-1po5ep0"><div class="stat svelte-1po5ep0"><span class="stat-icon svelte-1po5ep0">ğŸ“Š</span> <span class="stat-value svelte-1po5ep0"> </span> <span class="stat-label svelte-1po5ep0">overall</span></div> <!> <!></div> <!>',1),He=r('<div class="session-error svelte-1po5ep0"><svg width="14" height="14" viewBox="0 0 16 16" fill="currentColor"><path d="M8 0a8 8 0 1 0 0 16A8 8 0 0 0 8 0zM7 4h2v5H7V4zm0 6h2v2H7v-2z"></path></svg> <span> </span></div>'),We=r('<div role="button" tabindex="0"><div class="session-header svelte-1po5ep0"><div class="session-info svelte-1po5ep0"><span class="session-icon svelte-1po5ep0"> </span> <div class="session-title-group svelte-1po5ep0"><div class="session-title svelte-1po5ep0"> </div> <div class="session-meta svelte-1po5ep0"><span class="session-date"> </span></div></div></div> <!></div> <!> <!> <div class="session-actions svelte-1po5ep0"><!> <!></div></div>'),Je=r('<div class="history-header svelte-1po5ep0"><h3 class="svelte-1po5ep0"> </h3> <!></div> <div class="sessions-list svelte-1po5ep0"></div>',1),Ke=r('<div class="empty-state svelte-1po5ep0"><div class="empty-icon svelte-1po5ep0">ğŸ“‹</div> <p class="empty-title svelte-1po5ep0">No evaluation history</p> <p class="empty-description svelte-1po5ep0">Start an evaluation to see your history here.</p></div>'),Xe=r('<div class="evaluation-history svelte-1po5ep0"><!></div>');function Ye(s,t){i(t,!0);const a=f(()=>I.sessions);function r(e){I.setCurrentSession(e)}var m=Xe(),y=l(m),w=s=>{var t=Je(),i=d(t),o=l(i),m=l(o);c(o);var y=u(o,2);A(y,{variant:"ghost",size:"sm",onclick:()=>I.clearAll(),children:(e,s)=>{p();var t=h("Clear All");v(e,t)},$$slots:{default:!0}}),c(i);var w=u(i,2);$(w,21,()=>g(a),S,(s,t)=>{const a=f(()=>I.currentSession?.id===g(t).id);var i=We();let o;i.__click=()=>r(g(t).id),i.__keydown=e=>"Enter"===e.key&&r(g(t).id);var m=l(i),y=l(m),w=l(y),b=l(w,!0);c(w);var $=u(w,2),S=l($),j=l(S);c(S);var E=u(S,2),z=l(E),C=l(z,!0);c(z),c(E),c($),c(y);var N=u(y,2);{let s=f(()=>function(s){switch(s){case e.COMPLETED:return"success";case e.RUNNING:return"warning";case e.FAILED:case e.CANCELLED:return"danger";default:return"neutral"}}(g(t).status));D(N,{get variant(){return g(s)},children:(e,s)=>{p();var a=h();q(()=>k(a,g(t).status)),v(e,a)},$$slots:{default:!0}})}c(m);var L=u(m,2),R=e=>{var s=Ve(),a=d(s),i=l(a),r=u(l(i),2),o=l(r,!0);c(r),p(2),c(i);var m=u(i,2),y=e=>{var s=Be(),a=u(l(s),2),i=l(a,!0);c(a),p(2),c(s),q(()=>k(i,g(t).assessment.code_review.length)),v(e,s)};n(m,e=>{g(t).assessment.code_review&&e(y)});var h=u(m,2),f=e=>{var s=Ge(),a=u(l(s),2),i=l(a,!0);c(a),p(2),c(s),q(()=>k(i,g(t).assessment.improvements.length)),v(e,s)};n(h,e=>{g(t).assessment.improvements&&e(f)}),c(a);var w=u(a,2),b=e=>{var s=Qe(),a=l(s),i=l(a);let r;c(a),c(s),q(()=>{r=_(i,1,"quality-bar-fill svelte-1po5ep0",null,r,{excellent:g(t).assessment.quality_metrics.overall>=.8,good:g(t).assessment.quality_metrics.overall>=.6&&g(t).assessment.quality_metrics.overall<.8,poor:g(t).assessment.quality_metrics.overall<.6}),x(i,`width: ${100*g(t).assessment.quality_metrics.overall}%`)}),v(e,s)};n(w,e=>{g(t).assessment.quality_metrics&&e(b)}),q(e=>k(o,e),[()=>O(g(t).assessment.quality_metrics.overall)]),v(e,s)};n(L,e=>{g(t).assessment&&e(R)});var P=u(L,2),F=e=>{var s=He(),a=u(l(s),2),i=l(a,!0);c(a),c(s),q(()=>k(i,g(t).error)),v(e,s)};n(P,e=>{g(t).error&&e(F)});var M=u(P,2),T=l(M);A(T,{variant:"ghost",size:"sm",onclick:e=>{e.stopPropagation(),r(g(t).id)},children:(e,s)=>{p();var t=h("View Details");v(e,t)},$$slots:{default:!0}});var U=u(T,2);A(U,{variant:"ghost",size:"sm",onclick:e=>{var s;e.stopPropagation(),s=g(t).id,confirm("Are you sure you want to delete this evaluation session?")&&I.deleteSession(s)},children:(e,s)=>{p();var t=h("Delete");v(e,t)},$$slots:{default:!0}}),c(M),c(i),q((e,s,t)=>{o=_(i,1,"session-card svelte-1po5ep0",null,o,{active:g(a)}),k(b,e),k(j,`Evaluation #${s??""}`),k(C,t)},[()=>function(s){switch(s){case e.COMPLETED:return"âœ…";case e.RUNNING:return"â³";case e.FAILED:return"âŒ";case e.CANCELLED:return"ğŸš«";default:return"â¸ï¸"}}(g(t).status),()=>g(t).id.split("_")[1],()=>{return e=g(t).createdAt,new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}).format(e);var e}]),v(s,i)}),c(w),q(()=>k(m,`Past Evaluations (${g(a).length??""})`)),v(s,t)},b=e=>{var s=Ke();v(e,s)};n(y,e=>{g(a).length>0?e(w):e(b,!1)}),c(m),v(s,m),o()}E(["click","keydown"]);var Ze=r('<div class="progress-message svelte-1q9gdpq"><div class="spinner svelte-1q9gdpq"></div> <p class="svelte-1q9gdpq">Analyzing code quality and compliance...</p></div>'),es=r('<div class="results-container svelte-1q9gdpq"><!> <!> <!> <!> <!></div>'),ss=r('<p class="error-message svelte-1q9gdpq"> </p>'),ts=r('<div class="error-state svelte-1q9gdpq"><svg width="48" height="48" viewBox="0 0 16 16" fill="currentColor" class="svelte-1q9gdpq"><path d="M8 0a8 8 0 1 0 0 16A8 8 0 0 0 8 0zM7 4h2v5H7V4zm0 6h2v2H7v-2z"></path></svg> <h3 class="svelte-1q9gdpq">Evaluation Failed</h3> <!></div>'),as=r('<div class="empty-state svelte-1q9gdpq"><div class="empty-icon svelte-1q9gdpq">ğŸ”</div> <h2 class="svelte-1q9gdpq">Start an Evaluation Session</h2> <p class="svelte-1q9gdpq">Load execution results from the Execution Agent to begin quality assessment.</p></div>'),is=r('<div class="evaluator-page svelte-1q9gdpq"><header class="page-header svelte-1q9gdpq"><h1 class="svelte-1q9gdpq">Evaluator Agent</h1> <p class="text-muted svelte-1q9gdpq">Assess quality and SAS compliance</p></header> <div class="content-grid svelte-1q9gdpq"><div class="left-column svelte-1q9gdpq"><!> <!></div> <div class="right-column svelte-1q9gdpq"><!></div></div></div>');function rs(s,t){i(t,!0);const a=f(()=>I.currentSession),r=f(()=>I.sessions.filter(s=>s.status===e.COMPLETED).slice(-2,-1)[0]||null);z(s,{children:(s,t)=>{var E=is(),z=u(l(E),2),L=l(z),R=l(L);C(R,{title:"New Evaluation Request",children:(e,s)=>{!function(e,s){i(s,!0);let t=y(!0),a=y(!0),r=y(!0),_=y(!0),x=y(!0),$=y(!0),S=y(null),j=y(!1);const E=f(()=>g(t)||g(a)||g(r)||g(_)||g(x)||g($));async function z(){if(s.executionResult)if(g(E)){b(S,null),b(j,!0);try{const e=[];g(t)&&e.push("code_quality"),g(a)&&e.push("sas_compliance"),g(r)&&e.push("performance"),g(_)&&e.push("security"),g(x)&&e.push("maintainability"),g($)&&e.push("test_coverage");const i=await F({executionSessionId:s.executionSessionId,executionResult:s.executionResult,criteria:e});i.success||b(S,i.error?.message||"Failed to start evaluation",!0)}catch(e){b(S,e instanceof Error?e.message:"An unknown error occurred",!0)}finally{b(j,!1)}}else b(S,"Please select at least one evaluation criterion");else b(S,"No execution result to evaluate")}var C=H(),L=l(C),R=e=>{var i=Q(),o=d(i),y=u(l(o),2),C=l(y),L=e=>{var t=U(),a=u(l(t),2),i=l(a,!0);c(a),p(2),c(t),q(()=>k(i,s.executionResult.filesModified.length)),v(e,t)};n(C,e=>{s.executionResult.filesModified&&e(L)});var R=u(C,2),D=e=>{var t=B(),a=u(l(t),2),i=l(a);c(a),p(2),c(t),q(()=>k(i,`${s.executionResult.testResults.passed??""}/${s.executionResult.testResults.total??""}`)),v(e,t)};n(R,e=>{s.executionResult.testResults&&e(D)});var P=u(R,2),I=e=>{var t=G(),a=u(l(t),2),i=l(a,!0);c(a),p(2),c(t),q(e=>k(i,e),[()=>s.executionResult.metrics.duration<1e3?`${s.executionResult.metrics.duration}ms`:`${(s.executionResult.metrics.duration/1e3).toFixed(1)}s`]),v(e,t)};n(P,e=>{s.executionResult.metrics&&e(I)}),c(y),c(o);var F=u(o,2),O=u(l(F),4),M=l(O),T=l(M);m(T),p(2),c(M);var V=u(M,2),H=l(V);m(H),p(2),c(V);var W=u(V,2),J=l(W);m(J),p(2),c(W);var K=u(W,2),X=l(K);m(X),p(2),c(K);var Y=u(K,2),Z=l(Y);m(Z),p(2),c(Y);var ee=u(Y,2),se=l(ee);m(se),p(2),c(ee),c(O),c(F);var te=u(F,2),ae=e=>{N(e,{variant:"error",children:(e,s)=>{p();var t=h();q(()=>k(t,g(S))),v(e,t)},$$slots:{default:!0}})};n(te,e=>{g(S)&&e(ae)});var ie=u(te,2);{let e=f(()=>g(j)||!g(E));A(ie,{onclick:z,get disabled(){return g(e)},fullWidth:!0,children:(e,s)=>{p();var t=h();q(()=>k(t,g(j)?"Starting Evaluation...":"Evaluate Code")),v(e,t)},$$slots:{default:!0}})}w(T,()=>g(t),e=>b(t,e)),w(H,()=>g(a),e=>b(a,e)),w(J,()=>g(r),e=>b(r,e)),w(X,()=>g(_),e=>b(_,e)),w(Z,()=>g(x),e=>b(x,e)),w(se,()=>g($),e=>b($,e)),v(e,i)},D=e=>{var s=V();v(e,s)};n(L,e=>{s.executionResult?e(R):e(D,!1)}),c(C),v(e,C),o()}(e,{})},$$slots:{default:!0}});var P=u(R,2),I=e=>{C(e,{title:"Evaluation History",class:"mt-6",children:(e,s)=>{Ye(e,{})},$$slots:{default:!0}})};n(P,e=>{g(a)&&e(I)}),c(L);var je=u(L,2),Ee=l(je),ze=s=>{var t=j(),m=d(t),y=e=>{C(e,{title:"Evaluation in Progress",children:(e,s)=>{var t=Ze();v(e,t)},$$slots:{default:!0}})},w=s=>{var t=j(),m=d(t),y=e=>{var s=es(),t=l(s);C(t,{title:"Quality Metrics",children:(e,s)=>{!function(e,s){i(s,!0);var t=Y(),a=l(t),r=e=>{var t=K(),a=d(t),i=l(a);let r;var o=l(i),m=l(o,!0);c(o);var y=u(o,2),w=l(y,!0);c(y),c(i),p(2),c(a);var b=u(a,2),$=l(b),S=l($),j=u(l(S),2);{let e=f(()=>M(s.metrics.code_quality));D(j,{get variant(){return g(e)},children:(e,t)=>{p();var a=h();q(e=>k(a,e),[()=>O(s.metrics.code_quality)]),v(e,a)},$$slots:{default:!0}})}c(S);var E=u(S,2),z=l(E);let C;c(E),p(2),c($);var A=u($,2),N=l(A),L=u(l(N),2);{let e=f(()=>M(s.metrics.performance));D(L,{get variant(){return g(e)},children:(e,t)=>{p();var a=h();q(e=>k(a,e),[()=>O(s.metrics.performance)]),v(e,a)},$$slots:{default:!0}})}c(N);var R=u(N,2),P=l(R);let I;c(R),p(2),c(A);var F=u(A,2),T=l(F),U=u(l(T),2);{let e=f(()=>M(s.metrics.security));D(U,{get variant(){return g(e)},children:(e,t)=>{p();var a=h();q(e=>k(a,e),[()=>O(s.metrics.security)]),v(e,a)},$$slots:{default:!0}})}c(T);var B=u(T,2),G=l(B);let Q;c(B),p(2),c(F);var V=u(F,2),H=l(V),X=u(l(H),2);{let e=f(()=>M(s.metrics.maintainability));D(X,{get variant(){return g(e)},children:(e,t)=>{p();var a=h();q(e=>k(a,e),[()=>O(s.metrics.maintainability)]),v(e,a)},$$slots:{default:!0}})}c(H);var Y=u(H,2),Z=l(Y);let ee;c(Y),p(2),c(V);var se=u(V,2),te=e=>{var t=W(),a=l(t),i=u(l(a),2);{let e=f(()=>M(s.metrics.test_coverage));D(i,{get variant(){return g(e)},children:(e,t)=>{p();var a=h();q(e=>k(a,e),[()=>O(s.metrics.test_coverage)]),v(e,a)},$$slots:{default:!0}})}c(a);var r=u(a,2),n=l(r);let o;c(r),p(2),c(t),q(()=>{o=_(n,1,"metric-bar-fill svelte-1a9i8n4",null,o,{success:s.metrics.test_coverage>=.8,warning:s.metrics.test_coverage>=.6&&s.metrics.test_coverage<.8,danger:s.metrics.test_coverage<.6}),x(n,`width: ${100*s.metrics.test_coverage}%`)}),v(e,t)};n(se,e=>{void 0!==s.metrics.test_coverage&&e(te)});var ae=u(se,2),ie=e=>{var t=J(),a=l(t),i=u(l(a),2);{let e=f(()=>"low"===s.metrics.complexity?"success":"medium"===s.metrics.complexity?"warning":"danger");D(i,{get variant(){return g(e)},children:(e,t)=>{p();var a=h();q(e=>k(a,e),[()=>s.metrics.complexity.toUpperCase()]),v(e,a)},$$slots:{default:!0}})}c(a),p(2),c(t),v(e,t)};n(ae,e=>{s.metrics.complexity&&e(ie)}),c(b),q((e,t)=>{r=_(i,1,"score-circle svelte-1a9i8n4",null,r,{excellent:s.metrics.overall>=.8,good:s.metrics.overall>=.6&&s.metrics.overall<.8,poor:s.metrics.overall<.6}),k(m,e),k(w,t),C=_(z,1,"metric-bar-fill svelte-1a9i8n4",null,C,{success:s.metrics.code_quality>=.8,warning:s.metrics.code_quality>=.6&&s.metrics.code_quality<.8,danger:s.metrics.code_quality<.6}),x(z,`width: ${100*s.metrics.code_quality}%`),I=_(P,1,"metric-bar-fill svelte-1a9i8n4",null,I,{success:s.metrics.performance>=.8,warning:s.metrics.performance>=.6&&s.metrics.performance<.8,danger:s.metrics.performance<.6}),x(P,`width: ${100*s.metrics.performance}%`),Q=_(G,1,"metric-bar-fill svelte-1a9i8n4",null,Q,{success:s.metrics.security>=.8,warning:s.metrics.security>=.6&&s.metrics.security<.8,danger:s.metrics.security<.6}),x(G,`width: ${100*s.metrics.security}%`),ee=_(Z,1,"metric-bar-fill svelte-1a9i8n4",null,ee,{success:s.metrics.maintainability>=.8,warning:s.metrics.maintainability>=.6&&s.metrics.maintainability<.8,danger:s.metrics.maintainability<.6}),x(Z,`width: ${100*s.metrics.maintainability}%`)},[()=>{return(e=s.metrics.overall)>=.9?"A":e>=.8?"B":e>=.7?"C":e>=.6?"D":"F";var e},()=>O(s.metrics.overall)]),v(e,t)},m=e=>{var s=X();v(e,s)};n(a,e=>{s.metrics?e(r):e(m,!1)}),c(t),v(e,t),o()}(e,{get metrics(){return g(a).assessment.quality_metrics}})},$$slots:{default:!0}});var m=u(t,2),y=e=>{C(e,{title:"SAS Compliance",class:"mt-6",children:(e,s)=>{!function(e,s){function t(e){return e?"âœ…":"âŒ"}i(s,!0);var a=ye(),r=l(a),m=e=>{var a=pe(),i=d(a),r=l(i),o=u(l(r),2);{let e=f(()=>{return(e=s.compliance.overall_score)>=.9?"success":e>=.7?"warning":"danger";var e});D(o,{get variant(){return g(e)},children:(e,t)=>{p();var a=h();q(e=>k(a,e),[()=>O(s.compliance.overall_score)]),v(e,a)},$$slots:{default:!0}})}c(r);var m=u(r,2),y=u(l(m),2);let w;var b=l(y,!0);c(y),c(m),c(i);var x=u(i,2),j=e=>{var a=se(),i=u(l(a),2);$(i,21,()=>s.compliance.architecture_patterns,S,(e,s)=>{var a=ee(),i=l(a),r=l(i),o=l(r,!0);c(r);var d=u(r,2),m=l(d,!0);c(d);var y=u(d,2);{let e=f(()=>g(s).compliant?"success":"danger");D(y,{get variant(){return g(e)},children:(e,t)=>{p();var a=h();q(()=>k(a,g(s).compliant?"Compliant":"Non-Compliant")),v(e,a)},$$slots:{default:!0}})}c(i);var w=u(i,2),b=e=>{var t=Z(),a=l(t,!0);c(t),q(()=>k(a,g(s).notes)),v(e,t)};n(w,e=>{g(s).notes&&e(b)}),c(a),q(e=>{k(o,e),k(m,g(s).pattern)},[()=>t(g(s).compliant)]),v(e,a)}),c(i),c(a),v(e,a)};n(x,e=>{s.compliance.architecture_patterns&&e(j)});var E=u(x,2),z=e=>{var a=le(),i=u(l(a),2);$(i,21,()=>s.compliance.naming_conventions,S,(e,s)=>{var a=re(),i=l(a),r=l(i),o=l(r,!0);c(r);var d=u(r,2),m=l(d,!0);c(d),c(i);var p=u(i,2),y=l(p,!0);c(p);var h=u(p,2),f=e=>{var t=ie(),a=l(t),i=l(a);c(a);var r=u(a,2),o=l(r);$(o,17,()=>g(s).violations.slice(0,3),S,(e,s)=>{var t=te(),a=l(t,!0);c(t),q(()=>k(a,g(s))),v(e,t)});var d=u(o,2),m=e=>{var t=ae(),a=l(t);c(t),q(()=>k(a,`+${g(s).violations.length-3} more`)),v(e,t)};n(d,e=>{g(s).violations.length>3&&e(m)}),c(r),c(t),q(()=>k(i,`Violations (${g(s).violations.length??""}):`)),v(e,t)};n(h,e=>{g(s).violations&&g(s).violations.length>0&&e(f)}),c(a),q((e,t)=>{k(o,e),k(m,g(s).category),k(y,t)},[()=>t(g(s).compliant),()=>O(g(s).score)]),v(e,a)}),c(i),c(a),v(e,a)};n(E,e=>{s.compliance.naming_conventions&&e(z)});var C=u(E,2),A=e=>{var a=de(),i=u(l(a),2),r=l(i),o=l(r),d=l(o,!0);c(o);var m=u(o,2);{let e=f(()=>s.compliance.file_structure.compliant?"success":"warning");D(m,{get variant(){return g(e)},children:(e,t)=>{p();var a=h();q(()=>k(a,s.compliance.file_structure.compliant?"Compliant":"Issues Found")),v(e,a)},$$slots:{default:!0}})}c(r);var y=u(r,2),w=e=>{var t=ce(),a=u(l(t),2);$(a,21,()=>s.compliance.file_structure.issues,S,(e,s)=>{var t=ne(),a=l(t,!0);c(t),q(()=>k(a,g(s))),v(e,t)}),c(a),c(t),v(e,t)};n(y,e=>{s.compliance.file_structure.issues&&s.compliance.file_structure.issues.length>0&&e(w)});var b=u(y,2),_=e=>{var t=oe(),a=u(l(t),2);$(a,21,()=>s.compliance.file_structure.suggestions,S,(e,s)=>{var t=ve(),a=l(t,!0);c(t),q(()=>k(a,g(s))),v(e,t)}),c(a),c(t),v(e,t)};n(b,e=>{s.compliance.file_structure.suggestions&&s.compliance.file_structure.suggestions.length>0&&e(_)}),c(i),c(a),q(e=>k(d,e),[()=>t(s.compliance.file_structure.compliant)]),v(e,a)};n(C,e=>{s.compliance.file_structure&&e(A)});var N=u(C,2),L=e=>{var a=me(),i=u(l(a),2);$(i,21,()=>s.compliance.code_standards,S,(e,s)=>{var a=ue(),i=l(a),r=l(i),n=l(r,!0);c(r);var o=u(r,2),d=l(o,!0);c(o),c(i);var m=u(i,2),y=l(m);{let e=f(()=>g(s).compliant?"success":"danger");D(y,{get variant(){return g(e)},children:(e,t)=>{p();var a=h();q(()=>k(a,g(s).compliant?"Pass":"Fail")),v(e,a)},$$slots:{default:!0}})}c(m),c(a),q(e=>{k(n,e),k(d,g(s).standard)},[()=>t(g(s).compliant)]),v(e,a)}),c(i),c(a),v(e,a)};n(N,e=>{s.compliance.code_standards&&e(L)}),q((e,s)=>{w=_(y,1,"status-value svelte-w5sky8",null,w,e),k(b,s)},[()=>({compliant:"compliant"===T(s.compliance.overall_score),partial:"partial"===T(s.compliance.overall_score),"non-compliant":"non-compliant"===T(s.compliance.overall_score)}),()=>"compliant"===T(s.compliance.overall_score)?"Fully Compliant":"partial"===T(s.compliance.overall_score)?"Partially Compliant":"Non-Compliant"]),v(e,a)},y=e=>{var s=ge();v(e,s)};n(r,e=>{s.compliance?e(m):e(y,!1)}),c(a),v(e,a),o()}(e,{get compliance(){return g(a).assessment.sas_compliance}})},$$slots:{default:!0}})};n(m,e=>{g(a).assessment.sas_compliance&&e(y)});var w=u(m,2),b=e=>{C(e,{title:"Code Review",class:"mt-6",children:(e,s)=>{!function(e,s){function t(e){switch(e.toLowerCase()){case"critical":case"error":return"ğŸ”´";case"warning":return"ğŸŸ¡";case"info":return"ğŸ”µ";case"suggestion":return"ğŸ’¡";default:return"âšª"}}i(s,!0);const a=f(()=>()=>{const e={};return s.reviews.forEach(s=>{const t=s.severity.toLowerCase();e[t]||(e[t]=[]),e[t].push(s)}),e}),r=["critical","error","warning","info","suggestion"];var m=Se(),y=l(m),w=e=>{var i=xe(),o=d(i),m=u(l(o),2);$(m,21,()=>r,S,(e,s)=>{const i=f(()=>g(a)()[g(s)]?.length||0);var r=j(),o=d(r),m=e=>{var a=he(),r=l(a),n=l(r,!0);c(r);var o=u(r,2),d=l(o,!0);c(o);var m=u(o,2),p=l(m,!0);c(m),c(a),q(e=>{k(n,e),k(d,g(i)),k(p,g(s))},[()=>t(g(s))]),v(e,a)};n(o,e=>{g(i)>0&&e(m)}),v(e,r)}),c(m),c(o);var y=u(o,2);$(y,21,()=>s.reviews,S,(e,s)=>{var a=_e(),i=l(a),r=l(i),o=l(r),d=l(o,!0);c(o);var m=u(o,2),y=l(m,!0);c(m),c(r);var w=u(r,2);{let e=f(()=>function(e){switch(e.toLowerCase()){case"critical":case"error":return"danger";case"warning":return"warning";case"info":default:return"neutral";case"suggestion":return"success"}}(g(s).severity));D(w,{get variant(){return g(e)},children:(e,t)=>{p();var a=h();q(()=>k(a,g(s).severity)),v(e,a)},$$slots:{default:!0}})}c(i);var b=u(i,2),_=e=>{var t=ke(),a=u(l(t),2),i=l(a,!0);c(a);var r=u(a,2),o=e=>{var t=qe(),a=l(t);c(t),q(()=>k(a,`Line ${g(s).line??""}`)),v(e,t)};n(r,e=>{g(s).line&&e(o)}),c(t),q(()=>k(i,g(s).file)),v(e,t)};n(b,e=>{g(s).file&&e(_)});var x=u(b,2),$=e=>{var t=fe(),a=u(l(t),2),i=l(a),r=l(i,!0);c(i),c(a),c(t),q(()=>k(r,g(s).code)),v(e,t)};n(x,e=>{g(s).code&&e($)});var S=u(x,2),j=e=>{var t=we(),a=u(l(t),2),i=l(a,!0);c(a),c(t),q(()=>k(i,g(s).suggestion)),v(e,t)};n(S,e=>{g(s).suggestion&&e(j)});var E=u(S,2),z=e=>{var t=be(),a=l(t);D(a,{variant:"neutral",size:"sm",children:(e,t)=>{p();var a=h();q(()=>k(a,g(s).category)),v(e,a)},$$slots:{default:!0}}),c(t),v(e,t)};n(E,e=>{g(s).category&&e(z)}),c(a),q(e=>{k(d,e),k(y,g(s).message)},[()=>t(g(s).severity)]),v(e,a)}),c(y),v(e,i)},b=e=>{var s=$e();v(e,s)};n(y,e=>{s.reviews.length>0?e(w):e(b,!1)}),c(m),v(e,m),o()}(e,{get reviews(){return g(a).assessment.code_review}})},$$slots:{default:!0}})};n(w,e=>{g(a).assessment.code_review&&g(a).assessment.code_review.length>0&&e(b)});var E=u(w,2),z=e=>{C(e,{title:"Improvement Suggestions",class:"mt-6",children:(e,s)=>{Oe(e,{get suggestions(){return g(a).assessment.improvements}})},$$slots:{default:!0}})};n(E,e=>{g(a).assessment.improvements&&g(a).assessment.improvements.length>0&&e(z)});var A=u(E,2),N=e=>{C(e,{title:"Comparison with Previous",class:"mt-6",children:(e,s)=>{!function(e,s){function t(e,s){return(e-s)/s*100}i(s,!0);const a=f(()=>s.current&&s.previous&&s.current.assessment&&s.previous.assessment&&s.current.assessment.quality_metrics.overall>s.previous.assessment.quality_metrics.overall);var r=Ue(),m=l(r),y=e=>{var i=Me(),r=d(i),n=u(l(r),2),o=l(n);{let e=f(()=>g(a)?"success":"warning");D(o,{get variant(){return g(e)},children:(e,s)=>{p();var t=h();q(()=>k(t,g(a)?"Improved":"Declined")),v(e,t)},$$slots:{default:!0}})}c(n),c(r);var m=u(r,2),y=l(m),w=l(y),b=u(l(w),2),x=l(b,!0);c(b),c(w);var $=u(w,2),S=l($),j=u(l(S),2),E=l(j);c(j),c(S);var z=u(S,2),C=u(l(z),2),A=l(C);c(C),c(z);var N=u(z,2),L=u(l(N),2),R=l(L);c(L),c(N);var P=u(N,2),I=u(l(P),2),F=l(I);c(I),c(P);var O=u(P,2),M=u(l(O),2),T=l(M);c(M),c(O),c($),c(y);var U=u(y,2),B=l(U),G=u(l(B),2),Q=l(G,!0);c(G),c(B);var V=u(B,2),H=l(V),W=u(l(H),2),J=l(W),K=l(J);c(J);var X=u(J,2);let Y;var Z=l(X,!0);c(X),c(W),c(H);var ee=u(H,2),se=u(l(ee),2),te=l(se),ae=l(te);c(te);var ie=u(te,2);let re;var le=l(ie,!0);c(ie),c(se),c(ee);var ne=u(ee,2),ce=u(l(ne),2),ve=l(ce),oe=l(ve);c(ve);var de=u(ve,2);let ue;var me=l(de,!0);c(de),c(ce),c(ne);var pe=u(ne,2),ge=u(l(pe),2),ye=l(ge),he=l(ye);c(ye);var qe=u(ye,2);let ke;var fe=l(qe,!0);c(qe),c(ge),c(pe);var we=u(pe,2),be=u(l(we),2),_e=l(be),xe=l(_e);c(_e);var $e=u(_e,2);let Se;var je=l($e,!0);c($e),c(be),c(we),c(V),c(U),c(m),q((e,s,t,a,i,r,l,n,c,v,o,d,u,m,p,g,y,h,q,f,w,b)=>{k(x,e),k(E,`${s??""}%`),k(A,`${t??""}%`),k(R,`${a??""}%`),k(F,`${i??""}%`),k(T,`${r??""}%`),k(Q,l),k(K,`${n??""}%`),Y=_(X,1,"metric-change svelte-1rkq4yi",null,Y,c),k(Z,v),k(ae,`${o??""}%`),re=_(ie,1,"metric-change svelte-1rkq4yi",null,re,d),k(le,u),k(oe,`${m??""}%`),ue=_(de,1,"metric-change svelte-1rkq4yi",null,ue,p),k(me,g),k(he,`${y??""}%`),ke=_(qe,1,"metric-change svelte-1rkq4yi",null,ke,h),k(fe,q),k(xe,`${f??""}%`),Se=_($e,1,"metric-change svelte-1rkq4yi",null,Se,w),k(je,b)},[()=>new Date(s.previous.createdAt).toLocaleDateString(),()=>(100*s.previous.assessment.quality_metrics.overall).toFixed(1),()=>(100*s.previous.assessment.quality_metrics.code_quality).toFixed(1),()=>(100*s.previous.assessment.quality_metrics.performance).toFixed(1),()=>(100*s.previous.assessment.quality_metrics.security).toFixed(1),()=>(100*s.previous.assessment.quality_metrics.maintainability).toFixed(1),()=>new Date(s.current.createdAt).toLocaleDateString(),()=>(100*s.current.assessment.quality_metrics.overall).toFixed(1),()=>({positive:t(s.current.assessment.quality_metrics.overall,s.previous.assessment.quality_metrics.overall)>=0,negative:t(s.current.assessment.quality_metrics.overall,s.previous.assessment.quality_metrics.overall)<0}),()=>formatImprovement(t(s.current.assessment.quality_metrics.overall,s.previous.assessment.quality_metrics.overall)),()=>(100*s.current.assessment.quality_metrics.code_quality).toFixed(1),()=>({positive:t(s.current.assessment.quality_metrics.code_quality,s.previous.assessment.quality_metrics.code_quality)>=0,negative:t(s.current.assessment.quality_metrics.code_quality,s.previous.assessment.quality_metrics.code_quality)<0}),()=>formatImprovement(t(s.current.assessment.quality_metrics.code_quality,s.previous.assessment.quality_metrics.code_quality)),()=>(100*s.current.assessment.quality_metrics.performance).toFixed(1),()=>({positive:t(s.current.assessment.quality_metrics.performance,s.previous.assessment.quality_metrics.performance)>=0,negative:t(s.current.assessment.quality_metrics.performance,s.previous.assessment.quality_metrics.performance)<0}),()=>formatImprovement(t(s.current.assessment.quality_metrics.performance,s.previous.assessment.quality_metrics.performance)),()=>(100*s.current.assessment.quality_metrics.security).toFixed(1),()=>({positive:t(s.current.assessment.quality_metrics.security,s.previous.assessment.quality_metrics.security)>=0,negative:t(s.current.assessment.quality_metrics.security,s.previous.assessment.quality_metrics.security)<0}),()=>formatImprovement(t(s.current.assessment.quality_metrics.security,s.previous.assessment.quality_metrics.security)),()=>(100*s.current.assessment.quality_metrics.maintainability).toFixed(1),()=>({positive:t(s.current.assessment.quality_metrics.maintainability,s.previous.assessment.quality_metrics.maintainability)>=0,negative:t(s.current.assessment.quality_metrics.maintainability,s.previous.assessment.quality_metrics.maintainability)<0}),()=>formatImprovement(t(s.current.assessment.quality_metrics.maintainability,s.previous.assessment.quality_metrics.maintainability))]),v(e,i)},w=e=>{var s=Te();v(e,s)};n(m,e=>{s.current&&s.previous&&s.current.assessment&&s.previous.assessment?e(y):e(w,!1)}),c(r),v(e,r),o()}(e,{get current(){return g(a)},get previous(){return g(r)}})},$$slots:{default:!0}})};n(A,e=>{g(r)&&g(r).assessment&&e(N)}),c(s),v(e,s)},w=s=>{var t=j(),i=d(t),r=e=>{C(e,{title:"Evaluation Failed",children:(e,s)=>{var t=ts(),i=u(l(t),4),r=e=>{var s=ss(),t=l(s,!0);c(s),q(()=>k(t,g(a).error)),v(e,s)};n(i,e=>{g(a).error&&e(r)}),c(t),v(e,t)},$$slots:{default:!0}})};n(i,s=>{g(a).status===e.FAILED&&s(r)},!0),v(s,t)};n(m,s=>{g(a).status===e.COMPLETED&&g(a).assessment?s(y):s(w,!1)},!0),v(s,t)};n(m,s=>{g(a).status===e.RUNNING?s(y):s(w,!1)}),v(s,t)},Ce=e=>{C(e,{title:"Welcome",children:(e,s)=>{var t=as();v(e,t)},$$slots:{default:!0}})};n(Ee,e=>{g(a)?e(ze):e(Ce,!1)}),c(je),c(z),c(E),v(s,E)},$$slots:{default:!0}}),o()}export{rs as component};
