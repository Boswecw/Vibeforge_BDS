import{p as U,a as O,W as tt,B as W,E as D,f as g,m as s,e as l,O as K,r as a,H as I,P as et,c as E,g as e,V as at,Q as j,h as f,j as B,F as st,d as lt,i as M,K as m,w as ot,x as S,I as rt,A as dt,X as it,v as nt}from"../chunks/DkYuCCRR.js";import{A as $}from"../chunks/BiFJXEbU.js";import"../chunks/ZXpR-Cq1.js";import{P as pt}from"../chunks/NBWhFnqU.js";import{A as ct}from"../chunks/B_6VVtGD.js";var vt=g('<div class="space-y-3"><div><label for="allowed-repos" class="text-sm text-slate-300">Allowed Repos (comma-separated)</label> <input id="allowed-repos" class="w-full bg-slate-800 text-white border border-slate-700 rounded px-3 py-2 text-sm mt-1"/></div> <div class="flex items-center gap-2"><input id="sas" type="checkbox" class="accent-amber-400"/> <label for="sas" class="text-sm text-slate-200">Auto evaluate with SAS</label></div> <div class="flex justify-end gap-2"><button type="button" class="px-3 py-1 rounded border border-slate-700 text-slate-200">Cancel</button> <button type="button" class="px-3 py-1 rounded bg-amber-500 text-black font-semibold">Save</button></div></div>');function ut(k,v){U(v,!1);let h=O(v,"template",8);const A=tt();let d=W(h().allowedRepos.join(", ")),c=W(h().autoEvaluateWithSAS);const _=()=>{const y=e(d).split(",").map(T=>T.trim()).filter(Boolean);A("save",{...h(),allowedRepos:y,autoEvaluateWithSAS:e(c)})};D();var u=vt(),i=s(u),t=l(s(i),2);K(t),a(i);var x=l(i,2),o=s(x);K(o),I(2),a(x);var n=l(x,2),p=s(n),w=l(p,2);a(n),a(u),et(t,()=>e(d),y=>E(d,y)),at(o,()=>e(c),y=>E(c,y)),j("click",p,()=>A("cancel")),j("click",w,_),f(k,u),B()}var xt=g('<button class="px-3 py-1 rounded bg-amber-500 text-black text-xs font-semibold">Edit</button>'),bt=g('<span class="text-xs text-slate-500">Locked</span>'),mt=g('<tr class="border-b border-slate-800"><td colspan="7" class="px-4 py-3 bg-slate-900/70"><!> <p class="text-xs text-slate-500 mt-2">TODO: persist to config (Tauri) instead of in-memory once available.</p></td></tr>'),ft=g('<tr class="border-b border-slate-800"><td class="px-4 py-2"> </td><td class="px-4 py-2"> </td><td class="px-4 py-2"> </td><td class="px-4 py-2 text-slate-300"> </td><td class="px-4 py-2"> </td><td class="px-4 py-2"> </td><td class="px-4 py-2"><!></td></tr> <!>',1),ht=g('<div class="overflow-auto"><table class="min-w-full text-sm text-left text-slate-200"><thead class="bg-slate-800 text-xs uppercase text-slate-400"><tr><th class="px-4 py-2">Kind</th><th class="px-4 py-2">Label</th><th class="px-4 py-2">Pipeline</th><th class="px-4 py-2">Allowed Repos</th><th class="px-4 py-2">Auto SAS</th><th class="px-4 py-2">Locked</th><th class="px-4 py-2">Actions</th></tr></thead><tbody></tbody></table></div>');function _t(k,v){U(v,!1);let h=O(v,"templates",24,()=>[]),A=O(v,"onUpdate",8),d=W(null);D();var c=ht(),_=s(c),u=l(s(_));st(u,5,h,i=>i.id,(i,t)=>{var x=ft(),o=lt(x),n=s(o),p=s(n,!0);a(n);var w=l(n),y=s(w,!0);a(w);var T=l(w),N=s(T,!0);a(T);var P=l(T),G=s(P,!0);a(P);var L=l(P),H=s(L,!0);a(L);var R=l(L),Q=s(R,!0);a(R);var C=l(R),V=s(C);{var X=r=>{var b=xt();j("click",b,()=>E(d,e(t).id)),f(r,b)},Y=r=>{var b=bt();f(r,b)};M(V,r=>{e(t),m(()=>!e(t).locked)?r(X):r(Y,!1)})}a(C),a(o);var q=l(o,2);{var z=r=>{var b=mt(),F=s(b),J=s(F);ut(J,{get template(){return e(t)},$$events:{save:Z=>{A()(Z.detail),E(d,null)},cancel:()=>E(d,null)}}),I(2),a(F),a(b),f(r,b)};M(q,r=>{e(d),e(t),m(()=>e(d)===e(t).id)&&r(z)})}ot(r=>{S(p,(e(t),m(()=>e(t).kind))),S(y,(e(t),m(()=>e(t).label))),S(N,(e(t),m(()=>e(t).pipelineId))),S(G,r),S(H,(e(t),m(()=>e(t).autoEvaluateWithSAS?"Yes":"No"))),S(Q,(e(t),m(()=>e(t).locked?"Locked":"Editable")))},[()=>(e(t),m(()=>e(t).allowedRepos.join(", ")))]),f(i,x)}),a(u),a(_),a(c),f(k,c),B()}var yt=g('<div class="admin-container svelte-1o5mf4f"><div class="page-header svelte-1o5mf4f"><h1 class="page-title svelte-1o5mf4f">Agent Templates</h1> <p class="page-description svelte-1o5mf4f">Manage in-memory templates. Locked templates are view-only.</p></div> <!> <!></div>');function Tt(k,v){U(v,!1);const h=()=>dt(_,"$templatesStore",A),[A,d]=rt(),c=[...$.planner,...$.execution,...$.evaluator,...$.coordinator],_=it(c),u=o=>{_.update(n=>n.map(p=>p.id===o.id?{...p,...o}:p))};D();var i=yt(),t=l(s(i),2);ct(t,{variant:"info",dismissible:!0,children:(o,n)=>{I();var p=nt("TODO: Template persistence via Tauri config not yet implemented. Changes are in-memory only.");f(o,p)},$$slots:{default:!0}});var x=l(t,2);pt(x,{variant:"bordered",padding:"lg",children:(o,n)=>{_t(o,{get templates(){return h()},onUpdate:u})},$$slots:{default:!0}}),a(i),f(k,i),B(),d()}export{Tt as component};
