import{S as e,P as s,s as t}from"../chunks/Cf9ICnXl.js";import{T as a,p as i,e as r,q as l,i as n,r as c,k as v,l as o,h as d,j as u,P as m,I as p,g,s as y,y as h,z as q,A as f,x as k,W as w,a as b,N as _,V as x,G as $,H as S,m as j,S as E}from"../chunks/CS1oB8eq.js";import{E as C}from"../chunks/Bm-ysW8Z.js";import{P as z}from"../chunks/BcpFO3YO.js";import{B as A}from"../chunks/B_xsWB_l.js";import{A as N}from"../chunks/oHG5MZam.js";import{c as L,a as R}from"../chunks/Cfodrc4t.js";import{B as P}from"../chunks/BXiH49b8.js";const D=a({sessions:[],currentSession:null,isEvaluating:!1,streamingOutput:"",currentStage:null}),F={get sessions(){return D.sessions},get currentSession(){return D.currentSession},get isEvaluating(){return D.isEvaluating},get streamingOutput(){return D.streamingOutput},get currentStage(){return D.currentStage},get activeSessions(){return D.sessions.filter(s=>s.status===e.RUNNING||s.status===e.PENDING)},get completedSessions(){return D.sessions.filter(s=>s.status===e.COMPLETED)},get failedSessions(){return D.sessions.filter(s=>s.status===e.FAILED)},createSession(s){const t={id:`evaluation_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,type:"evaluation",status:e.PENDING,createdAt:new Date,request:s,stages:{}};return D.sessions=[...D.sessions,t],D.currentSession=t,t},startSession(t){const a=D.sessions.find(e=>e.id===t);a&&(a.status=e.RUNNING,a.startedAt=new Date,a.currentStage=s.PLAN,D.currentStage=s.PLAN,D.isEvaluating=!0,D.streamingOutput="",D.sessions=[...D.sessions])},updateStageOutput(e,t,a){const i=D.sessions.find(s=>s.id===e);if(i){switch(t){case s.PLAN:i.stages.plan=a;break;case s.ACT:i.stages.act=a;break;case s.OBSERVE:i.stages.observe=a;break;case s.REFLECT:i.stages.reflect=a}D.sessions=[...D.sessions]}},appendStreamingOutput(e){D.streamingOutput+=e},clearStreamingOutput(){D.streamingOutput=""},advanceStage(e,s){const t=D.sessions.find(s=>s.id===e);t&&(s?(t.currentStage=s,D.currentStage=s,D.streamingOutput=""):(t.currentStage=void 0,D.currentStage=null,D.isEvaluating=!1),D.sessions=[...D.sessions])},completeSession(s,t){const a=D.sessions.find(e=>e.id===s);a&&(a.status=e.COMPLETED,a.completedAt=new Date,a.assessment=t,a.currentStage=void 0,D.currentStage=null,D.isEvaluating=!1,D.streamingOutput="",D.sessions=[...D.sessions])},failSession(s,t){const a=D.sessions.find(e=>e.id===s);a&&(a.status=e.FAILED,a.completedAt=new Date,a.error=t,a.currentStage=void 0,D.currentStage=null,D.isEvaluating=!1,D.streamingOutput="",D.sessions=[...D.sessions])},cancelSession(s){const t=D.sessions.find(e=>e.id===s);t&&(t.status=e.CANCELLED,t.completedAt=new Date,t.currentStage=void 0,D.currentSession?.id===s&&(D.currentStage=null,D.isEvaluating=!1,D.streamingOutput=""),D.sessions=[...D.sessions])},setCurrentSession(e){if(null===e)return void(D.currentSession=null);const s=D.sessions.find(s=>s.id===e);s&&(D.currentSession=s)},deleteSession(e){D.sessions=D.sessions.filter(s=>s.id!==e),D.currentSession?.id===e&&(D.currentSession=null,D.currentStage=null,D.isEvaluating=!1,D.streamingOutput="")},clearAll(){D.sessions=[],D.currentSession=null,D.isEvaluating=!1,D.streamingOutput="",D.currentStage=null}};const O="http://localhost:8787";async function I(e){const s=function(e){if(!e.executionResult&&!e.result)return L("Execution result is required");const s=e.executionResult||e.result;return s?.code?e.criteria?Array.isArray(e.criteria)&&0===e.criteria.length?L("At least one evaluation criterion is required"):null:L("At least one evaluation criterion is required"):L("No code to evaluate")}(e);if(s)return{success:!1,error:s};try{const s=await fetch(`${O}/api/v1/bds/evaluation/start`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:e.executionResult.code,criteria:e.criteria})});if(!s.ok){const e=await s.json();return{success:!1,error:L(e.detail||"Failed to start evaluation session")}}const{sessionId:a}=await s.json(),i=F.createSession(e);i.id=a,F.startSession(i.id);const r=`${O}/api/v1/bds/evaluation/${a}/stream`;return t.subscribe(r,{onChunk:e=>{F.appendStreamingOutput(e)},onStageStart:e=>{const s=e;F.advanceStage(i.id,s)},onStageEnd:(e,s)=>{const t=e,a=s;F.updateStageOutput(i.id,t,a)},onComplete:e=>{const s=e;F.completeSession(i.id,s)},onError:e=>{F.failSession(i.id,e.message)}}),{success:!0,sessionId:i.id}}catch(a){return{success:!1,error:R(a)}}}function M(e){return`${(100*e).toFixed(1)}%`}function T(e){return e>=.8?"success":e>=.6?"warning":"danger"}function U(e){return e>=.9?"compliant":e>=.7?"partial":"non-compliant"}var B=r('<div class="stat svelte-1dej7"><span class="stat-icon svelte-1dej7">ğŸ“</span> <span class="stat-value svelte-1dej7"> </span> <span class="stat-label svelte-1dej7">files</span></div>'),G=r('<div class="stat svelte-1dej7"><span class="stat-icon svelte-1dej7">ğŸ§ª</span> <span class="stat-value svelte-1dej7"> </span> <span class="stat-label svelte-1dej7">tests passed</span></div>'),Q=r('<div class="stat svelte-1dej7"><span class="stat-icon svelte-1dej7">â±ï¸</span> <span class="stat-value svelte-1dej7"> </span> <span class="stat-label svelte-1dej7">duration</span></div>'),V=r('<div class="execution-summary svelte-1dej7"><h3 class="svelte-1dej7">Execution Result</h3> <div class="summary-stats svelte-1dej7"><!> <!> <!></div></div> <div class="criteria-selection svelte-1dej7"><h3 class="svelte-1dej7">Evaluation Criteria</h3> <p class="text-muted svelte-1dej7">Select which aspects to evaluate</p> <div class="criteria-grid svelte-1dej7"><label class="criterion svelte-1dej7"><input type="checkbox" class="svelte-1dej7"/> <div class="criterion-content svelte-1dej7"><div class="criterion-title svelte-1dej7">Code Quality</div> <div class="criterion-description svelte-1dej7">Readability, organization, naming conventions</div></div></label> <label class="criterion svelte-1dej7"><input type="checkbox" class="svelte-1dej7"/> <div class="criterion-content svelte-1dej7"><div class="criterion-title svelte-1dej7">SAS Compliance</div> <div class="criterion-description svelte-1dej7">Adherence to Software Architecture Specification</div></div></label> <label class="criterion svelte-1dej7"><input type="checkbox" class="svelte-1dej7"/> <div class="criterion-content svelte-1dej7"><div class="criterion-title svelte-1dej7">Performance</div> <div class="criterion-description svelte-1dej7">Efficiency, optimization, resource usage</div></div></label> <label class="criterion svelte-1dej7"><input type="checkbox" class="svelte-1dej7"/> <div class="criterion-content svelte-1dej7"><div class="criterion-title svelte-1dej7">Security</div> <div class="criterion-description svelte-1dej7">Vulnerabilities, best practices, data protection</div></div></label> <label class="criterion svelte-1dej7"><input type="checkbox" class="svelte-1dej7"/> <div class="criterion-content svelte-1dej7"><div class="criterion-title svelte-1dej7">Maintainability</div> <div class="criterion-description svelte-1dej7">Modularity, documentation, future-proofing</div></div></label> <label class="criterion svelte-1dej7"><input type="checkbox" class="svelte-1dej7"/> <div class="criterion-content svelte-1dej7"><div class="criterion-title svelte-1dej7">Test Coverage</div> <div class="criterion-description svelte-1dej7">Unit tests, integration tests, coverage percentage</div></div></label></div></div> <!> <!>',1),H=r('<div class="empty-state svelte-1dej7"><div class="empty-icon svelte-1dej7">ğŸ”</div> <p class="empty-title svelte-1dej7">No Execution Result</p> <p class="empty-description svelte-1dej7">Load an execution result from the Execution Agent to begin evaluation.</p></div>'),W=r('<div class="evaluation-request svelte-1dej7"><!></div>');var J=r('<div class="metric-card svelte-1a9i8n4"><div class="metric-header svelte-1a9i8n4"><div class="metric-title svelte-1a9i8n4">Test Coverage</div> <!></div> <div class="metric-bar svelte-1a9i8n4"><div></div></div> <div class="metric-details svelte-1a9i8n4"><span>Unit & integration tests</span></div></div>'),K=r('<div class="metric-card svelte-1a9i8n4"><div class="metric-header svelte-1a9i8n4"><div class="metric-title svelte-1a9i8n4">Complexity</div> <!></div> <div class="metric-details svelte-1a9i8n4"><span>Cyclomatic complexity analysis</span></div></div>'),X=r('<div class="overall-score svelte-1a9i8n4"><div><div class="score-grade svelte-1a9i8n4"> </div> <div class="score-percent svelte-1a9i8n4"> </div></div> <div class="score-label svelte-1a9i8n4">Overall Quality Score</div></div> <div class="metrics-grid svelte-1a9i8n4"><div class="metric-card svelte-1a9i8n4"><div class="metric-header svelte-1a9i8n4"><div class="metric-title svelte-1a9i8n4">Code Quality</div> <!></div> <div class="metric-bar svelte-1a9i8n4"><div></div></div> <div class="metric-details svelte-1a9i8n4"><span>Readability, organization, naming</span></div></div> <div class="metric-card svelte-1a9i8n4"><div class="metric-header svelte-1a9i8n4"><div class="metric-title svelte-1a9i8n4">Performance</div> <!></div> <div class="metric-bar svelte-1a9i8n4"><div></div></div> <div class="metric-details svelte-1a9i8n4"><span>Efficiency, optimization</span></div></div> <div class="metric-card svelte-1a9i8n4"><div class="metric-header svelte-1a9i8n4"><div class="metric-title svelte-1a9i8n4">Security</div> <!></div> <div class="metric-bar svelte-1a9i8n4"><div></div></div> <div class="metric-details svelte-1a9i8n4"><span>Vulnerabilities, best practices</span></div></div> <div class="metric-card svelte-1a9i8n4"><div class="metric-header svelte-1a9i8n4"><div class="metric-title svelte-1a9i8n4">Maintainability</div> <!></div> <div class="metric-bar svelte-1a9i8n4"><div></div></div> <div class="metric-details svelte-1a9i8n4"><span>Modularity, documentation</span></div></div> <!> <!></div>',1),Y=r('<div class="empty-state svelte-1a9i8n4"><p class="text-muted svelte-1a9i8n4">No quality metrics available. Start an evaluation to see metrics.</p></div>'),Z=r('<div class="quality-metrics svelte-1a9i8n4"><!></div>');var ee=r('<div class="pattern-notes svelte-w5sky8"> </div>'),se=r('<div class="pattern-item svelte-w5sky8"><div class="pattern-header svelte-w5sky8"><span class="pattern-icon svelte-w5sky8"> </span> <span class="pattern-name svelte-w5sky8"> </span> <!></div> <!></div>'),te=r('<div class="compliance-section svelte-w5sky8"><h4 class="svelte-w5sky8">Architecture Patterns</h4> <div class="patterns-list svelte-w5sky8"></div></div>'),ae=r('<li class="svelte-w5sky8"> </li>'),ie=r('<li class="text-muted svelte-w5sky8"> </li>'),re=r('<div class="violations svelte-w5sky8"><div class="violations-header svelte-w5sky8"> </div> <ul class="violations-list svelte-w5sky8"><!> <!></ul></div>'),le=r('<div class="convention-item svelte-w5sky8"><div class="convention-header svelte-w5sky8"><span class="convention-icon svelte-w5sky8"> </span> <span class="convention-name svelte-w5sky8"> </span></div> <div class="convention-score svelte-w5sky8"> </div> <!></div>'),ne=r('<div class="compliance-section svelte-w5sky8"><h4 class="svelte-w5sky8">Naming Conventions</h4> <div class="conventions-grid svelte-w5sky8"></div></div>'),ce=r('<li class="svelte-w5sky8"> </li>'),ve=r('<div class="structure-issues svelte-w5sky8"><div class="issues-header svelte-w5sky8">Issues:</div> <ul class="issues-list svelte-w5sky8"></ul></div>'),oe=r('<li class="svelte-w5sky8"> </li>'),de=r('<div class="structure-suggestions svelte-w5sky8"><div class="suggestions-header svelte-w5sky8">Suggestions:</div> <ul class="suggestions-list svelte-w5sky8"></ul></div>'),ue=r('<div class="compliance-section svelte-w5sky8"><h4 class="svelte-w5sky8">File Structure</h4> <div class="structure-card svelte-w5sky8"><div class="structure-header svelte-w5sky8"><span class="structure-icon svelte-w5sky8"> </span> <!></div> <!> <!></div></div>'),me=r('<div class="standard-item svelte-w5sky8"><div class="standard-header svelte-w5sky8"><span class="standard-icon svelte-w5sky8"> </span> <span class="standard-name svelte-w5sky8"> </span></div> <div class="standard-status svelte-w5sky8"><!></div></div>'),pe=r('<div class="compliance-section svelte-w5sky8"><h4 class="svelte-w5sky8">Code Standards</h4> <div class="standards-grid svelte-w5sky8"></div></div>'),ge=r('<div class="compliance-overview svelte-w5sky8"><div class="overview-header svelte-w5sky8"><h3 class="svelte-w5sky8">SAS Compliance Score</h3> <!></div> <div class="overview-status svelte-w5sky8"><span class="status-label svelte-w5sky8">Status:</span> <span> </span></div></div> <!> <!> <!> <!>',1),ye=r('<div class="empty-state svelte-w5sky8"><p class="text-muted svelte-w5sky8">No compliance data available. Start an evaluation to see SAS compliance.</p></div>'),he=r('<div class="sas-compliance svelte-w5sky8"><!></div>');function qe(e,s){function t(e){return e?"âœ…":"âŒ"}i(s,!0);var a=he(),r=l(a),m=e=>{var a=ge(),i=d(a),r=l(i),o=u(l(r),2);{let e=k(()=>function(e){const s=e??0;return s>=.9?"success":s>=.7?"warning":"danger"}(s.compliance.overall_score));P(o,{get variant(){return g(e)},children:(e,t)=>{p();var a=h();q(e=>f(a,e),[()=>M(s.compliance.overall_score)]),v(e,a)},$$slots:{default:!0}})}c(r);var m=u(r,2),y=u(l(m),2);let w;var b=l(y,!0);c(y),c(m),c(i);var x=u(i,2),j=e=>{var a=te(),i=u(l(a),2);$(i,21,()=>s.compliance.architecture_patterns,S,(e,s)=>{var a=se(),i=l(a),r=l(i),o=l(r,!0);c(r);var d=u(r,2),m=l(d,!0);c(d);var y=u(d,2);{let e=k(()=>g(s).compliant?"success":"danger");P(y,{get variant(){return g(e)},children:(e,t)=>{p();var a=h();q(()=>f(a,g(s).compliant?"Compliant":"Non-Compliant")),v(e,a)},$$slots:{default:!0}})}c(i);var w=u(i,2),b=e=>{var t=ee(),a=l(t,!0);c(t),q(()=>f(a,g(s).notes)),v(e,t)};n(w,e=>{g(s).notes&&e(b)}),c(a),q(e=>{f(o,e),f(m,g(s).pattern)},[()=>t(g(s).compliant)]),v(e,a)}),c(i),c(a),v(e,a)};n(x,e=>{var t;s.compliance.architecture_patterns&&(t=s.compliance.architecture_patterns,Array.isArray(t))&&e(j)});var E=u(x,2),C=e=>{var a=ne(),i=u(l(a),2);$(i,21,()=>s.compliance.naming_conventions,S,(e,s)=>{var a=le(),i=l(a),r=l(i),o=l(r,!0);c(r);var d=u(r,2),m=l(d,!0);c(d),c(i);var p=u(i,2),y=l(p,!0);c(p);var h=u(p,2),k=e=>{var t=re(),a=l(t),i=l(a);c(a);var r=u(a,2),o=l(r);$(o,17,()=>g(s).violations.slice(0,3),S,(e,s)=>{var t=ae(),a=l(t,!0);c(t),q(()=>f(a,g(s))),v(e,t)});var d=u(o,2),m=e=>{var t=ie(),a=l(t);c(t),q(()=>f(a,`+${g(s).violations.length-3} more`)),v(e,t)};n(d,e=>{g(s).violations.length>3&&e(m)}),c(r),c(t),q(()=>f(i,`Violations (${g(s).violations.length??""}):`)),v(e,t)};n(h,e=>{g(s).violations&&g(s).violations.length>0&&e(k)}),c(a),q((e,t)=>{f(o,e),f(m,g(s).category),f(y,t)},[()=>t(g(s).compliant),()=>M(g(s).score)]),v(e,a)}),c(i),c(a),v(e,a)};n(E,e=>{var t;s.compliance.naming_conventions&&(t=s.compliance.naming_conventions,Array.isArray(t))&&e(C)});var z=u(E,2),A=e=>{var a=ue(),i=u(l(a),2),r=l(i),o=l(r),d=l(o,!0);c(o);var m=u(o,2);{let e=k(()=>s.compliance.file_structure.compliant??s.compliance.file_structure.passed?"success":"warning");P(m,{get variant(){return g(e)},children:(e,t)=>{p();var a=h();q(()=>f(a,s.compliance.file_structure.compliant??s.compliance.file_structure.passed?"Compliant":"Issues Found")),v(e,a)},$$slots:{default:!0}})}c(r);var y=u(r,2),w=e=>{var t=ve(),a=u(l(t),2);$(a,21,()=>s.compliance.file_structure.issues,S,(e,s)=>{var t=ce(),a=l(t,!0);c(t),q(()=>f(a,g(s))),v(e,t)}),c(a),c(t),v(e,t)};n(y,e=>{s.compliance.file_structure.issues&&s.compliance.file_structure.issues.length>0&&e(w)});var b=u(y,2),_=e=>{var t=de(),a=u(l(t),2);$(a,21,()=>s.compliance.file_structure.suggestions,S,(e,s)=>{var t=oe(),a=l(t,!0);c(t),q(()=>f(a,g(s))),v(e,t)}),c(a),c(t),v(e,t)};n(b,e=>{s.compliance.file_structure.suggestions&&s.compliance.file_structure.suggestions.length>0&&e(_)}),c(i),c(a),q(e=>f(d,e),[()=>t(s.compliance.file_structure.compliant??s.compliance.file_structure.passed)]),v(e,a)};n(z,e=>{s.compliance.file_structure&&e(A)});var N=u(z,2),L=e=>{var a=pe(),i=u(l(a),2);$(i,21,()=>s.compliance.code_standards,S,(e,s)=>{var a=me(),i=l(a),r=l(i),n=l(r,!0);c(r);var o=u(r,2),d=l(o,!0);c(o),c(i);var m=u(i,2),y=l(m);{let e=k(()=>g(s).compliant?"success":"danger");P(y,{get variant(){return g(e)},children:(e,t)=>{p();var a=h();q(()=>f(a,g(s).compliant?"Pass":"Fail")),v(e,a)},$$slots:{default:!0}})}c(m),c(a),q(e=>{f(n,e),f(d,g(s).standard)},[()=>t(g(s).compliant)]),v(e,a)}),c(i),c(a),v(e,a)};n(N,e=>{var t;s.compliance.code_standards&&(t=s.compliance.code_standards,Array.isArray(t))&&e(L)}),q((e,s)=>{w=_(y,1,"status-value svelte-w5sky8",null,w,e),f(b,s)},[()=>({compliant:"compliant"===U(s.compliance.overall_score),partial:"partial"===U(s.compliance.overall_score),"non-compliant":"non-compliant"===U(s.compliance.overall_score)}),()=>"compliant"===U(s.compliance.overall_score)?"Fully Compliant":"partial"===U(s.compliance.overall_score)?"Partially Compliant":"Non-Compliant"]),v(e,a)},y=e=>{var s=ye();v(e,s)};n(r,e=>{s.compliance?e(m):e(y,!1)}),c(a),v(e,a),o()}var fe=r('<div class="summary-stat svelte-h9jmqb"><span class="stat-icon svelte-h9jmqb"> </span> <span class="stat-count svelte-h9jmqb"> </span> <span class="stat-label svelte-h9jmqb"> </span></div>'),ke=r('<span class="location-line svelte-h9jmqb"> </span>'),we=r('<div class="review-location svelte-h9jmqb"><span class="location-icon svelte-h9jmqb">ğŸ“„</span> <span class="location-file svelte-h9jmqb"> </span> <!></div>'),be=r('<div class="review-code svelte-h9jmqb"><div class="code-label svelte-h9jmqb">Code:</div> <pre class="code-block svelte-h9jmqb"><code> </code></pre></div>'),_e=r('<div class="review-suggestion svelte-h9jmqb"><div class="suggestion-label svelte-h9jmqb">Suggestion:</div> <div class="suggestion-text svelte-h9jmqb"> </div></div>'),xe=r('<div class="review-category svelte-h9jmqb"><!></div>'),$e=r('<div class="review-item svelte-h9jmqb"><div class="review-header svelte-h9jmqb"><div class="review-title svelte-h9jmqb"><span class="review-icon svelte-h9jmqb"> </span> <span class="review-message svelte-h9jmqb"> </span></div> <!></div> <!> <!> <!> <!></div>'),Se=r('<div class="review-summary svelte-h9jmqb"><h3 class="svelte-h9jmqb">Code Review Summary</h3> <div class="summary-stats svelte-h9jmqb"></div></div> <div class="reviews-list svelte-h9jmqb"></div>',1),je=r('<div class="empty-state svelte-h9jmqb"><div class="empty-icon svelte-h9jmqb">âœ…</div> <p class="empty-title svelte-h9jmqb">No Issues Found</p> <p class="empty-description svelte-h9jmqb">The code review found no critical issues or suggestions.</p></div>'),Ee=r('<div class="code-review svelte-h9jmqb"><!></div>');var Ce=r('<div class="summary-stat svelte-2kvzxr"><span class="stat-icon svelte-2kvzxr">ğŸ”´</span> <span class="stat-count svelte-2kvzxr"> </span> <span class="stat-label svelte-2kvzxr">High Priority</span></div>'),ze=r('<div class="summary-stat svelte-2kvzxr"><span class="stat-icon svelte-2kvzxr">ğŸŸ¡</span> <span class="stat-count svelte-2kvzxr"> </span> <span class="stat-label svelte-2kvzxr">Medium Priority</span></div>'),Ae=r('<div class="summary-stat svelte-2kvzxr"><span class="stat-icon svelte-2kvzxr">ğŸŸ¢</span> <span class="stat-count svelte-2kvzxr"> </span> <span class="stat-label svelte-2kvzxr">Low Priority</span></div>'),Ne=r('<div class="code-section svelte-2kvzxr"><div class="code-header svelte-2kvzxr"><span class="code-label svelte-2kvzxr">Current Code:</span></div> <pre class="code-block svelte-2kvzxr"><code> </code></pre></div>'),Le=r('<div class="code-section svelte-2kvzxr"><div class="code-header svelte-2kvzxr"><span class="code-label svelte-2kvzxr">Suggested Code:</span> <!></div> <pre class="code-block suggested svelte-2kvzxr"><code> </code></pre></div>'),Re=r('<div class="suggestion-rationale svelte-2kvzxr"><div class="rationale-label svelte-2kvzxr">Rationale:</div> <div class="rationale-text svelte-2kvzxr"> </div></div>'),Pe=r('<div class="suggestion-effort svelte-2kvzxr"><span class="effort-label svelte-2kvzxr">Estimated Effort:</span> <span class="effort-value svelte-2kvzxr"> </span></div>'),De=r('<div class="suggestion-category svelte-2kvzxr"><!></div>'),Fe=r('<div class="suggestion-item svelte-2kvzxr"><div class="suggestion-header svelte-2kvzxr"><div class="suggestion-title svelte-2kvzxr"><span class="suggestion-icon svelte-2kvzxr"> </span> <span class="suggestion-text svelte-2kvzxr"> </span></div> <div class="suggestion-badges svelte-2kvzxr"><!> <!></div></div> <div class="suggestion-description svelte-2kvzxr"> </div> <!> <!> <!> <!> <!></div>'),Oe=r('<div class="improvements-summary svelte-2kvzxr"><h3 class="svelte-2kvzxr"> </h3> <div class="summary-stats svelte-2kvzxr"><!> <!> <!></div></div> <div class="suggestions-list svelte-2kvzxr"></div>',1),Ie=r('<div class="empty-state svelte-2kvzxr"><div class="empty-icon svelte-2kvzxr">âœ¨</div> <p class="empty-title svelte-2kvzxr">No Improvements Suggested</p> <p class="empty-description svelte-2kvzxr">The code is already optimized and follows best practices.</p></div>'),Me=r('<div class="improvements svelte-2kvzxr"><!></div>');function Te(e,s){i(s,!0);const t=k(()=>()=>{const e={high:[],medium:[],low:[]};return s.suggestions.forEach(s=>{const t=s.priority.toLowerCase();e[t]&&e[t].push(s)}),e});var a=Me(),r=l(a),m=e=>{var a=Oe(),i=d(a),r=l(i),o=l(r);c(r);var m=u(r,2),y=l(m),w=e=>{var s=Ce(),a=u(l(s),2),i=l(a,!0);c(a),p(2),c(s),q(e=>f(i,e),[()=>g(t)().high.length]),v(e,s)};n(y,e=>{g(t)().high.length>0&&e(w)});var b=u(y,2),_=e=>{var s=ze(),a=u(l(s),2),i=l(a,!0);c(a),p(2),c(s),q(e=>f(i,e),[()=>g(t)().medium.length]),v(e,s)};n(b,e=>{g(t)().medium.length>0&&e(_)});var x=u(b,2),j=e=>{var s=Ae(),a=u(l(s),2),i=l(a,!0);c(a),p(2),c(s),q(e=>f(i,e),[()=>g(t)().low.length]),v(e,s)};n(x,e=>{g(t)().low.length>0&&e(j)}),c(m),c(i);var E=u(i,2);$(E,21,()=>s.suggestions,S,(e,s)=>{var t=Fe(),a=l(t),i=l(a),r=l(i),o=l(r,!0);c(r);var d=u(r,2),m=l(d,!0);c(d),c(i);var y=u(i,2),w=l(y);{let e=k(()=>function(e){switch(e.toLowerCase()){case"high":return"danger";case"medium":return"warning";default:return"neutral"}}(g(s).priority));P(w,{get variant(){return g(e)},children:(e,t)=>{p();var a=h();q(()=>f(a,g(s).priority)),v(e,a)},$$slots:{default:!0}})}var b=u(w,2),_=e=>{P(e,{variant:"neutral",children:(e,t)=>{p();var a=h();q(e=>f(a,`${e??""} ${g(s).impact??""} Impact`),[()=>function(e){switch(e.toLowerCase()){case"high":return"âš¡";case"medium":default:return"ğŸ“Š";case"low":return"ğŸ“ˆ"}}(g(s).impact)]),v(e,a)},$$slots:{default:!0}})};n(b,e=>{g(s).impact&&e(_)}),c(y),c(a);var x=u(a,2),$=l(x,!0);c(x);var S=u(x,2),j=e=>{var t=Ne(),a=u(l(t),2),i=l(a),r=l(i,!0);c(i),c(a),c(t),q(()=>f(r,g(s).current_code)),v(e,t)};n(S,e=>{g(s).current_code&&e(j)});var E=u(S,2),C=e=>{var t=Le(),a=l(t),i=u(l(a),2);A(i,{variant:"ghost",size:"sm",onclick:()=>async function(e){await navigator.clipboard.writeText(e)}(g(s).suggested_code||""),children:(e,s)=>{p();var t=h("Copy");v(e,t)},$$slots:{default:!0}}),c(a);var r=u(a,2),n=l(r),o=l(n,!0);c(n),c(r),c(t),q(()=>f(o,g(s).suggested_code)),v(e,t)};n(E,e=>{g(s).suggested_code&&e(C)});var z=u(E,2),N=e=>{var t=Re(),a=u(l(t),2),i=l(a,!0);c(a),c(t),q(()=>f(i,g(s).rationale)),v(e,t)};n(z,e=>{g(s).rationale&&e(N)});var L=u(z,2),R=e=>{var t=Pe(),a=u(l(t),2),i=l(a,!0);c(a),c(t),q(()=>f(i,g(s).effort)),v(e,t)};n(L,e=>{g(s).effort&&e(R)});var D=u(L,2),F=e=>{var t=De(),a=l(t);P(a,{variant:"neutral",size:"sm",children:(e,t)=>{p();var a=h();q(()=>f(a,g(s).category)),v(e,a)},$$slots:{default:!0}}),c(t),v(e,t)};n(D,e=>{g(s).category&&e(F)}),c(t),q(e=>{f(o,e),f(m,g(s).title),f($,g(s).description)},[()=>function(e){switch(e.toLowerCase()){case"high":return"ğŸ”´";case"medium":return"ğŸŸ¡";case"low":return"ğŸŸ¢";default:return"âšª"}}(g(s).priority)]),v(e,t)}),c(E),q(()=>f(o,`Improvement Suggestions (${s.suggestions.length??""})`)),v(e,a)},y=e=>{var s=Ie();v(e,s)};n(r,e=>{s.suggestions.length>0?e(m):e(y,!1)}),c(a),v(e,a),o()}var Ue=r('<div class="comparison-header svelte-1rkq4yi"><h3 class="svelte-1rkq4yi">Before & After Comparison</h3> <div class="comparison-meta"><!></div></div> <div class="comparison-grid svelte-1rkq4yi"><div class="comparison-column svelte-1rkq4yi"><div class="column-header svelte-1rkq4yi"><h4 class="svelte-1rkq4yi">Previous Evaluation</h4> <span class="column-date svelte-1rkq4yi"> </span></div> <div class="metrics-list svelte-1rkq4yi"><div class="metric-item svelte-1rkq4yi"><span class="metric-label svelte-1rkq4yi">Overall Quality</span> <span class="metric-value svelte-1rkq4yi"> </span></div> <div class="metric-item svelte-1rkq4yi"><span class="metric-label svelte-1rkq4yi">Code Quality</span> <span class="metric-value svelte-1rkq4yi"> </span></div> <div class="metric-item svelte-1rkq4yi"><span class="metric-label svelte-1rkq4yi">Performance</span> <span class="metric-value svelte-1rkq4yi"> </span></div> <div class="metric-item svelte-1rkq4yi"><span class="metric-label svelte-1rkq4yi">Security</span> <span class="metric-value svelte-1rkq4yi"> </span></div> <div class="metric-item svelte-1rkq4yi"><span class="metric-label svelte-1rkq4yi">Maintainability</span> <span class="metric-value svelte-1rkq4yi"> </span></div></div></div> <div class="comparison-column current svelte-1rkq4yi"><div class="column-header svelte-1rkq4yi"><h4 class="svelte-1rkq4yi">Current Evaluation</h4> <span class="column-date svelte-1rkq4yi"> </span></div> <div class="metrics-list svelte-1rkq4yi"><div class="metric-item svelte-1rkq4yi"><span class="metric-label svelte-1rkq4yi">Overall Quality</span> <div class="metric-with-change svelte-1rkq4yi"><span class="metric-value svelte-1rkq4yi"> </span> <span> </span></div></div> <div class="metric-item svelte-1rkq4yi"><span class="metric-label svelte-1rkq4yi">Code Quality</span> <div class="metric-with-change svelte-1rkq4yi"><span class="metric-value svelte-1rkq4yi"> </span> <span> </span></div></div> <div class="metric-item svelte-1rkq4yi"><span class="metric-label svelte-1rkq4yi">Performance</span> <div class="metric-with-change svelte-1rkq4yi"><span class="metric-value svelte-1rkq4yi"> </span> <span> </span></div></div> <div class="metric-item svelte-1rkq4yi"><span class="metric-label svelte-1rkq4yi">Security</span> <div class="metric-with-change svelte-1rkq4yi"><span class="metric-value svelte-1rkq4yi"> </span> <span> </span></div></div> <div class="metric-item svelte-1rkq4yi"><span class="metric-label svelte-1rkq4yi">Maintainability</span> <div class="metric-with-change svelte-1rkq4yi"><span class="metric-value svelte-1rkq4yi"> </span> <span> </span></div></div></div></div></div>',1),Be=r('<div class="empty-state svelte-1rkq4yi"><div class="empty-icon svelte-1rkq4yi">ğŸ“Š</div> <p class="empty-title svelte-1rkq4yi">No Comparison Available</p> <p class="empty-description svelte-1rkq4yi">Run at least two evaluations to compare results.</p></div>'),Ge=r('<div class="comparison-view svelte-1rkq4yi"><!></div>');var Qe=r('<div class="stat svelte-1po5ep0"><span class="stat-icon svelte-1po5ep0">ğŸ”</span> <span class="stat-value svelte-1po5ep0"> </span> <span class="stat-label svelte-1po5ep0">reviews</span></div>'),Ve=r('<div class="stat svelte-1po5ep0"><span class="stat-icon svelte-1po5ep0">ğŸ’¡</span> <span class="stat-value svelte-1po5ep0"> </span> <span class="stat-label svelte-1po5ep0">suggestions</span></div>'),He=r('<div class="session-quality svelte-1po5ep0"><div class="quality-bar svelte-1po5ep0"><div></div></div></div>'),We=r('<div class="session-stats svelte-1po5ep0"><div class="stat svelte-1po5ep0"><span class="stat-icon svelte-1po5ep0">ğŸ“Š</span> <span class="stat-value svelte-1po5ep0"> </span> <span class="stat-label svelte-1po5ep0">overall</span></div> <!> <!></div> <!>',1),Je=r('<div class="session-error svelte-1po5ep0"><svg width="14" height="14" viewBox="0 0 16 16" fill="currentColor"><path d="M8 0a8 8 0 1 0 0 16A8 8 0 0 0 8 0zM7 4h2v5H7V4zm0 6h2v2H7v-2z"></path></svg> <span> </span></div>'),Ke=r('<div role="button" tabindex="0"><div class="session-header svelte-1po5ep0"><div class="session-info svelte-1po5ep0"><span class="session-icon svelte-1po5ep0"> </span> <div class="session-title-group svelte-1po5ep0"><div class="session-title svelte-1po5ep0"> </div> <div class="session-meta svelte-1po5ep0"><span class="session-date"> </span></div></div></div> <!></div> <!> <!> <div class="session-actions svelte-1po5ep0"><!> <!></div></div>'),Xe=r('<div class="history-header svelte-1po5ep0"><h3 class="svelte-1po5ep0"> </h3> <!></div> <div class="sessions-list svelte-1po5ep0"></div>',1),Ye=r('<div class="empty-state svelte-1po5ep0"><div class="empty-icon svelte-1po5ep0">ğŸ“‹</div> <p class="empty-title svelte-1po5ep0">No evaluation history</p> <p class="empty-description svelte-1po5ep0">Start an evaluation to see your history here.</p></div>'),Ze=r('<div class="evaluation-history svelte-1po5ep0"><!></div>');function es(s,t){i(t,!0);const a=k(()=>F.sessions);function r(e){F.setCurrentSession(e)}var m=Ze(),y=l(m),w=s=>{var t=Xe(),i=d(t),o=l(i),m=l(o);c(o);var y=u(o,2);A(y,{variant:"ghost",size:"sm",onclick:()=>F.clearAll(),children:(e,s)=>{p();var t=h("Clear All");v(e,t)},$$slots:{default:!0}}),c(i);var w=u(i,2);$(w,21,()=>g(a),S,(s,t)=>{const a=k(()=>F.currentSession?.id===g(t).id);var i=Ke();let o;i.__click=()=>r(g(t).id),i.__keydown=e=>"Enter"===e.key&&r(g(t).id);var m=l(i),y=l(m),w=l(y),b=l(w,!0);c(w);var $=u(w,2),S=l($),j=l(S);c(S);var E=u(S,2),C=l(E),z=l(C,!0);c(C),c(E),c($),c(y);var N=u(y,2);{let s=k(()=>function(s){switch(s){case e.COMPLETED:return"success";case e.RUNNING:return"warning";case e.FAILED:case e.CANCELLED:return"danger";default:return"neutral"}}(g(t).status));P(N,{get variant(){return g(s)},children:(e,s)=>{p();var a=h();q(()=>f(a,g(t).status)),v(e,a)},$$slots:{default:!0}})}c(m);var L=u(m,2),R=e=>{var s=We(),a=d(s),i=l(a),r=u(l(i),2),o=l(r,!0);c(r),p(2),c(i);var m=u(i,2),y=e=>{var s=Qe(),a=u(l(s),2),i=l(a,!0);c(a),p(2),c(s),q(()=>f(i,g(t).assessment.code_review.findings.length)),v(e,s)};n(m,e=>{g(t).assessment.code_review?.findings&&e(y)});var h=u(m,2),k=e=>{var s=Ve(),a=u(l(s),2),i=l(a,!0);c(a),p(2),c(s),q(()=>f(i,g(t).assessment.improvements.length)),v(e,s)};n(h,e=>{g(t).assessment.improvements&&e(k)}),c(a);var w=u(a,2),b=e=>{var s=He(),a=l(s),i=l(a);let r;c(a),c(s),q(()=>{r=_(i,1,"quality-bar-fill svelte-1po5ep0",null,r,{excellent:g(t).assessment.quality_metrics.overall>=.8,good:g(t).assessment.quality_metrics.overall>=.6&&g(t).assessment.quality_metrics.overall<.8,poor:g(t).assessment.quality_metrics.overall<.6}),x(i,`width: ${100*g(t).assessment.quality_metrics.overall}%`)}),v(e,s)};n(w,e=>{g(t).assessment.quality_metrics&&e(b)}),q(e=>f(o,e),[()=>M(g(t).assessment.quality_metrics.overall)]),v(e,s)};n(L,e=>{g(t).assessment&&e(R)});var D=u(L,2),O=e=>{var s=Je(),a=u(l(s),2),i=l(a,!0);c(a),c(s),q(()=>f(i,g(t).error)),v(e,s)};n(D,e=>{g(t).error&&e(O)});var I=u(D,2),T=l(I);A(T,{variant:"ghost",size:"sm",onclick:e=>{e.stopPropagation(),r(g(t).id)},children:(e,s)=>{p();var t=h("View Details");v(e,t)},$$slots:{default:!0}});var U=u(T,2);A(U,{variant:"ghost",size:"sm",onclick:e=>{var s;e.stopPropagation(),s=g(t).id,confirm("Are you sure you want to delete this evaluation session?")&&F.deleteSession(s)},children:(e,s)=>{p();var t=h("Delete");v(e,t)},$$slots:{default:!0}}),c(I),c(i),q((e,s,t)=>{o=_(i,1,"session-card svelte-1po5ep0",null,o,{active:g(a)}),f(b,e),f(j,`Evaluation #${s??""}`),f(z,t)},[()=>function(s){switch(s){case e.COMPLETED:return"âœ…";case e.RUNNING:return"â³";case e.FAILED:return"âŒ";case e.CANCELLED:return"ğŸš«";default:return"â¸ï¸"}}(g(t).status),()=>g(t).id.split("_")[1],()=>{return e=g(t).createdAt,new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}).format(e);var e}]),v(s,i)}),c(w),q(()=>f(m,`Past Evaluations (${g(a).length??""})`)),v(s,t)},b=e=>{var s=Ye();v(e,s)};n(y,e=>{g(a).length>0?e(w):e(b,!1)}),c(m),v(s,m),o()}E(["click","keydown"]);var ss=r('<div class="progress-message svelte-1q9gdpq"><div class="spinner svelte-1q9gdpq"></div> <p class="svelte-1q9gdpq">Analyzing code quality and compliance...</p></div>'),ts=r('<div class="results-container svelte-1q9gdpq"><!> <!> <!> <!> <!></div>'),as=r('<p class="error-message svelte-1q9gdpq"> </p>'),is=r('<div class="error-state svelte-1q9gdpq"><svg width="48" height="48" viewBox="0 0 16 16" fill="currentColor" class="svelte-1q9gdpq"><path d="M8 0a8 8 0 1 0 0 16A8 8 0 0 0 8 0zM7 4h2v5H7V4zm0 6h2v2H7v-2z"></path></svg> <h3 class="svelte-1q9gdpq">Evaluation Failed</h3> <!></div>'),rs=r('<div class="empty-state svelte-1q9gdpq"><div class="empty-icon svelte-1q9gdpq">ğŸ”</div> <h2 class="svelte-1q9gdpq">Start an Evaluation Session</h2> <p class="svelte-1q9gdpq">Load execution results from the Execution Agent to begin quality assessment.</p></div>'),ls=r('<div class="evaluator-page svelte-1q9gdpq"><header class="page-header svelte-1q9gdpq"><h1 class="svelte-1q9gdpq">Evaluator Agent</h1> <p class="text-muted svelte-1q9gdpq">Assess quality and SAS compliance</p></header> <div class="content-grid svelte-1q9gdpq"><div class="left-column svelte-1q9gdpq"><!> <!></div> <div class="right-column svelte-1q9gdpq"><!></div></div></div>');function ns(s,t){i(t,!0);const a=k(()=>F.currentSession),r=k(()=>F.sessions.filter(s=>s.status===e.COMPLETED).slice(-2,-1)[0]||null);C(s,{children:(s,t)=>{var E=ls(),C=u(l(E),2),L=l(C),R=l(L);z(R,{title:"New Evaluation Request",children:(e,s)=>{!function(e,s){i(s,!0);let t=y(!0),a=y(!0),r=y(!0),_=y(!0),x=y(!0),$=y(!0),S=y(null),j=y(!1);const E=k(()=>g(t)||g(a)||g(r)||g(_)||g(x)||g($));async function C(){if(s.executionResult)if(g(E)){b(S,null),b(j,!0);try{const e=[];g(t)&&e.push("code_quality"),g(a)&&e.push("sas_compliance"),g(r)&&e.push("performance"),g(_)&&e.push("security"),g(x)&&e.push("maintainability"),g($)&&e.push("test_coverage");const i=await I({executionSessionId:s.executionSessionId,executionResult:s.executionResult,criteria:e});i.success||b(S,i.error?.message||"Failed to start evaluation",!0)}catch(e){b(S,e instanceof Error?e.message:"An unknown error occurred",!0)}finally{b(j,!1)}}else b(S,"Please select at least one evaluation criterion");else b(S,"No execution result to evaluate")}var z=W(),L=l(z),R=e=>{var i=V(),o=d(i),y=u(l(o),2),z=l(y),L=e=>{var t=B(),a=u(l(t),2),i=l(a,!0);c(a),p(2),c(t),q(()=>f(i,s.executionResult.filesModified.length)),v(e,t)};n(z,e=>{s.executionResult.filesModified&&e(L)});var R=u(z,2),P=e=>{var t=G(),a=u(l(t),2),i=l(a);c(a),p(2),c(t),q(()=>f(i,`${s.executionResult.testResults.passed??""}/${s.executionResult.testResults.total??""}`)),v(e,t)};n(R,e=>{s.executionResult.testResults&&e(P)});var D=u(R,2),F=e=>{var t=Q(),a=u(l(t),2),i=l(a,!0);c(a),p(2),c(t),q(e=>f(i,e),[()=>s.executionResult.metrics.duration<1e3?`${s.executionResult.metrics.duration}ms`:`${(s.executionResult.metrics.duration/1e3).toFixed(1)}s`]),v(e,t)};n(D,e=>{s.executionResult.metrics&&e(F)}),c(y),c(o);var O=u(o,2),I=u(l(O),4),M=l(I),T=l(M);m(T),p(2),c(M);var U=u(M,2),H=l(U);m(H),p(2),c(U);var W=u(U,2),J=l(W);m(J),p(2),c(W);var K=u(W,2),X=l(K);m(X),p(2),c(K);var Y=u(K,2),Z=l(Y);m(Z),p(2),c(Y);var ee=u(Y,2),se=l(ee);m(se),p(2),c(ee),c(I),c(O);var te=u(O,2),ae=e=>{N(e,{variant:"error",children:(e,s)=>{p();var t=h();q(()=>f(t,g(S))),v(e,t)},$$slots:{default:!0}})};n(te,e=>{g(S)&&e(ae)});var ie=u(te,2);{let e=k(()=>g(j)||!g(E));A(ie,{onclick:C,get disabled(){return g(e)},fullWidth:!0,children:(e,s)=>{p();var t=h();q(()=>f(t,g(j)?"Starting Evaluation...":"Evaluate Code")),v(e,t)},$$slots:{default:!0}})}w(T,()=>g(t),e=>b(t,e)),w(H,()=>g(a),e=>b(a,e)),w(J,()=>g(r),e=>b(r,e)),w(X,()=>g(_),e=>b(_,e)),w(Z,()=>g(x),e=>b(x,e)),w(se,()=>g($),e=>b($,e)),v(e,i)},P=e=>{var s=H();v(e,s)};n(L,e=>{s.executionResult?e(R):e(P,!1)}),c(z),v(e,z),o()}(e,{})},$$slots:{default:!0}});var D=u(R,2),F=e=>{z(e,{title:"Evaluation History",class:"mt-6",children:(e,s)=>{es(e,{})},$$slots:{default:!0}})};n(D,e=>{g(a)&&e(F)}),c(L);var O=u(L,2),U=l(O),ee=s=>{var t=j(),m=d(t),y=e=>{z(e,{title:"Evaluation in Progress",children:(e,s)=>{var t=ss();v(e,t)},$$slots:{default:!0}})},w=s=>{var t=j(),m=d(t),y=e=>{var s=ts(),t=l(s);z(t,{title:"Quality Metrics",children:(e,s)=>{!function(e,s){i(s,!0);var t=Z(),a=l(t),r=e=>{var t=X(),a=d(t),i=l(a);let r;var o=l(i),m=l(o,!0);c(o);var y=u(o,2),w=l(y,!0);c(y),c(i),p(2),c(a);var b=u(a,2),$=l(b),S=l($),j=u(l(S),2);{let e=k(()=>T(s.metrics.code_quality));P(j,{get variant(){return g(e)},children:(e,t)=>{p();var a=h();q(e=>f(a,e),[()=>M(s.metrics.code_quality)]),v(e,a)},$$slots:{default:!0}})}c(S);var E=u(S,2),C=l(E);let z;c(E),p(2),c($);var A=u($,2),N=l(A),L=u(l(N),2);{let e=k(()=>T(s.metrics.performance));P(L,{get variant(){return g(e)},children:(e,t)=>{p();var a=h();q(e=>f(a,e),[()=>M(s.metrics.performance)]),v(e,a)},$$slots:{default:!0}})}c(N);var R=u(N,2),D=l(R);let F;c(R),p(2),c(A);var O=u(A,2),I=l(O),U=u(l(I),2);{let e=k(()=>T(s.metrics.security));P(U,{get variant(){return g(e)},children:(e,t)=>{p();var a=h();q(e=>f(a,e),[()=>M(s.metrics.security)]),v(e,a)},$$slots:{default:!0}})}c(I);var B=u(I,2),G=l(B);let Q;c(B),p(2),c(O);var V=u(O,2),H=l(V),W=u(l(H),2);{let e=k(()=>T(s.metrics.maintainability));P(W,{get variant(){return g(e)},children:(e,t)=>{p();var a=h();q(e=>f(a,e),[()=>M(s.metrics.maintainability)]),v(e,a)},$$slots:{default:!0}})}c(H);var Y=u(H,2),Z=l(Y);let ee;c(Y),p(2),c(V);var se=u(V,2),te=e=>{var t=J(),a=l(t),i=u(l(a),2);{let e=k(()=>T(s.metrics.test_coverage));P(i,{get variant(){return g(e)},children:(e,t)=>{p();var a=h();q(e=>f(a,e),[()=>M(s.metrics.test_coverage)]),v(e,a)},$$slots:{default:!0}})}c(a);var r=u(a,2),n=l(r);let o;c(r),p(2),c(t),q(()=>{o=_(n,1,"metric-bar-fill svelte-1a9i8n4",null,o,{success:s.metrics.test_coverage>=.8,warning:s.metrics.test_coverage>=.6&&s.metrics.test_coverage<.8,danger:s.metrics.test_coverage<.6}),x(n,`width: ${100*s.metrics.test_coverage}%`)}),v(e,t)};n(se,e=>{void 0!==s.metrics.test_coverage&&e(te)});var ae=u(se,2),ie=e=>{const t=k(()=>"string"==typeof s.metrics.complexity?s.metrics.complexity:s.metrics.complexity<5?"low":s.metrics.complexity<10?"medium":"high");var a=K(),i=l(a),r=u(l(i),2);{let e=k(()=>"low"===g(t)?"success":"medium"===g(t)?"warning":"danger");P(r,{get variant(){return g(e)},children:(e,s)=>{p();var a=h();q(e=>f(a,e),[()=>g(t).toUpperCase()]),v(e,a)},$$slots:{default:!0}})}c(i),p(2),c(a),v(e,a)};n(ae,e=>{void 0!==s.metrics.complexity&&e(ie)}),c(b),q((e,t)=>{r=_(i,1,"score-circle svelte-1a9i8n4",null,r,{excellent:s.metrics.overall>=.8,good:s.metrics.overall>=.6&&s.metrics.overall<.8,poor:s.metrics.overall<.6}),f(m,e),f(w,t),z=_(C,1,"metric-bar-fill svelte-1a9i8n4",null,z,{success:s.metrics.code_quality>=.8,warning:s.metrics.code_quality>=.6&&s.metrics.code_quality<.8,danger:s.metrics.code_quality<.6}),x(C,`width: ${100*s.metrics.code_quality}%`),F=_(D,1,"metric-bar-fill svelte-1a9i8n4",null,F,{success:s.metrics.performance>=.8,warning:s.metrics.performance>=.6&&s.metrics.performance<.8,danger:s.metrics.performance<.6}),x(D,`width: ${100*s.metrics.performance}%`),Q=_(G,1,"metric-bar-fill svelte-1a9i8n4",null,Q,{success:s.metrics.security>=.8,warning:s.metrics.security>=.6&&s.metrics.security<.8,danger:s.metrics.security<.6}),x(G,`width: ${100*s.metrics.security}%`),ee=_(Z,1,"metric-bar-fill svelte-1a9i8n4",null,ee,{success:s.metrics.maintainability>=.8,warning:s.metrics.maintainability>=.6&&s.metrics.maintainability<.8,danger:s.metrics.maintainability<.6}),x(Z,`width: ${100*s.metrics.maintainability}%`)},[()=>{return(e=s.metrics.overall)>=.9?"A":e>=.8?"B":e>=.7?"C":e>=.6?"D":"F";var e},()=>M(s.metrics.overall)]),v(e,t)},m=e=>{var s=Y();v(e,s)};n(a,e=>{s.metrics?e(r):e(m,!1)}),c(t),v(e,t),o()}(e,{get metrics(){return g(a).assessment.quality_metrics}})},$$slots:{default:!0}});var m=u(t,2),y=e=>{z(e,{title:"SAS Compliance",class:"mt-6",children:(e,s)=>{qe(e,{get compliance(){return g(a).assessment.sas_compliance}})},$$slots:{default:!0}})};n(m,e=>{g(a).assessment.sas_compliance&&e(y)});var w=u(m,2),b=e=>{z(e,{title:"Code Review",class:"mt-6",children:(e,s)=>{!function(e,s){function t(e){switch(e.toLowerCase()){case"critical":case"error":return"ğŸ”´";case"warning":return"ğŸŸ¡";case"info":return"ğŸ”µ";case"suggestion":return"ğŸ’¡";default:return"âšª"}}i(s,!0);const a=k(()=>()=>{const e={};return s.reviews.forEach(s=>{const t=s.severity.toLowerCase();e[t]||(e[t]=[]),e[t].push(s)}),e}),r=["critical","error","warning","info","suggestion"];var m=Ee(),y=l(m),w=e=>{var i=Se(),o=d(i),m=u(l(o),2);$(m,21,()=>r,S,(e,s)=>{const i=k(()=>g(a)()[g(s)]?.length||0);var r=j(),o=d(r),m=e=>{var a=fe(),r=l(a),n=l(r,!0);c(r);var o=u(r,2),d=l(o,!0);c(o);var m=u(o,2),p=l(m,!0);c(m),c(a),q(e=>{f(n,e),f(d,g(i)),f(p,g(s))},[()=>t(g(s))]),v(e,a)};n(o,e=>{g(i)>0&&e(m)}),v(e,r)}),c(m),c(o);var y=u(o,2);$(y,21,()=>s.reviews,S,(e,s)=>{var a=$e(),i=l(a),r=l(i),o=l(r),d=l(o,!0);c(o);var m=u(o,2),y=l(m,!0);c(m),c(r);var w=u(r,2);{let e=k(()=>function(e){switch(e.toLowerCase()){case"critical":case"error":return"danger";case"warning":return"warning";case"info":default:return"neutral";case"suggestion":return"success"}}(g(s).severity));P(w,{get variant(){return g(e)},children:(e,t)=>{p();var a=h();q(()=>f(a,g(s).severity)),v(e,a)},$$slots:{default:!0}})}c(i);var b=u(i,2),_=e=>{var t=we(),a=u(l(t),2),i=l(a,!0);c(a);var r=u(a,2),o=e=>{var t=ke(),a=l(t);c(t),q(()=>f(a,`Line ${g(s).line??""}`)),v(e,t)};n(r,e=>{g(s).line&&e(o)}),c(t),q(()=>f(i,g(s).file)),v(e,t)};n(b,e=>{g(s).file&&e(_)});var x=u(b,2),$=e=>{var t=be(),a=u(l(t),2),i=l(a),r=l(i,!0);c(i),c(a),c(t),q(()=>f(r,g(s).code)),v(e,t)};n(x,e=>{g(s).code&&e($)});var S=u(x,2),j=e=>{var t=_e(),a=u(l(t),2),i=l(a,!0);c(a),c(t),q(()=>f(i,g(s).suggestion)),v(e,t)};n(S,e=>{g(s).suggestion&&e(j)});var E=u(S,2),C=e=>{var t=xe(),a=l(t);P(a,{variant:"neutral",size:"sm",children:(e,t)=>{p();var a=h();q(()=>f(a,g(s).category)),v(e,a)},$$slots:{default:!0}}),c(t),v(e,t)};n(E,e=>{g(s).category&&e(C)}),c(a),q(e=>{f(d,e),f(y,g(s).message)},[()=>t(g(s).severity)]),v(e,a)}),c(y),v(e,i)},b=e=>{var s=je();v(e,s)};n(y,e=>{s.reviews.length>0?e(w):e(b,!1)}),c(m),v(e,m),o()}(e,{get reviews(){return g(a).assessment.code_review.findings}})},$$slots:{default:!0}})};n(w,e=>{g(a).assessment.code_review?.findings&&g(a).assessment.code_review.findings.length>0&&e(b)});var E=u(w,2),C=e=>{z(e,{title:"Improvement Suggestions",class:"mt-6",children:(e,s)=>{Te(e,{get suggestions(){return g(a).assessment.improvements}})},$$slots:{default:!0}})};n(E,e=>{g(a).assessment.improvements&&g(a).assessment.improvements.length>0&&e(C)});var A=u(E,2),N=e=>{z(e,{title:"Comparison with Previous",class:"mt-6",children:(e,s)=>{!function(e,s){function t(e,s){return(e-s)/s*100}function a(e){return`${e>=0?"+":""}${e.toFixed(1)}%`}i(s,!0);const r=k(()=>s.current&&s.previous&&s.current.assessment&&s.previous.assessment&&s.current.assessment.quality_metrics.overall>s.previous.assessment.quality_metrics.overall);var m=Ge(),y=l(m),w=e=>{var i=Ue(),n=d(i),o=u(l(n),2),m=l(o);{let e=k(()=>g(r)?"success":"warning");P(m,{get variant(){return g(e)},children:(e,s)=>{p();var t=h();q(()=>f(t,g(r)?"Improved":"Declined")),v(e,t)},$$slots:{default:!0}})}c(o),c(n);var y=u(n,2),w=l(y),b=l(w),x=u(l(b),2),$=l(x,!0);c(x),c(b);var S=u(b,2),j=l(S),E=u(l(j),2),C=l(E);c(E),c(j);var z=u(j,2),A=u(l(z),2),N=l(A);c(A),c(z);var L=u(z,2),R=u(l(L),2),D=l(R);c(R),c(L);var F=u(L,2),O=u(l(F),2),I=l(O);c(O),c(F);var M=u(F,2),T=u(l(M),2),U=l(T);c(T),c(M),c(S),c(w);var B=u(w,2),G=l(B),Q=u(l(G),2),V=l(Q,!0);c(Q),c(G);var H=u(G,2),W=l(H),J=u(l(W),2),K=l(J),X=l(K);c(K);var Y=u(K,2);let Z;var ee=l(Y,!0);c(Y),c(J),c(W);var se=u(W,2),te=u(l(se),2),ae=l(te),ie=l(ae);c(ae);var re=u(ae,2);let le;var ne=l(re,!0);c(re),c(te),c(se);var ce=u(se,2),ve=u(l(ce),2),oe=l(ve),de=l(oe);c(oe);var ue=u(oe,2);let me;var pe=l(ue,!0);c(ue),c(ve),c(ce);var ge=u(ce,2),ye=u(l(ge),2),he=l(ye),qe=l(he);c(he);var fe=u(he,2);let ke;var we=l(fe,!0);c(fe),c(ye),c(ge);var be=u(ge,2),_e=u(l(be),2),xe=l(_e),$e=l(xe);c(xe);var Se=u(xe,2);let je;var Ee=l(Se,!0);c(Se),c(_e),c(be),c(H),c(B),c(y),q((e,s,t,a,i,r,l,n,c,v,o,d,u,m,p,g,y,h,q,k,w,b)=>{f($,e),f(C,`${s??""}%`),f(N,`${t??""}%`),f(D,`${a??""}%`),f(I,`${i??""}%`),f(U,`${r??""}%`),f(V,l),f(X,`${n??""}%`),Z=_(Y,1,"metric-change svelte-1rkq4yi",null,Z,c),f(ee,v),f(ie,`${o??""}%`),le=_(re,1,"metric-change svelte-1rkq4yi",null,le,d),f(ne,u),f(de,`${m??""}%`),me=_(ue,1,"metric-change svelte-1rkq4yi",null,me,p),f(pe,g),f(qe,`${y??""}%`),ke=_(fe,1,"metric-change svelte-1rkq4yi",null,ke,h),f(we,q),f($e,`${k??""}%`),je=_(Se,1,"metric-change svelte-1rkq4yi",null,je,w),f(Ee,b)},[()=>new Date(s.previous.createdAt).toLocaleDateString(),()=>(100*s.previous.assessment.quality_metrics.overall).toFixed(1),()=>(100*s.previous.assessment.quality_metrics.code_quality).toFixed(1),()=>(100*s.previous.assessment.quality_metrics.performance).toFixed(1),()=>(100*s.previous.assessment.quality_metrics.security).toFixed(1),()=>(100*s.previous.assessment.quality_metrics.maintainability).toFixed(1),()=>new Date(s.current.createdAt).toLocaleDateString(),()=>(100*s.current.assessment.quality_metrics.overall).toFixed(1),()=>({positive:t(s.current.assessment.quality_metrics.overall,s.previous.assessment.quality_metrics.overall)>=0,negative:t(s.current.assessment.quality_metrics.overall,s.previous.assessment.quality_metrics.overall)<0}),()=>a(t(s.current.assessment.quality_metrics.overall,s.previous.assessment.quality_metrics.overall)),()=>(100*s.current.assessment.quality_metrics.code_quality).toFixed(1),()=>({positive:t(s.current.assessment.quality_metrics.code_quality,s.previous.assessment.quality_metrics.code_quality)>=0,negative:t(s.current.assessment.quality_metrics.code_quality,s.previous.assessment.quality_metrics.code_quality)<0}),()=>a(t(s.current.assessment.quality_metrics.code_quality,s.previous.assessment.quality_metrics.code_quality)),()=>(100*s.current.assessment.quality_metrics.performance).toFixed(1),()=>({positive:t(s.current.assessment.quality_metrics.performance,s.previous.assessment.quality_metrics.performance)>=0,negative:t(s.current.assessment.quality_metrics.performance,s.previous.assessment.quality_metrics.performance)<0}),()=>a(t(s.current.assessment.quality_metrics.performance,s.previous.assessment.quality_metrics.performance)),()=>(100*s.current.assessment.quality_metrics.security).toFixed(1),()=>({positive:t(s.current.assessment.quality_metrics.security,s.previous.assessment.quality_metrics.security)>=0,negative:t(s.current.assessment.quality_metrics.security,s.previous.assessment.quality_metrics.security)<0}),()=>a(t(s.current.assessment.quality_metrics.security,s.previous.assessment.quality_metrics.security)),()=>(100*s.current.assessment.quality_metrics.maintainability).toFixed(1),()=>({positive:t(s.current.assessment.quality_metrics.maintainability,s.previous.assessment.quality_metrics.maintainability)>=0,negative:t(s.current.assessment.quality_metrics.maintainability,s.previous.assessment.quality_metrics.maintainability)<0}),()=>a(t(s.current.assessment.quality_metrics.maintainability,s.previous.assessment.quality_metrics.maintainability))]),v(e,i)},b=e=>{var s=Be();v(e,s)};n(y,e=>{s.current&&s.previous&&s.current.assessment&&s.previous.assessment?e(w):e(b,!1)}),c(m),v(e,m),o()}(e,{get current(){return g(a)},get previous(){return g(r)}})},$$slots:{default:!0}})};n(A,e=>{g(r)&&g(r).assessment&&e(N)}),c(s),v(e,s)},w=s=>{var t=j(),i=d(t),r=e=>{z(e,{title:"Evaluation Failed",children:(e,s)=>{var t=is(),i=u(l(t),4),r=e=>{var s=as(),t=l(s,!0);c(s),q(()=>f(t,g(a).error)),v(e,s)};n(i,e=>{g(a).error&&e(r)}),c(t),v(e,t)},$$slots:{default:!0}})};n(i,s=>{g(a).status===e.FAILED&&s(r)},!0),v(s,t)};n(m,s=>{g(a).status===e.COMPLETED&&g(a).assessment?s(y):s(w,!1)},!0),v(s,t)};n(m,s=>{g(a).status===e.RUNNING?s(y):s(w,!1)}),v(s,t)},se=e=>{z(e,{title:"Welcome",children:(e,s)=>{var t=rs();v(e,t)},$$slots:{default:!0}})};n(U,e=>{g(a)?e(ee):e(se,!1)}),c(O),c(C),c(E),v(s,E)},$$slots:{default:!0}}),o()}export{ns as component};
