import{f as g,a as f,t as tt}from"../chunks/9XWdspYM.js";import"../chunks/BsLrHCZA.js";import{p as W,m as j,c as s,b as o,g as a,ak as D,s as $,i as e,j as C,x as et,u as b,t as at}from"../chunks/Cr9rJIyK.js";import{i as I,r as B,P as st}from"../chunks/Ci9HWMjh.js";import{s as ot,a as rt}from"../chunks/C4QtnTPh.js";import{c as lt,w as it}from"../chunks/pKpJ46-q.js";import{A as E}from"../chunks/BiFJXEbU.js";import{e as O,i as F,s as k}from"../chunks/O9ATySAj.js";import{e as dt}from"../chunks/BEZi9W-P.js";import{p as U}from"../chunks/DyAKuw6u.js";import{b as nt,a as pt}from"../chunks/BIiGD5P8.js";import"../chunks/C2WxzHaP.js";import"../chunks/DsSU34pe.js";import{A as ct}from"../chunks/CWNTjX5g.js";var vt=g('<div class="space-y-3"><div><label for="allowed-repos" class="text-sm text-slate-300">Allowed Repos (comma-separated)</label> <input id="allowed-repos" class="w-full bg-slate-800 text-white border border-slate-700 rounded px-3 py-2 text-sm mt-1"/></div> <div class="flex items-center gap-2"><input id="sas" type="checkbox" class="accent-amber-400"/> <label for="sas" class="text-sm text-slate-200">Auto evaluate with SAS</label></div> <div class="flex justify-end gap-2"><button type="button" class="px-3 py-1 rounded border border-slate-700 text-slate-200">Cancel</button> <button type="button" class="px-3 py-1 rounded bg-amber-500 text-black font-semibold">Save</button></div></div>');function ut(S,v){W(v,!1);let _=U(v,"template",8);const A=lt();let i=j(_().allowedRepos.join(", ")),c=j(_().autoEvaluateWithSAS);const h=()=>{const y=e(i).split(",").map(T=>T.trim()).filter(Boolean);A("save",{..._(),allowedRepos:y,autoEvaluateWithSAS:e(c)})};I();var u=vt(),d=s(u),t=o(s(d),2);B(t),a(d);var m=o(d,2),r=s(m);B(r),D(2),a(m);var n=o(m,2),p=s(n),w=o(p,2);a(n),a(u),nt(t,()=>e(i),y=>$(i,y)),pt(r,()=>e(c),y=>$(c,y)),O("click",p,()=>A("cancel")),O("click",w,h),f(S,u),C()}var mt=g('<button class="px-3 py-1 rounded bg-amber-500 text-black text-xs font-semibold">Edit</button>'),xt=g('<span class="text-xs text-slate-500">Locked</span>'),bt=g('<tr class="border-b border-slate-800"><td colspan="7" class="px-4 py-3 bg-slate-900/70"><!> <p class="text-xs text-slate-500 mt-2">TODO: persist to config (Tauri) instead of in-memory once available.</p></td></tr>'),ft=g('<tr class="border-b border-slate-800"><td class="px-4 py-2"> </td><td class="px-4 py-2"> </td><td class="px-4 py-2"> </td><td class="px-4 py-2 text-slate-300"> </td><td class="px-4 py-2"> </td><td class="px-4 py-2"> </td><td class="px-4 py-2"><!></td></tr> <!>',1),_t=g('<div class="overflow-auto"><table class="min-w-full text-sm text-left text-slate-200"><thead class="bg-slate-800 text-xs uppercase text-slate-400"><tr><th class="px-4 py-2">Kind</th><th class="px-4 py-2">Label</th><th class="px-4 py-2">Pipeline</th><th class="px-4 py-2">Allowed Repos</th><th class="px-4 py-2">Auto SAS</th><th class="px-4 py-2">Locked</th><th class="px-4 py-2">Actions</th></tr></thead><tbody></tbody></table></div>');function ht(S,v){W(v,!1);let _=U(v,"templates",24,()=>[]),A=U(v,"onUpdate",8),i=j(null);I();var c=_t(),h=s(c),u=o(s(h));dt(u,5,_,d=>d.id,(d,t)=>{var m=ft(),r=et(m),n=s(r),p=s(n,!0);a(n);var w=o(n),y=s(w,!0);a(w);var T=o(w),G=s(T,!0);a(T);var L=o(T),K=s(L,!0);a(L);var P=o(L),Y=s(P,!0);a(P);var R=o(P),q=s(R,!0);a(R);var M=o(R),z=s(M);{var H=l=>{var x=mt();O("click",x,()=>$(i,e(t).id)),f(l,x)},J=l=>{var x=xt();f(l,x)};F(z,l=>{e(t),b(()=>!e(t).locked)?l(H):l(J,!1)})}a(M),a(r);var Q=o(r,2);{var V=l=>{var x=bt(),N=s(x),X=s(N);ut(X,{get template(){return e(t)},$$events:{save:Z=>{A()(Z.detail),$(i,null)},cancel:()=>$(i,null)}}),D(2),a(N),a(x),f(l,x)};F(Q,l=>{e(i),e(t),b(()=>e(i)===e(t).id)&&l(V)})}at(l=>{k(p,(e(t),b(()=>e(t).kind))),k(y,(e(t),b(()=>e(t).label))),k(G,(e(t),b(()=>e(t).pipelineId))),k(K,l),k(Y,(e(t),b(()=>e(t).autoEvaluateWithSAS?"Yes":"No"))),k(q,(e(t),b(()=>e(t).locked?"Locked":"Editable")))},[()=>(e(t),b(()=>e(t).allowedRepos.join(", ")))]),f(d,m)}),a(u),a(h),a(c),f(S,c),C()}var yt=g('<div class="admin-container svelte-1o5mf4f"><div class="page-header svelte-1o5mf4f"><h1 class="page-title svelte-1o5mf4f">Agent Templates</h1> <p class="page-description svelte-1o5mf4f">Manage in-memory templates. Locked templates are view-only.</p></div> <!> <!></div>');function Wt(S,v){W(v,!1);const _=()=>rt(h,"$templatesStore",A),[A,i]=ot(),c=[...E.planner,...E.execution,...E.evaluator,...E.coordinator],h=it(c),u=r=>{h.update(n=>n.map(p=>p.id===r.id?{...p,...r}:p))};I();var d=yt(),t=o(s(d),2);ct(t,{variant:"info",dismissible:!0,children:(r,n)=>{D();var p=tt("TODO: Template persistence via Tauri config not yet implemented. Changes are in-memory only.");f(r,p)},$$slots:{default:!0}});var m=o(t,2);st(m,{variant:"bordered",padding:"lg",children:(r,n)=>{ht(r,{get templates(){return _()},onUpdate:u})},$$slots:{default:!0}}),a(d),f(S,d),C(),i()}export{Wt as component};
