import{f as g,a as f,t as tt}from"../chunks/CHRq6SN2.js";import"../chunks/C5SEkKG1.js";import{p as W,m as j,c as s,d as r,r as a,n as D,s as $,g as e,a as C,f as et,j as b,t as at}from"../chunks/LjYFlPRR.js";import{i as I,r as B,P as st}from"../chunks/B4R2PCZ7.js";import{s as rt,a as ot}from"../chunks/BfvESHRd.js";import{c as lt,w as dt}from"../chunks/afJwds1U.js";import{A as E}from"../chunks/BiFJXEbU.js";import{e as O,i as F,s as S}from"../chunks/CedpH895.js";import{e as it}from"../chunks/xbjVpMZg.js";import{p as U}from"../chunks/KPNkJdFe.js";import{b as nt,a as pt}from"../chunks/B2Kn1gDR.js";import"../chunks/DT77gqAl.js";import"../chunks/CIhCbREJ.js";import{A as ct}from"../chunks/DVZU4egd.js";var vt=g('<div class="space-y-3"><div><label for="allowed-repos" class="text-sm text-slate-300">Allowed Repos (comma-separated)</label> <input id="allowed-repos" class="w-full bg-slate-800 text-white border border-slate-700 rounded px-3 py-2 text-sm mt-1"/></div> <div class="flex items-center gap-2"><input id="sas" type="checkbox" class="accent-amber-400"/> <label for="sas" class="text-sm text-slate-200">Auto evaluate with SAS</label></div> <div class="flex justify-end gap-2"><button type="button" class="px-3 py-1 rounded border border-slate-700 text-slate-200">Cancel</button> <button type="button" class="px-3 py-1 rounded bg-amber-500 text-black font-semibold">Save</button></div></div>');function ut(k,v){W(v,!1);let _=U(v,"template",8);const A=lt();let d=j(_().allowedRepos.join(", ")),c=j(_().autoEvaluateWithSAS);const h=()=>{const y=e(d).split(",").map(T=>T.trim()).filter(Boolean);A("save",{..._(),allowedRepos:y,autoEvaluateWithSAS:e(c)})};I();var u=vt(),i=s(u),t=r(s(i),2);B(t),a(i);var m=r(i,2),o=s(m);B(o),D(2),a(m);var n=r(m,2),p=s(n),w=r(p,2);a(n),a(u),nt(t,()=>e(d),y=>$(d,y)),pt(o,()=>e(c),y=>$(c,y)),O("click",p,()=>A("cancel")),O("click",w,h),f(k,u),C()}var mt=g('<button class="px-3 py-1 rounded bg-amber-500 text-black text-xs font-semibold">Edit</button>'),xt=g('<span class="text-xs text-slate-500">Locked</span>'),bt=g('<tr class="border-b border-slate-800"><td colspan="7" class="px-4 py-3 bg-slate-900/70"><!> <p class="text-xs text-slate-500 mt-2">TODO: persist to config (Tauri) instead of in-memory once available.</p></td></tr>'),ft=g('<tr class="border-b border-slate-800"><td class="px-4 py-2"> </td><td class="px-4 py-2"> </td><td class="px-4 py-2"> </td><td class="px-4 py-2 text-slate-300"> </td><td class="px-4 py-2"> </td><td class="px-4 py-2"> </td><td class="px-4 py-2"><!></td></tr> <!>',1),_t=g('<div class="overflow-auto"><table class="min-w-full text-sm text-left text-slate-200"><thead class="bg-slate-800 text-xs uppercase text-slate-400"><tr><th class="px-4 py-2">Kind</th><th class="px-4 py-2">Label</th><th class="px-4 py-2">Pipeline</th><th class="px-4 py-2">Allowed Repos</th><th class="px-4 py-2">Auto SAS</th><th class="px-4 py-2">Locked</th><th class="px-4 py-2">Actions</th></tr></thead><tbody></tbody></table></div>');function ht(k,v){W(v,!1);let _=U(v,"templates",24,()=>[]),A=U(v,"onUpdate",8),d=j(null);I();var c=_t(),h=s(c),u=r(s(h));it(u,5,_,i=>i.id,(i,t)=>{var m=ft(),o=et(m),n=s(o),p=s(n,!0);a(n);var w=r(n),y=s(w,!0);a(w);var T=r(w),G=s(T,!0);a(T);var L=r(T),K=s(L,!0);a(L);var P=r(L),Y=s(P,!0);a(P);var R=r(P),q=s(R,!0);a(R);var M=r(R),z=s(M);{var H=l=>{var x=mt();O("click",x,()=>$(d,e(t).id)),f(l,x)},J=l=>{var x=xt();f(l,x)};F(z,l=>{e(t),b(()=>!e(t).locked)?l(H):l(J,!1)})}a(M),a(o);var Q=r(o,2);{var V=l=>{var x=bt(),N=s(x),X=s(N);ut(X,{get template(){return e(t)},$$events:{save:Z=>{A()(Z.detail),$(d,null)},cancel:()=>$(d,null)}}),D(2),a(N),a(x),f(l,x)};F(Q,l=>{e(d),e(t),b(()=>e(d)===e(t).id)&&l(V)})}at(l=>{S(p,(e(t),b(()=>e(t).kind))),S(y,(e(t),b(()=>e(t).label))),S(G,(e(t),b(()=>e(t).pipelineId))),S(K,l),S(Y,(e(t),b(()=>e(t).autoEvaluateWithSAS?"Yes":"No"))),S(q,(e(t),b(()=>e(t).locked?"Locked":"Editable")))},[()=>(e(t),b(()=>e(t).allowedRepos.join(", ")))]),f(i,m)}),a(u),a(h),a(c),f(k,c),C()}var yt=g('<div class="admin-container svelte-1o5mf4f"><div class="page-header svelte-1o5mf4f"><h1 class="page-title svelte-1o5mf4f">Agent Templates</h1> <p class="page-description svelte-1o5mf4f">Manage in-memory templates. Locked templates are view-only.</p></div> <!> <!></div>');function Wt(k,v){W(v,!1);const _=()=>ot(h,"$templatesStore",A),[A,d]=rt(),c=[...E.planner,...E.execution,...E.evaluator,...E.coordinator],h=dt(c),u=o=>{h.update(n=>n.map(p=>p.id===o.id?{...p,...o}:p))};I();var i=yt(),t=r(s(i),2);ct(t,{variant:"info",dismissible:!0,children:(o,n)=>{D();var p=tt("TODO: Template persistence via Tauri config not yet implemented. Changes are in-memory only.");f(o,p)},$$slots:{default:!0}});var m=r(t,2);st(m,{variant:"bordered",padding:"lg",children:(o,n)=>{ht(o,{get templates(){return _()},onUpdate:u})},$$slots:{default:!0}}),a(i),f(k,i),C(),d()}export{Wt as component};
