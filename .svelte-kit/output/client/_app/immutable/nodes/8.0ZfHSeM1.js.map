{"version":3,"file":"8.0ZfHSeM1.js","sources":["../../../../../../src/routes/architecture/lib/data.ts","../../../../../../src/routes/architecture/lib/components/TierDiagram.svelte","../../../../../../src/routes/architecture/lib/components/PipelineContracts.svelte","../../../../../../src/routes/architecture/lib/ArchitectureStudio.svelte","../../../../../../src/routes/architecture/lib/components/DependencyRules.svelte","../../../../../../src/routes/architecture/lib/components/ContractModal.svelte","../../../../../../src/routes/architecture/+page.svelte"],"sourcesContent":["import type { Service, Pipeline, Tier } from './types';\n\nexport const services: Record<string, Service> = {\n\tneuroforge: {\n\t\tname: 'NeuroForge',\n\t\tport: '8000',\n\t\tversion: 'v1.0 API',\n\t\ttier: 'provider',\n\t\tcategory: 'ai-engines',\n\t\tstatus: 'production',\n\t\tdescription: 'AI orchestration & model routing',\n\t\thasContract: true\n\t},\n\tmapo: {\n\t\tname: 'M.A.P.O.',\n\t\tport: '8003',\n\t\tversion: 'v1.0 Pipeline',\n\t\ttier: 'provider',\n\t\tcategory: 'ai-engines',\n\t\tstatus: 'production',\n\t\tdescription: 'Multi-AI Pipeline Orchestrator',\n\t\thasContract: true\n\t},\n\tdataforge: {\n\t\tname: 'DataForge',\n\t\tport: '8001',\n\t\tversion: 'v5.2 API',\n\t\ttier: 'provider',\n\t\tcategory: 'knowledge',\n\t\tstatus: 'production',\n\t\tdescription: 'Vector storage & semantic search',\n\t\thasContract: true\n\t},\n\trake: {\n\t\tname: 'Rake',\n\t\tport: '8002',\n\t\tversion: 'v1.0',\n\t\ttier: 'provider',\n\t\tcategory: 'knowledge',\n\t\tstatus: 'production',\n\t\tdescription: '5-stage ingestion pipeline'\n\t},\n\tforgeagents: {\n\t\tname: 'ForgeAgents',\n\t\tport: '8004',\n\t\tversion: 'v0.9 Preview',\n\t\ttier: 'provider',\n\t\tcategory: 'ai-engines',\n\t\tstatus: 'beta',\n\t\tdescription: 'Autonomous agent orchestration'\n\t}\n};\n\nexport const pipelines: Record<string, Pipeline> = {\n\tmapo: {\n\t\tname: 'M.A.P.O. Pipeline',\n\t\tversion: 'v1.0 Pipeline',\n\t\tdescription: 'Multi-AI orchestration for structured reasoning',\n\t\tstages: [\n\t\t\t{ name: 'Initial', model: 'GPT-4o-mini', color: '#22c55e' },\n\t\t\t{ name: 'Review', model: 'Claude', color: '#3b82f6' },\n\t\t\t{ name: 'Refinement', model: 'GPT-4', color: '#a855f7' },\n\t\t\t{ name: 'Final', model: 'Claude', color: '#f97316' }\n\t\t],\n\t\tinvocation: 'SSE-only',\n\t\tcontract: {\n\t\t\trequest: {\n\t\t\t\tpipeline_version: 'string',\n\t\t\t\tpipeline_id: 'uuid',\n\t\t\t\tinput: 'string',\n\t\t\t\tsystem_prompt: 'string (optional)'\n\t\t\t},\n\t\t\tresponse: {\n\t\t\t\tpipeline_id: 'uuid',\n\t\t\t\tstage: 'number (1-4)',\n\t\t\t\toutput: 'string',\n\t\t\t\ttokens: 'number',\n\t\t\t\ttimestamp: 'ISO8601'\n\t\t\t},\n\t\t\terrors: ['invalid_pipeline_version', 'rate_limit', 'timeout']\n\t\t}\n\t},\n\tneuroforge: {\n\t\tname: 'NeuroForge Pipeline',\n\t\tversion: 'v1.0 API',\n\t\tdescription: '5-stage LLM pipeline with context retrieval',\n\t\tstages: [\n\t\t\t{ name: 'Retrieve', color: '#6366f1' },\n\t\t\t{ name: 'Prepare', color: '#8b5cf6' },\n\t\t\t{ name: 'Execute', color: '#d946ef' },\n\t\t\t{ name: 'Score', color: '#ec4899' },\n\t\t\t{ name: 'Return', color: '#f43f5e' }\n\t\t],\n\t\tinvocation: 'REST + SSE',\n\t\tcontract: {\n\t\t\trequest: {\n\t\t\t\tmodel: 'string (claude, gpt-4, etc)',\n\t\t\t\tprompt: 'string',\n\t\t\t\tcontext_ids: 'array<uuid>'\n\t\t\t},\n\t\t\tresponse: {\n\t\t\t\tcompletion: 'string',\n\t\t\t\ttokens_used: 'number',\n\t\t\t\tmodel_used: 'string',\n\t\t\t\tlatency_ms: 'number'\n\t\t\t},\n\t\t\terrors: ['invalid_model', 'context_not_found', 'rate_limit']\n\t\t}\n\t},\n\tdataforge: {\n\t\tname: 'DataForge API',\n\t\tversion: 'v5.2 API',\n\t\tdescription: 'Vector storage & semantic search',\n\t\tstages: [\n\t\t\t{ name: 'Query', color: '#06b6d4' },\n\t\t\t{ name: 'Embed', color: '#0891b2' },\n\t\t\t{ name: 'Search', color: '#0e7490' }\n\t\t],\n\t\tinvocation: 'REST',\n\t\tcontract: {\n\t\t\trequest: {\n\t\t\t\tquery: 'string',\n\t\t\t\tlimit: 'number (default 10)',\n\t\t\t\tthreshold: 'number (0-1, default 0.5)'\n\t\t\t},\n\t\t\tresponse: {\n\t\t\t\tresults: 'array<{id, text, similarity}>',\n\t\t\t\ttotal: 'number'\n\t\t\t},\n\t\t\terrors: ['invalid_query', 'not_found', 'embedding_failed']\n\t\t}\n\t}\n};\n\nexport const tiers: Tier[] = [\n\t{\n\t\tid: 'consumer',\n\t\tname: 'Consumer Tier',\n\t\tsubtitle: 'Top Layer — User-Facing Applications',\n\t\tdescription: 'User-facing applications built on the ecosystem',\n\t\tcategories: [\n\t\t\t{\n\t\t\t\tid: 'workbench',\n\t\t\t\tname: 'Workbench Applications',\n\t\t\t\tproducts: [\n\t\t\t\t\t{ name: 'VibeForge', version: 'v5.6' },\n\t\t\t\t\t{ name: 'AuthorForge', version: 'v0.1-alpha' }\n\t\t\t\t],\n\t\t\t\ttraits: ['Multi-panel UI', 'Plugin systems', 'M.A.P.O. required']\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: 'domain',\n\t\t\t\tname: 'Domain Applications',\n\t\t\t\tproducts: [\n\t\t\t\t\t{ name: 'TradeForge', version: 'Planned' },\n\t\t\t\t\t{ name: 'Leopold', version: 'Planned' },\n\t\t\t\t\t{ name: 'Livy', version: 'Planned'  }\n\t\t\t\t],\n\t\t\t\ttraits: ['Simplified UX', 'Mobile-friendly']\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tid: 'intelligence',\n\t\tname: 'Intelligence Tier',\n\t\tsubtitle: 'Middle Layer — Reusable AI Reasoning',\n\t\tdescription: 'Domain-specific reasoning modules',\n\t\tcategories: [\n\t\t\t{\n\t\t\t\tid: 'modules',\n\t\t\t\tname: 'Intelligence Modules',\n\t\t\t\tproducts: [\n\t\t\t\t\t{ name: 'Arc Trajectory Engine', version: 'v1.0 Module' },\n\t\t\t\t\t{ name: 'MoneyAI Forecast Engine', version: 'v1.0 Module' },\n\t\t\t\t\t{ name: 'TradeForge Market Engine', version: 'v1.0 Module' }\n\t\t\t\t],\n\t\t\t\ttraits: ['Route through M.A.P.O.', 'Semantic versioning']\n\t\t\t}\n\t\t]\n\t},\n\t{\n\t\tid: 'provider',\n\t\tname: 'Provider Tier',\n\t\tsubtitle: 'Bottom of Stack — Core Backend Services',\n\t\tdescription: 'Core backend systems powering everything',\n\t\tcategories: [\n\t\t\t{\n\t\t\t\tid: 'ai-engines',\n\t\t\t\tname: 'AI Engine Services',\n\t\t\t\tproducts: [\n\t\t\t\t\t{ name: 'NeuroForge', port: '8000', version: 'v1.0 API', hasContract: true },\n\t\t\t\t\t{ name: 'M.A.P.O.', port: '8003', version: 'v1.0 Pipeline', hasContract: true },\n\t\t\t\t\t{ name: 'ForgeAgents', port: '8004', version: 'v0.9 Preview' }\n\t\t\t\t],\n\t\t\t\ttraits: ['Brain Stem / Cortex / Muscle', 'SSE streaming', 'Worker pools']\n\t\t\t},\n\t\t\t{\n\t\t\t\tid: 'knowledge',\n\t\t\t\tname: 'Knowledge & Ingestion',\n\t\t\t\tproducts: [\n\t\t\t\t\t{ name: 'DataForge', port: '8001', version: 'v5.2 API', hasContract: true },\n\t\t\t\t\t{ name: 'Rake', port: '8002', version: 'v1.0' }\n\t\t\t\t],\n\t\t\t\ttraits: ['Vector storage', '5-stage pipeline', 'Schema versioning']\n\t\t\t}\n\t\t]\n\t}\n];\n","<script lang=\"ts\">\n\timport type { Tier, Product } from '../types';\n\n\tinterface Props {\n\t\ttiers: Tier[];\n\t}\n\n\tlet { tiers }: Props = $props();\n\n\t// Tier color mapping\n\tconst tierColors: Record<string, { bg: string; border: string; accent: string }> = {\n\t\tconsumer: {\n\t\t\tbg: '#1e3a8a',\n\t\t\tborder: '#3b82f6',\n\t\t\taccent: '#60a5fa'\n\t\t},\n\t\tintelligence: {\n\t\t\tbg: '#581c87',\n\t\t\tborder: '#a855f7',\n\t\t\taccent: '#c084fc'\n\t\t},\n\t\tprovider: {\n\t\t\tbg: 'var(--color-graphite)',\n\t\t\tborder: 'var(--color-brass)',\n\t\t\taccent: 'var(--color-gold)'\n\t\t}\n\t};\n\n\tfunction handleProductClick(product: Product) {\n\t\tif (product.hasContract) {\n\t\t\t// Dispatch custom event to parent\n\t\t\tconst event = new CustomEvent('show-contract', {\n\t\t\t\tdetail: { product },\n\t\t\t\tbubbles: true,\n\t\t\t\tcomposed: true\n\t\t\t});\n\t\t\tdocument.dispatchEvent(event);\n\t\t}\n\t}\n</script>\n\n<div class=\"tier-diagram\">\n\t{#each tiers as tier}\n\t\t<div class=\"tier-container\" style=\"border-color: {tierColors[tier.id]?.border || tierColors.provider.border};\">\n\t\t\t<!-- Tier Header -->\n\t\t\t<div class=\"tier-header\" style=\"background: linear-gradient(135deg, {tierColors[tier.id]?.bg || tierColors.provider.bg} 0%, {tierColors[tier.id]?.accent || tierColors.provider.accent}22 100%);\">\n\t\t\t\t<div>\n\t\t\t\t\t<h3 class=\"tier-name\">{tier.name}</h3>\n\t\t\t\t\t<p class=\"tier-subtitle\">{tier.subtitle}</p>\n\t\t\t\t</div>\n\t\t\t\t<p class=\"tier-description\">{tier.description}</p>\n\t\t\t</div>\n\n\t\t\t<!-- Categories -->\n\t\t\t<div class=\"categories-grid\">\n\t\t\t\t{#each tier.categories as category}\n\t\t\t\t\t<div class=\"category-card\">\n\t\t\t\t\t\t<h4 class=\"category-name\">{category.name}</h4>\n\n\t\t\t\t\t\t<!-- Products -->\n\t\t\t\t\t\t<div class=\"products-list\">\n\t\t\t\t\t\t\t{#each category.products as product}\n\t\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\t\tclass=\"product-card\"\n\t\t\t\t\t\t\t\t\tclass:has-contract={product.hasContract}\n\t\t\t\t\t\t\t\t\tonclick={() => handleProductClick(product)}\n\t\t\t\t\t\t\t\t\tstyle=\"border-left-color: {tierColors[tier.id]?.accent || tierColors.provider.accent};\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<div class=\"product-header\">\n\t\t\t\t\t\t\t\t\t\t<span class=\"product-name\">{product.name}</span>\n\t\t\t\t\t\t\t\t\t\t{#if product.hasContract}\n\t\t\t\t\t\t\t\t\t\t\t<span class=\"contract-badge\">Contract</span>\n\t\t\t\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t<div class=\"product-details\">\n\t\t\t\t\t\t\t\t\t\t<span class=\"product-version\">{product.version}</span>\n\t\t\t\t\t\t\t\t\t\t{#if product.port}\n\t\t\t\t\t\t\t\t\t\t\t<span class=\"product-port\">Port {product.port}</span>\n\t\t\t\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t{/each}\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t<!-- Traits -->\n\t\t\t\t\t\t{#if category.traits.length > 0}\n\t\t\t\t\t\t\t<div class=\"traits-list\">\n\t\t\t\t\t\t\t\t{#each category.traits as trait}\n\t\t\t\t\t\t\t\t\t<span class=\"trait-badge\">{trait}</span>\n\t\t\t\t\t\t\t\t{/each}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{/if}\n\t\t\t\t\t</div>\n\t\t\t\t{/each}\n\t\t\t</div>\n\t\t</div>\n\t{/each}\n</div>\n\n<style>\n\t.tier-diagram {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tgap: var(--spacing-xl);\n\t\tpadding: var(--spacing-md);\n\t}\n\n\t.tier-container {\n\t\tbackground: var(--color-surface-2);\n\t\tborder: 2px solid;\n\t\tborder-radius: var(--radius-lg);\n\t\toverflow: hidden;\n\t\tbox-shadow: var(--shadow-lg);\n\t}\n\n\t.tier-header {\n\t\tpadding: var(--spacing-lg);\n\t\tborder-bottom: 1px solid var(--color-border-subtle);\n\t}\n\n\t.tier-name {\n\t\tfont-family: var(--font-family-heading);\n\t\tfont-size: 1.75rem;\n\t\tfont-weight: 400;\n\t\tcolor: var(--color-text-primary);\n\t\tmargin: 0 0 var(--spacing-xs) 0;\n\t\tletter-spacing: 0.02em;\n\t}\n\n\t.tier-subtitle {\n\t\tfont-family: var(--font-family-mono);\n\t\tfont-size: 0.875rem;\n\t\tcolor: var(--color-brass);\n\t\tmargin: 0 0 var(--spacing-md) 0;\n\t\ttext-transform: uppercase;\n\t\tletter-spacing: 0.05em;\n\t}\n\n\t.tier-description {\n\t\tfont-size: 0.95rem;\n\t\tcolor: var(--color-text-secondary);\n\t\tmargin: 0;\n\t\tline-height: 1.5;\n\t}\n\n\t.categories-grid {\n\t\tdisplay: grid;\n\t\tgrid-template-columns: repeat(auto-fit, minmax(350px, 1fr));\n\t\tgap: var(--spacing-lg);\n\t\tpadding: var(--spacing-lg);\n\t}\n\n\t.category-card {\n\t\tbackground: var(--color-surface-3);\n\t\tborder: 1px solid var(--color-border-subtle);\n\t\tborder-radius: var(--radius-md);\n\t\tpadding: var(--spacing-md);\n\t}\n\n\t.category-name {\n\t\tfont-family: var(--font-family-heading);\n\t\tfont-size: 1.125rem;\n\t\tfont-weight: 400;\n\t\tcolor: var(--color-text-primary);\n\t\tmargin: 0 0 var(--spacing-md) 0;\n\t\tletter-spacing: 0.02em;\n\t}\n\n\t.products-list {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tgap: var(--spacing-sm);\n\t\tmargin-bottom: var(--spacing-md);\n\t}\n\n\t.product-card {\n\t\tbackground: var(--color-midnight);\n\t\tborder: 1px solid var(--color-border-subtle);\n\t\tborder-left: 3px solid;\n\t\tborder-radius: var(--radius-sm);\n\t\tpadding: var(--spacing-md);\n\t\tcursor: default;\n\t\ttransition: all var(--transition-base);\n\t\ttext-align: left;\n\t\twidth: 100%;\n\t}\n\n\t.product-card.has-contract {\n\t\tcursor: pointer;\n\t}\n\n\t.product-card.has-contract:hover {\n\t\tborder-color: var(--color-brass);\n\t\tbackground: var(--color-surface-2);\n\t\ttransform: translateX(4px);\n\t}\n\n\t.product-header {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: space-between;\n\t\tmargin-bottom: var(--spacing-xs);\n\t}\n\n\t.product-name {\n\t\tfont-family: var(--font-family-body);\n\t\tfont-size: 1rem;\n\t\tfont-weight: 600;\n\t\tcolor: var(--color-text-primary);\n\t}\n\n\t.contract-badge {\n\t\tfont-family: var(--font-family-mono);\n\t\tfont-size: 0.7rem;\n\t\tbackground: var(--color-brass);\n\t\tcolor: var(--color-midnight);\n\t\tpadding: 0.15rem 0.5rem;\n\t\tborder-radius: var(--radius-full);\n\t\ttext-transform: uppercase;\n\t\tletter-spacing: 0.05em;\n\t\tfont-weight: 600;\n\t}\n\n\t.product-details {\n\t\tdisplay: flex;\n\t\tgap: var(--spacing-md);\n\t\tflex-wrap: wrap;\n\t}\n\n\t.product-version,\n\t.product-port {\n\t\tfont-family: var(--font-family-mono);\n\t\tfont-size: 0.8rem;\n\t\tcolor: var(--color-text-tertiary);\n\t}\n\n\t.product-port {\n\t\tcolor: var(--color-steel-blue);\n\t}\n\n\t.traits-list {\n\t\tdisplay: flex;\n\t\tflex-wrap: wrap;\n\t\tgap: var(--spacing-xs);\n\t\tpadding-top: var(--spacing-sm);\n\t\tborder-top: 1px solid var(--color-border-subtle);\n\t}\n\n\t.trait-badge {\n\t\tfont-family: var(--font-family-mono);\n\t\tfont-size: 0.75rem;\n\t\tbackground: var(--color-graphite);\n\t\tcolor: var(--color-text-secondary);\n\t\tpadding: 0.25rem 0.6rem;\n\t\tborder-radius: var(--radius-sm);\n\t\tborder: 1px solid var(--color-border-subtle);\n\t}\n\n\t/* Responsive design */\n\t@media (max-width: 768px) {\n\t\t.categories-grid {\n\t\t\tgrid-template-columns: 1fr;\n\t\t}\n\n\t\t.tier-name {\n\t\t\tfont-size: 1.5rem;\n\t\t}\n\t}\n</style>\n","<script lang=\"ts\">\n\timport type { Pipeline } from '../types';\n\n\tinterface Props {\n\t\tpipelines: Record<string, Pipeline>;\n\t}\n\n\tlet { pipelines }: Props = $props();\n\n\tfunction handleViewContract(pipeline: Pipeline) {\n\t\t// Dispatch custom event to parent\n\t\tconst event = new CustomEvent('show-contract', {\n\t\t\tdetail: { pipeline },\n\t\t\tbubbles: true,\n\t\t\tcomposed: true\n\t\t});\n\t\tdocument.dispatchEvent(event);\n\t}\n</script>\n\n<div class=\"pipeline-contracts\">\n\t<div class=\"pipeline-grid\">\n\t\t{#each Object.entries(pipelines) as [key, pipeline]}\n\t\t\t<div class=\"pipeline-card\">\n\t\t\t\t<!-- Pipeline Header -->\n\t\t\t\t<div class=\"pipeline-header\">\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<h3 class=\"pipeline-name\">{pipeline.name}</h3>\n\t\t\t\t\t\t<p class=\"pipeline-version\">{pipeline.version}</p>\n\t\t\t\t\t</div>\n\t\t\t\t\t<span class=\"invocation-badge\">{pipeline.invocation}</span>\n\t\t\t\t</div>\n\n\t\t\t\t<!-- Pipeline Description -->\n\t\t\t\t<p class=\"pipeline-description\">{pipeline.description}</p>\n\n\t\t\t\t<!-- Pipeline Stages -->\n\t\t\t\t<div class=\"stages-container\">\n\t\t\t\t\t<h4 class=\"stages-title\">Pipeline Stages</h4>\n\t\t\t\t\t<div class=\"stages-list\">\n\t\t\t\t\t\t{#each pipeline.stages as stage}\n\t\t\t\t\t\t\t<div class=\"stage-item\" style=\"border-left-color: {stage.color || 'var(--color-brass)'};\">\n\t\t\t\t\t\t\t\t<span class=\"stage-name\">{stage.name}</span>\n\t\t\t\t\t\t\t\t{#if stage.model}\n\t\t\t\t\t\t\t\t\t<span class=\"stage-model\">{stage.model}</span>\n\t\t\t\t\t\t\t\t{/if}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t{/each}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<!-- View Contract Button -->\n\t\t\t\t{#if pipeline.contract}\n\t\t\t\t\t<button class=\"view-contract-btn\" onclick={() => handleViewContract(pipeline)}>\n\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\t\t\twidth=\"16\"\n\t\t\t\t\t\t\theight=\"16\"\n\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\tstroke-width=\"2\"\n\t\t\t\t\t\t\tstroke-linecap=\"round\"\n\t\t\t\t\t\t\tstroke-linejoin=\"round\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<path d=\"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z\"></path>\n\t\t\t\t\t\t\t<polyline points=\"14 2 14 8 20 8\"></polyline>\n\t\t\t\t\t\t\t<line x1=\"16\" y1=\"13\" x2=\"8\" y2=\"13\"></line>\n\t\t\t\t\t\t\t<line x1=\"16\" y1=\"17\" x2=\"8\" y2=\"17\"></line>\n\t\t\t\t\t\t\t<polyline points=\"10 9 9 9 8 9\"></polyline>\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t\tView Contract\n\t\t\t\t\t</button>\n\t\t\t\t{/if}\n\t\t\t</div>\n\t\t{/each}\n\t</div>\n</div>\n\n<style>\n\t.pipeline-contracts {\n\t\tpadding: var(--spacing-md);\n\t}\n\n\t.pipeline-grid {\n\t\tdisplay: grid;\n\t\tgrid-template-columns: repeat(auto-fill, minmax(400px, 1fr));\n\t\tgap: var(--spacing-lg);\n\t}\n\n\t.pipeline-card {\n\t\tbackground: var(--color-surface-2);\n\t\tborder: 1px solid var(--color-border-subtle);\n\t\tborder-radius: var(--radius-lg);\n\t\tpadding: var(--spacing-lg);\n\t\tbox-shadow: var(--shadow-md);\n\t\ttransition: all var(--transition-base);\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tgap: var(--spacing-md);\n\t}\n\n\t.pipeline-card:hover {\n\t\tborder-color: var(--color-brass);\n\t\tbox-shadow: var(--shadow-lg);\n\t\ttransform: translateY(-2px);\n\t}\n\n\t.pipeline-header {\n\t\tdisplay: flex;\n\t\tjustify-content: space-between;\n\t\talign-items: flex-start;\n\t\tgap: var(--spacing-md);\n\t}\n\n\t.pipeline-name {\n\t\tfont-family: var(--font-family-heading);\n\t\tfont-size: 1.5rem;\n\t\tfont-weight: 400;\n\t\tcolor: var(--color-text-primary);\n\t\tmargin: 0 0 var(--spacing-xs) 0;\n\t\tletter-spacing: 0.02em;\n\t}\n\n\t.pipeline-version {\n\t\tfont-family: var(--font-family-mono);\n\t\tfont-size: 0.875rem;\n\t\tcolor: var(--color-brass);\n\t\tmargin: 0;\n\t\ttext-transform: uppercase;\n\t\tletter-spacing: 0.05em;\n\t}\n\n\t.invocation-badge {\n\t\tfont-family: var(--font-family-mono);\n\t\tfont-size: 0.75rem;\n\t\tbackground: var(--color-graphite);\n\t\tcolor: var(--color-text-secondary);\n\t\tpadding: 0.35rem 0.75rem;\n\t\tborder-radius: var(--radius-full);\n\t\tborder: 1px solid var(--color-border-subtle);\n\t\twhite-space: nowrap;\n\t\ttext-transform: uppercase;\n\t\tletter-spacing: 0.05em;\n\t}\n\n\t.pipeline-description {\n\t\tfont-size: 0.95rem;\n\t\tcolor: var(--color-text-secondary);\n\t\tmargin: 0;\n\t\tline-height: 1.6;\n\t}\n\n\t.stages-container {\n\t\tbackground: var(--color-surface-3);\n\t\tborder: 1px solid var(--color-border-subtle);\n\t\tborder-radius: var(--radius-md);\n\t\tpadding: var(--spacing-md);\n\t}\n\n\t.stages-title {\n\t\tfont-family: var(--font-family-heading);\n\t\tfont-size: 1rem;\n\t\tfont-weight: 400;\n\t\tcolor: var(--color-text-primary);\n\t\tmargin: 0 0 var(--spacing-md) 0;\n\t\tletter-spacing: 0.02em;\n\t}\n\n\t.stages-list {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tgap: var(--spacing-sm);\n\t}\n\n\t.stage-item {\n\t\tbackground: var(--color-midnight);\n\t\tborder: 1px solid var(--color-border-subtle);\n\t\tborder-left: 3px solid;\n\t\tborder-radius: var(--radius-sm);\n\t\tpadding: var(--spacing-sm) var(--spacing-md);\n\t\tdisplay: flex;\n\t\tjustify-content: space-between;\n\t\talign-items: center;\n\t\tgap: var(--spacing-md);\n\t}\n\n\t.stage-name {\n\t\tfont-family: var(--font-family-body);\n\t\tfont-size: 0.9rem;\n\t\tfont-weight: 600;\n\t\tcolor: var(--color-text-primary);\n\t}\n\n\t.stage-model {\n\t\tfont-family: var(--font-family-mono);\n\t\tfont-size: 0.8rem;\n\t\tcolor: var(--color-text-tertiary);\n\t}\n\n\t.view-contract-btn {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\tgap: var(--spacing-sm);\n\t\tbackground: linear-gradient(135deg, var(--color-brass) 0%, var(--color-gold) 100%);\n\t\tcolor: var(--color-midnight);\n\t\tborder: none;\n\t\tborder-radius: var(--radius-md);\n\t\tpadding: var(--spacing-sm) var(--spacing-lg);\n\t\tfont-family: var(--font-family-body);\n\t\tfont-size: 0.95rem;\n\t\tfont-weight: 600;\n\t\tcursor: pointer;\n\t\ttransition: all var(--transition-base);\n\t\tmargin-top: auto;\n\t}\n\n\t.view-contract-btn:hover {\n\t\ttransform: translateY(-1px);\n\t\tbox-shadow: var(--shadow-md);\n\t}\n\n\t.view-contract-btn:active {\n\t\ttransform: translateY(0);\n\t}\n\n\t.view-contract-btn svg {\n\t\tflex-shrink: 0;\n\t}\n\n\t/* Responsive design */\n\t@media (max-width: 768px) {\n\t\t.pipeline-grid {\n\t\t\tgrid-template-columns: 1fr;\n\t\t}\n\n\t\t.pipeline-header {\n\t\t\tflex-direction: column;\n\t\t}\n\n\t\t.invocation-badge {\n\t\t\talign-self: flex-start;\n\t\t}\n\t}\n</style>\n","<script lang=\"ts\">\n\timport { services, pipelines, tiers } from './data';\n\timport TierDiagram from './components/TierDiagram.svelte';\n\timport PipelineContracts from './components/PipelineContracts.svelte';\n\timport DependencyRules from './components/DependencyRules.svelte';\n\timport ContractModal from './components/ContractModal.svelte';\n\timport type { Product, Pipeline } from './types';\n\n\t// Tab state\n\ttype Tab = 'tiers' | 'pipelines' | 'deps';\n\tlet activeTab = $state<Tab>('tiers');\n\n\t// Modal state\n\tlet isModalOpen = $state(false);\n\tlet selectedContract = $state<{\n\t\tname: string;\n\t\tversion: string;\n\t\tport?: string;\n\t\tcontract?: {\n\t\t\trequest: Record<string, unknown>;\n\t\t\tresponse: Record<string, unknown>;\n\t\t\terrors: string[];\n\t\t};\n\t} | null>(null);\n\n\t// Tab configuration\n\tconst tabs = [\n\t\t{ id: 'tiers' as Tab, label: 'Architecture Tiers', icon: 'layers' },\n\t\t{ id: 'pipelines' as Tab, label: 'Pipeline Contracts', icon: 'git-branch' },\n\t\t{ id: 'deps' as Tab, label: 'Dependency Rules', icon: 'shield' }\n\t];\n\n\t// Handle contract view from events\n\tfunction handleShowContract(event: Event) {\n\t\tconst customEvent = event as CustomEvent;\n\t\tconst { product, pipeline } = customEvent.detail;\n\n\t\tif (product) {\n\t\t\t// Find the service contract\n\t\t\tconst service = Object.values(services).find((s) => s.name === product.name);\n\t\t\tif (service && service.hasContract) {\n\t\t\t\t// Find corresponding pipeline contract\n\t\t\t\tconst pipelineKey = Object.keys(pipelines).find((key) =>\n\t\t\t\t\tpipelines[key].name.toLowerCase().includes(service.name.toLowerCase())\n\t\t\t\t);\n\t\t\t\tconst pipelineContract = pipelineKey ? pipelines[pipelineKey] : null;\n\n\t\t\t\tselectedContract = {\n\t\t\t\t\tname: service.name,\n\t\t\t\t\tversion: service.version,\n\t\t\t\t\tport: service.port,\n\t\t\t\t\tcontract: pipelineContract?.contract\n\t\t\t\t};\n\t\t\t\tisModalOpen = true;\n\t\t\t}\n\t\t} else if (pipeline) {\n\t\t\tselectedContract = {\n\t\t\t\tname: pipeline.name,\n\t\t\t\tversion: pipeline.version,\n\t\t\t\tcontract: pipeline.contract\n\t\t\t};\n\t\t\tisModalOpen = true;\n\t\t}\n\t}\n\n\tfunction closeModal() {\n\t\tisModalOpen = false;\n\t\tselectedContract = null;\n\t}\n\n\t// Export functions\n\tfunction exportAsJSON() {\n\t\tconst data = {\n\t\t\tservices,\n\t\t\tpipelines,\n\t\t\ttiers,\n\t\t\ttimestamp: new Date().toISOString()\n\t\t};\n\t\tconst blob = new Blob([JSON.stringify(data, null, 2)], { type: 'application/json' });\n\t\tconst url = URL.createObjectURL(blob);\n\t\tconst a = document.createElement('a');\n\t\ta.href = url;\n\t\ta.download = 'forge-architecture.json';\n\t\ta.click();\n\t\tURL.revokeObjectURL(url);\n\t}\n\n\tfunction exportAsSVG() {\n\t\talert('SVG export coming soon! This will generate a visual diagram of the architecture.');\n\t}\n\n\tfunction exportAsMermaid() {\n\t\talert(\n\t\t\t'Mermaid export coming soon! This will generate Mermaid.js syntax for the architecture.'\n\t\t);\n\t}\n\n\t// Listen for contract events\n\t$effect(() => {\n\t\tdocument.addEventListener('show-contract', handleShowContract);\n\t\treturn () => {\n\t\t\tdocument.removeEventListener('show-contract', handleShowContract);\n\t\t};\n\t});\n</script>\n\n<div class=\"architecture-studio\">\n\t<!-- Header -->\n\t<header class=\"studio-header\">\n\t\t<div class=\"header-content\">\n\t\t\t<div class=\"header-left\">\n\t\t\t\t<h1 class=\"studio-title\">Forge Architecture Studio</h1>\n\t\t\t\t<p class=\"studio-subtitle\">BDS-SAS Three-Tier System Design</p>\n\t\t\t</div>\n\t\t\t<div class=\"header-actions\">\n\t\t\t\t<button class=\"export-btn\" onclick={exportAsJSON} title=\"Export as JSON\">\n\t\t\t\t\t<svg\n\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\t\twidth=\"18\"\n\t\t\t\t\t\theight=\"18\"\n\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\tstroke-width=\"2\"\n\t\t\t\t\t\tstroke-linecap=\"round\"\n\t\t\t\t\t\tstroke-linejoin=\"round\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<path d=\"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4\"></path>\n\t\t\t\t\t\t<polyline points=\"7 10 12 15 17 10\"></polyline>\n\t\t\t\t\t\t<line x1=\"12\" y1=\"15\" x2=\"12\" y2=\"3\"></line>\n\t\t\t\t\t</svg>\n\t\t\t\t\tJSON\n\t\t\t\t</button>\n\t\t\t\t<button class=\"export-btn\" onclick={exportAsSVG} title=\"Export as SVG\">\n\t\t\t\t\t<svg\n\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\t\twidth=\"18\"\n\t\t\t\t\t\theight=\"18\"\n\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\tstroke-width=\"2\"\n\t\t\t\t\t\tstroke-linecap=\"round\"\n\t\t\t\t\t\tstroke-linejoin=\"round\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<rect x=\"3\" y=\"3\" width=\"18\" height=\"18\" rx=\"2\" ry=\"2\"></rect>\n\t\t\t\t\t\t<circle cx=\"8.5\" cy=\"8.5\" r=\"1.5\"></circle>\n\t\t\t\t\t\t<polyline points=\"21 15 16 10 5 21\"></polyline>\n\t\t\t\t\t</svg>\n\t\t\t\t\tSVG\n\t\t\t\t</button>\n\t\t\t\t<button class=\"export-btn\" onclick={exportAsMermaid} title=\"Export as Mermaid\">\n\t\t\t\t\t<svg\n\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\t\twidth=\"18\"\n\t\t\t\t\t\theight=\"18\"\n\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\tstroke-width=\"2\"\n\t\t\t\t\t\tstroke-linecap=\"round\"\n\t\t\t\t\t\tstroke-linejoin=\"round\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<polyline points=\"16 18 22 12 16 6\"></polyline>\n\t\t\t\t\t\t<polyline points=\"8 6 2 12 8 18\"></polyline>\n\t\t\t\t\t</svg>\n\t\t\t\t\tMermaid\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t</div>\n\t</header>\n\n\t<!-- Tab Navigation -->\n\t<nav class=\"tab-nav\">\n\t\t{#each tabs as tab}\n\t\t\t<button\n\t\t\t\tclass=\"tab-button\"\n\t\t\t\tclass:active={activeTab === tab.id}\n\t\t\t\tonclick={() => (activeTab = tab.id)}\n\t\t\t>\n\t\t\t\t<span class=\"tab-label\">{tab.label}</span>\n\t\t\t</button>\n\t\t{/each}\n\t</nav>\n\n\t<!-- Tab Content -->\n\t<main class=\"tab-content\">\n\t\t{#if activeTab === 'tiers'}\n\t\t\t<TierDiagram {tiers} />\n\t\t{:else if activeTab === 'pipelines'}\n\t\t\t<PipelineContracts {pipelines} />\n\t\t{:else if activeTab === 'deps'}\n\t\t\t<DependencyRules />\n\t\t{/if}\n\t</main>\n\n\t<!-- Contract Modal -->\n\t<ContractModal bind:isOpen={isModalOpen} contract={selectedContract} onClose={closeModal} />\n</div>\n\n<style>\n\t.architecture-studio {\n\t\tmin-height: 100vh;\n\t\tbackground: var(--color-midnight);\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t}\n\n\t/* Header */\n\t.studio-header {\n\t\tbackground: linear-gradient(135deg, var(--color-graphite) 0%, var(--color-midnight) 100%);\n\t\tborder-bottom: 2px solid var(--color-brass);\n\t\tbox-shadow: var(--shadow-lg);\n\t}\n\n\t.header-content {\n\t\tmax-width: 1440px;\n\t\tmargin: 0 auto;\n\t\tpadding: var(--spacing-xl) var(--spacing-lg);\n\t\tdisplay: flex;\n\t\tjustify-content: space-between;\n\t\talign-items: center;\n\t\tgap: var(--spacing-lg);\n\t\tflex-wrap: wrap;\n\t}\n\n\t.header-left {\n\t\tflex: 1;\n\t\tmin-width: 250px;\n\t}\n\n\t.studio-title {\n\t\tfont-family: var(--font-family-heading);\n\t\tfont-size: 2rem;\n\t\tfont-weight: 400;\n\t\tcolor: var(--color-text-primary);\n\t\tmargin: 0 0 var(--spacing-xs) 0;\n\t\tletter-spacing: 0.02em;\n\t}\n\n\t.studio-subtitle {\n\t\tfont-family: var(--font-family-mono);\n\t\tfont-size: 0.95rem;\n\t\tcolor: var(--color-brass);\n\t\tmargin: 0;\n\t\ttext-transform: uppercase;\n\t\tletter-spacing: 0.05em;\n\t}\n\n\t.header-actions {\n\t\tdisplay: flex;\n\t\tgap: var(--spacing-sm);\n\t\tflex-wrap: wrap;\n\t}\n\n\t.export-btn {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tgap: var(--spacing-xs);\n\t\tbackground: var(--color-surface-2);\n\t\tcolor: var(--color-text-secondary);\n\t\tborder: 1px solid var(--color-border-subtle);\n\t\tborder-radius: var(--radius-md);\n\t\tpadding: var(--spacing-sm) var(--spacing-md);\n\t\tfont-family: var(--font-family-mono);\n\t\tfont-size: 0.875rem;\n\t\tfont-weight: 600;\n\t\tcursor: pointer;\n\t\ttransition: all var(--transition-base);\n\t\ttext-transform: uppercase;\n\t\tletter-spacing: 0.05em;\n\t}\n\n\t.export-btn:hover {\n\t\tbackground: var(--color-brass);\n\t\tcolor: var(--color-midnight);\n\t\tborder-color: var(--color-brass);\n\t\ttransform: translateY(-2px);\n\t\tbox-shadow: var(--shadow-md);\n\t}\n\n\t.export-btn:active {\n\t\ttransform: translateY(0);\n\t}\n\n\t.export-btn svg {\n\t\tflex-shrink: 0;\n\t}\n\n\t/* Tab Navigation */\n\t.tab-nav {\n\t\tbackground: var(--color-surface-2);\n\t\tborder-bottom: 1px solid var(--color-border-subtle);\n\t\tdisplay: flex;\n\t\tgap: var(--spacing-xs);\n\t\tpadding: 0 var(--spacing-lg);\n\t\toverflow-x: auto;\n\t\tposition: sticky;\n\t\ttop: 0;\n\t\tz-index: var(--z-sticky);\n\t}\n\n\t.tab-button {\n\t\tbackground: transparent;\n\t\tborder: none;\n\t\tcolor: var(--color-text-tertiary);\n\t\tpadding: var(--spacing-md) var(--spacing-lg);\n\t\tfont-family: var(--font-family-body);\n\t\tfont-size: 0.95rem;\n\t\tfont-weight: 600;\n\t\tcursor: pointer;\n\t\ttransition: all var(--transition-base);\n\t\tborder-bottom: 3px solid transparent;\n\t\twhite-space: nowrap;\n\t\tposition: relative;\n\t}\n\n\t.tab-button:hover {\n\t\tcolor: var(--color-text-secondary);\n\t\tbackground: rgba(193, 151, 69, 0.1);\n\t}\n\n\t.tab-button.active {\n\t\tcolor: var(--color-brass);\n\t\tborder-bottom-color: var(--color-brass);\n\t}\n\n\t.tab-label {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tgap: var(--spacing-sm);\n\t}\n\n\t/* Tab Content */\n\t.tab-content {\n\t\tflex: 1;\n\t\tmax-width: 1440px;\n\t\twidth: 100%;\n\t\tmargin: 0 auto;\n\t\tpadding: var(--spacing-lg);\n\t}\n\n\t/* Responsive design */\n\t@media (max-width: 768px) {\n\t\t.studio-title {\n\t\t\tfont-size: 1.5rem;\n\t\t}\n\n\t\t.studio-subtitle {\n\t\t\tfont-size: 0.8rem;\n\t\t}\n\n\t\t.header-content {\n\t\t\tpadding: var(--spacing-lg) var(--spacing-md);\n\t\t}\n\n\t\t.header-actions {\n\t\t\twidth: 100%;\n\t\t\tjustify-content: flex-end;\n\t\t}\n\n\t\t.export-btn {\n\t\t\tflex: 1;\n\t\t\tjustify-content: center;\n\t\t\tmin-width: auto;\n\t\t}\n\n\t\t.tab-nav {\n\t\t\tpadding: 0 var(--spacing-md);\n\t\t}\n\n\t\t.tab-button {\n\t\t\tpadding: var(--spacing-md);\n\t\t\tflex: 1;\n\t\t}\n\n\t\t.tab-content {\n\t\t\tpadding: var(--spacing-md);\n\t\t}\n\t}\n\n\t/* Scrollbar styling for tab nav */\n\t.tab-nav::-webkit-scrollbar {\n\t\theight: 4px;\n\t}\n\n\t.tab-nav::-webkit-scrollbar-track {\n\t\tbackground: var(--color-graphite);\n\t}\n\n\t.tab-nav::-webkit-scrollbar-thumb {\n\t\tbackground: var(--color-brass);\n\t\tborder-radius: var(--radius-sm);\n\t}\n</style>\n","<script lang=\"ts\">\n\t// Dependency rules for BDS-SAS architecture\n\tconst dependencyRules = [\n\t\t{\n\t\t\tcategory: 'Tier Flow Rules',\n\t\t\trules: [\n\t\t\t\t'Never skip tiers: Consumer � Intelligence � Provider (no direct Consumer � Provider)',\n\t\t\t\t'Intelligence modules MUST route through M.A.P.O. (Multi-AI Pipeline Orchestrator)',\n\t\t\t\t'Provider services can call other Provider services directly',\n\t\t\t\t'Consumer apps can call multiple Intelligence modules, but each routes through M.A.P.O.'\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\tcategory: 'Intelligence Layer Rules',\n\t\t\trules: [\n\t\t\t\t'All Intelligence modules use M.A.P.O. as their execution engine',\n\t\t\t\t'Intelligence modules are stateless and versioned (semantic versioning)',\n\t\t\t\t'Domain-specific reasoning stays in Intelligence tier',\n\t\t\t\t'Intelligence modules cannot directly access Provider services'\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\tcategory: 'Provider Layer Rules',\n\t\t\trules: [\n\t\t\t\t'Provider services expose versioned APIs (v1.0, v2.0, etc.)',\n\t\t\t\t'NeuroForge handles AI model routing and orchestration',\n\t\t\t\t'DataForge manages vector storage and semantic search',\n\t\t\t\t'M.A.P.O. orchestrates multi-stage AI pipelines',\n\t\t\t\t'Provider services can be called by Intelligence modules via M.A.P.O.'\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\tcategory: 'Communication Protocols',\n\t\t\trules: [\n\t\t\t\t'REST APIs for synchronous operations',\n\t\t\t\t'Server-Sent Events (SSE) for streaming responses',\n\t\t\t\t'All services must define contracts (request/response/errors)',\n\t\t\t\t'Port standardization: 8000-8010 range for Provider services'\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\tcategory: 'Versioning Rules',\n\t\t\trules: [\n\t\t\t\t'APIs use explicit version numbers (v1.0 API, v2.0 API)',\n\t\t\t\t'Pipelines use semantic versioning (v1.0 Pipeline)',\n\t\t\t\t'Breaking changes require new major version',\n\t\t\t\t'Intelligence modules must specify compatible M.A.P.O. version'\n\t\t\t]\n\t\t}\n\t];\n</script>\n\n<div class=\"dependency-rules\">\n\t<div class=\"rules-header\">\n\t\t<h2 class=\"rules-title\">BDS-SAS Dependency Rules</h2>\n\t\t<p class=\"rules-subtitle\">\n\t\t\tThree-Tier Architecture Guidelines for the Forge Ecosystem\n\t\t</p>\n\t</div>\n\n\t<div class=\"rules-grid\">\n\t\t{#each dependencyRules as section}\n\t\t\t<div class=\"rule-section\">\n\t\t\t\t<h3 class=\"section-title\">{section.category}</h3>\n\t\t\t\t<ul class=\"rules-list\">\n\t\t\t\t\t{#each section.rules as rule}\n\t\t\t\t\t\t<li class=\"rule-item\">{rule}</li>\n\t\t\t\t\t{/each}\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t{/each}\n\t</div>\n\n\t<!-- Architecture Summary -->\n\t<div class=\"architecture-summary\">\n\t\t<h3 class=\"summary-title\">Architecture Summary</h3>\n\t\t<div class=\"summary-content\">\n\t\t\t<div class=\"summary-tier\">\n\t\t\t\t<span class=\"tier-label consumer\">Consumer Tier</span>\n\t\t\t\t<p class=\"tier-desc\">User-facing applications (VibeForge, AuthorForge, etc.)</p>\n\t\t\t</div>\n\t\t\t<div class=\"arrow-down\">�</div>\n\t\t\t<div class=\"summary-tier\">\n\t\t\t\t<span class=\"tier-label intelligence\">Intelligence Tier</span>\n\t\t\t\t<p class=\"tier-desc\">Domain-specific reasoning modules routed through M.A.P.O.</p>\n\t\t\t</div>\n\t\t\t<div class=\"arrow-down\">�</div>\n\t\t\t<div class=\"summary-tier\">\n\t\t\t\t<span class=\"tier-label provider\">Provider Tier</span>\n\t\t\t\t<p class=\"tier-desc\">Core backend services (NeuroForge, DataForge, M.A.P.O., etc.)</p>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</div>\n\n<style>\n\t.dependency-rules {\n\t\tpadding: var(--spacing-md);\n\t\tmax-width: 1200px;\n\t\tmargin: 0 auto;\n\t}\n\n\t.rules-header {\n\t\ttext-align: center;\n\t\tmargin-bottom: var(--spacing-2xl);\n\t}\n\n\t.rules-title {\n\t\tfont-family: var(--font-family-heading);\n\t\tfont-size: 2rem;\n\t\tfont-weight: 400;\n\t\tcolor: var(--color-text-primary);\n\t\tmargin: 0 0 var(--spacing-sm) 0;\n\t\tletter-spacing: 0.02em;\n\t}\n\n\t.rules-subtitle {\n\t\tfont-family: var(--font-family-mono);\n\t\tfont-size: 0.95rem;\n\t\tcolor: var(--color-brass);\n\t\tmargin: 0;\n\t\ttext-transform: uppercase;\n\t\tletter-spacing: 0.05em;\n\t}\n\n\t.rules-grid {\n\t\tdisplay: grid;\n\t\tgrid-template-columns: repeat(auto-fit, minmax(400px, 1fr));\n\t\tgap: var(--spacing-lg);\n\t\tmargin-bottom: var(--spacing-2xl);\n\t}\n\n\t.rule-section {\n\t\tbackground: var(--color-surface-2);\n\t\tborder: 1px solid var(--color-border-subtle);\n\t\tborder-radius: var(--radius-lg);\n\t\tpadding: var(--spacing-lg);\n\t\tbox-shadow: var(--shadow-md);\n\t\ttransition: all var(--transition-base);\n\t}\n\n\t.rule-section:hover {\n\t\tborder-color: var(--color-brass);\n\t\tbox-shadow: var(--shadow-lg);\n\t}\n\n\t.section-title {\n\t\tfont-family: var(--font-family-heading);\n\t\tfont-size: 1.25rem;\n\t\tfont-weight: 400;\n\t\tcolor: var(--color-brass);\n\t\tmargin: 0 0 var(--spacing-md) 0;\n\t\tletter-spacing: 0.02em;\n\t\tborder-bottom: 2px solid var(--color-border-subtle);\n\t\tpadding-bottom: var(--spacing-sm);\n\t}\n\n\t.rules-list {\n\t\tlist-style: none;\n\t\tpadding: 0;\n\t\tmargin: 0;\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tgap: var(--spacing-md);\n\t}\n\n\t.rule-item {\n\t\tfont-size: 0.95rem;\n\t\tcolor: var(--color-text-secondary);\n\t\tline-height: 1.6;\n\t\tpadding-left: var(--spacing-lg);\n\t\tposition: relative;\n\t}\n\n\t.rule-item::before {\n\t\tcontent: '�';\n\t\tposition: absolute;\n\t\tleft: 0;\n\t\tcolor: var(--color-brass);\n\t\tfont-size: 1.1rem;\n\t\tfont-weight: bold;\n\t}\n\n\t/* Architecture Summary */\n\t.architecture-summary {\n\t\tbackground: var(--color-surface-3);\n\t\tborder: 2px solid var(--color-brass);\n\t\tborder-radius: var(--radius-lg);\n\t\tpadding: var(--spacing-xl);\n\t\tbox-shadow: var(--shadow-lg);\n\t}\n\n\t.summary-title {\n\t\tfont-family: var(--font-family-heading);\n\t\tfont-size: 1.5rem;\n\t\tfont-weight: 400;\n\t\tcolor: var(--color-text-primary);\n\t\tmargin: 0 0 var(--spacing-xl) 0;\n\t\tletter-spacing: 0.02em;\n\t\ttext-align: center;\n\t}\n\n\t.summary-content {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\talign-items: center;\n\t\tgap: var(--spacing-md);\n\t}\n\n\t.summary-tier {\n\t\tbackground: var(--color-surface-2);\n\t\tborder: 1px solid var(--color-border-subtle);\n\t\tborder-radius: var(--radius-md);\n\t\tpadding: var(--spacing-lg);\n\t\twidth: 100%;\n\t\tmax-width: 500px;\n\t\ttext-align: center;\n\t}\n\n\t.tier-label {\n\t\tfont-family: var(--font-family-mono);\n\t\tfont-size: 0.9rem;\n\t\tfont-weight: 700;\n\t\tpadding: 0.4rem 1rem;\n\t\tborder-radius: var(--radius-full);\n\t\tdisplay: inline-block;\n\t\tmargin-bottom: var(--spacing-sm);\n\t\ttext-transform: uppercase;\n\t\tletter-spacing: 0.05em;\n\t}\n\n\t.tier-label.consumer {\n\t\tbackground: #1e3a8a;\n\t\tcolor: #60a5fa;\n\t\tborder: 1px solid #3b82f6;\n\t}\n\n\t.tier-label.intelligence {\n\t\tbackground: #581c87;\n\t\tcolor: #c084fc;\n\t\tborder: 1px solid #a855f7;\n\t}\n\n\t.tier-label.provider {\n\t\tbackground: var(--color-graphite);\n\t\tcolor: var(--color-brass);\n\t\tborder: 1px solid var(--color-brass);\n\t}\n\n\t.tier-desc {\n\t\tfont-size: 0.95rem;\n\t\tcolor: var(--color-text-secondary);\n\t\tmargin: 0;\n\t\tline-height: 1.5;\n\t}\n\n\t.arrow-down {\n\t\tfont-size: 2rem;\n\t\tcolor: var(--color-brass);\n\t\tfont-weight: bold;\n\t}\n\n\t/* Responsive design */\n\t@media (max-width: 768px) {\n\t\t.rules-grid {\n\t\t\tgrid-template-columns: 1fr;\n\t\t}\n\n\t\t.rules-title {\n\t\t\tfont-size: 1.5rem;\n\t\t}\n\n\t\t.summary-content {\n\t\t\tpadding: 0;\n\t\t}\n\t}\n</style>\n","<script lang=\"ts\">\n\timport type { Pipeline, Product } from '../types';\n\n\tinterface Props {\n\t\tisOpen: boolean;\n\t\tcontract: {\n\t\t\tname: string;\n\t\t\tversion: string;\n\t\t\tport?: string;\n\t\t\tcontract?: {\n\t\t\t\trequest: Record<string, unknown>;\n\t\t\t\tresponse: Record<string, unknown>;\n\t\t\t\terrors: string[];\n\t\t\t};\n\t\t} | null;\n\t\tonClose: () => void;\n\t}\n\n\tlet { isOpen = $bindable(), contract, onClose }: Props = $props();\n\n\tfunction handleBackdropClick(event: MouseEvent) {\n\t\tif (event.target === event.currentTarget) {\n\t\t\tonClose();\n\t\t}\n\t}\n\n\tfunction handleKeydown(event: KeyboardEvent) {\n\t\tif (event.key === 'Escape') {\n\t\t\tonClose();\n\t\t}\n\t}\n\n\tfunction formatJSON(obj: unknown): string {\n\t\treturn JSON.stringify(obj, null, 2);\n\t}\n</script>\n\n<svelte:window onkeydown={handleKeydown} />\n\n{#if isOpen && contract}\n\t<div class=\"modal-backdrop\" onclick={handleBackdropClick} role=\"presentation\">\n\t\t<div class=\"modal-container\" role=\"dialog\" aria-modal=\"true\" aria-labelledby=\"modal-title\">\n\t\t\t<!-- Modal Header -->\n\t\t\t<div class=\"modal-header\">\n\t\t\t\t<div>\n\t\t\t\t\t<h2 id=\"modal-title\" class=\"modal-title\">{contract.name}</h2>\n\t\t\t\t\t<div class=\"modal-subtitle\">\n\t\t\t\t\t\t<span class=\"version-badge\">{contract.version}</span>\n\t\t\t\t\t\t{#if contract.port}\n\t\t\t\t\t\t\t<span class=\"port-badge\">Port {contract.port}</span>\n\t\t\t\t\t\t{/if}\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<button class=\"close-button\" onclick={onClose} aria-label=\"Close modal\">\n\t\t\t\t\t<svg\n\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\t\twidth=\"24\"\n\t\t\t\t\t\theight=\"24\"\n\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\tstroke-width=\"2\"\n\t\t\t\t\t\tstroke-linecap=\"round\"\n\t\t\t\t\t\tstroke-linejoin=\"round\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<line x1=\"18\" y1=\"6\" x2=\"6\" y2=\"18\"></line>\n\t\t\t\t\t\t<line x1=\"6\" y1=\"6\" x2=\"18\" y2=\"18\"></line>\n\t\t\t\t\t</svg>\n\t\t\t\t</button>\n\t\t\t</div>\n\n\t\t\t<!-- Modal Content -->\n\t\t\t<div class=\"modal-content\">\n\t\t\t\t{#if contract.contract}\n\t\t\t\t\t<!-- Request Schema -->\n\t\t\t\t\t<div class=\"contract-section\">\n\t\t\t\t\t\t<h3 class=\"section-title\">\n\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\t\t\t\twidth=\"18\"\n\t\t\t\t\t\t\t\theight=\"18\"\n\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\tstroke-width=\"2\"\n\t\t\t\t\t\t\t\tstroke-linecap=\"round\"\n\t\t\t\t\t\t\t\tstroke-linejoin=\"round\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<path d=\"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4\"></path>\n\t\t\t\t\t\t\t\t<polyline points=\"17 8 12 3 7 8\"></polyline>\n\t\t\t\t\t\t\t\t<line x1=\"12\" y1=\"3\" x2=\"12\" y2=\"15\"></line>\n\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\tRequest Schema\n\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t<pre class=\"json-display\"><code>{formatJSON(contract.contract.request)}</code></pre>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<!-- Response Schema -->\n\t\t\t\t\t<div class=\"contract-section\">\n\t\t\t\t\t\t<h3 class=\"section-title\">\n\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\t\t\t\twidth=\"18\"\n\t\t\t\t\t\t\t\theight=\"18\"\n\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\tstroke-width=\"2\"\n\t\t\t\t\t\t\t\tstroke-linecap=\"round\"\n\t\t\t\t\t\t\t\tstroke-linejoin=\"round\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<path d=\"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z\"></path>\n\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\tResponse Schema\n\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t<pre class=\"json-display\"><code>{formatJSON(contract.contract.response)}</code></pre>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<!-- Error Codes -->\n\t\t\t\t\t<div class=\"contract-section\">\n\t\t\t\t\t\t<h3 class=\"section-title\">\n\t\t\t\t\t\t\t<svg\n\t\t\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t\t\t\t\t\twidth=\"18\"\n\t\t\t\t\t\t\t\theight=\"18\"\n\t\t\t\t\t\t\t\tviewBox=\"0 0 24 24\"\n\t\t\t\t\t\t\t\tfill=\"none\"\n\t\t\t\t\t\t\t\tstroke=\"currentColor\"\n\t\t\t\t\t\t\t\tstroke-width=\"2\"\n\t\t\t\t\t\t\t\tstroke-linecap=\"round\"\n\t\t\t\t\t\t\t\tstroke-linejoin=\"round\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<circle cx=\"12\" cy=\"12\" r=\"10\"></circle>\n\t\t\t\t\t\t\t\t<line x1=\"12\" y1=\"8\" x2=\"12\" y2=\"12\"></line>\n\t\t\t\t\t\t\t\t<line x1=\"12\" y1=\"16\" x2=\"12.01\" y2=\"16\"></line>\n\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\tError Codes\n\t\t\t\t\t\t</h3>\n\t\t\t\t\t\t<ul class=\"error-list\">\n\t\t\t\t\t\t\t{#each contract.contract.errors as error}\n\t\t\t\t\t\t\t\t<li class=\"error-item\">\n\t\t\t\t\t\t\t\t\t<code class=\"error-code\">{error}</code>\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t{/each}\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</div>\n\t\t\t\t{:else}\n\t\t\t\t\t<div class=\"no-contract\">\n\t\t\t\t\t\t<p>No contract available for this service.</p>\n\t\t\t\t\t</div>\n\t\t\t\t{/if}\n\t\t\t</div>\n\t\t</div>\n\t</div>\n{/if}\n\n<style>\n\t.modal-backdrop {\n\t\tposition: fixed;\n\t\ttop: 0;\n\t\tleft: 0;\n\t\tright: 0;\n\t\tbottom: 0;\n\t\tbackground: rgba(0, 0, 0, 0.8);\n\t\tbackdrop-filter: blur(4px);\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\tz-index: var(--z-modal-backdrop);\n\t\tpadding: var(--spacing-md);\n\t\tanimation: fadeIn 0.2s ease-out;\n\t}\n\n\t@keyframes fadeIn {\n\t\tfrom {\n\t\t\topacity: 0;\n\t\t}\n\t\tto {\n\t\t\topacity: 1;\n\t\t}\n\t}\n\n\t.modal-container {\n\t\tbackground: var(--color-surface-2);\n\t\tborder: 2px solid var(--color-brass);\n\t\tborder-radius: var(--radius-xl);\n\t\twidth: 100%;\n\t\tmax-width: 800px;\n\t\tmax-height: 90vh;\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tbox-shadow: var(--shadow-xl);\n\t\tz-index: var(--z-modal);\n\t\tanimation: slideUp 0.3s ease-out;\n\t}\n\n\t@keyframes slideUp {\n\t\tfrom {\n\t\t\ttransform: translateY(20px);\n\t\t\topacity: 0;\n\t\t}\n\t\tto {\n\t\t\ttransform: translateY(0);\n\t\t\topacity: 1;\n\t\t}\n\t}\n\n\t.modal-header {\n\t\tdisplay: flex;\n\t\tjustify-content: space-between;\n\t\talign-items: flex-start;\n\t\tpadding: var(--spacing-xl);\n\t\tborder-bottom: 1px solid var(--color-border-subtle);\n\t\tgap: var(--spacing-lg);\n\t}\n\n\t.modal-title {\n\t\tfont-family: var(--font-family-heading);\n\t\tfont-size: 1.75rem;\n\t\tfont-weight: 400;\n\t\tcolor: var(--color-text-primary);\n\t\tmargin: 0 0 var(--spacing-sm) 0;\n\t\tletter-spacing: 0.02em;\n\t}\n\n\t.modal-subtitle {\n\t\tdisplay: flex;\n\t\tgap: var(--spacing-md);\n\t\tflex-wrap: wrap;\n\t}\n\n\t.version-badge,\n\t.port-badge {\n\t\tfont-family: var(--font-family-mono);\n\t\tfont-size: 0.8rem;\n\t\tpadding: 0.3rem 0.7rem;\n\t\tborder-radius: var(--radius-full);\n\t\ttext-transform: uppercase;\n\t\tletter-spacing: 0.05em;\n\t}\n\n\t.version-badge {\n\t\tbackground: var(--color-brass);\n\t\tcolor: var(--color-midnight);\n\t\tfont-weight: 600;\n\t}\n\n\t.port-badge {\n\t\tbackground: var(--color-graphite);\n\t\tcolor: var(--color-steel-blue);\n\t\tborder: 1px solid var(--color-border-subtle);\n\t}\n\n\t.close-button {\n\t\tbackground: transparent;\n\t\tborder: none;\n\t\tcolor: var(--color-text-secondary);\n\t\tcursor: pointer;\n\t\tpadding: var(--spacing-sm);\n\t\tborder-radius: var(--radius-md);\n\t\ttransition: all var(--transition-fast);\n\t\tflex-shrink: 0;\n\t}\n\n\t.close-button:hover {\n\t\tbackground: var(--color-graphite);\n\t\tcolor: var(--color-brass);\n\t}\n\n\t.modal-content {\n\t\toverflow-y: auto;\n\t\tpadding: var(--spacing-xl);\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tgap: var(--spacing-xl);\n\t}\n\n\t.contract-section {\n\t\tbackground: var(--color-surface-3);\n\t\tborder: 1px solid var(--color-border-subtle);\n\t\tborder-radius: var(--radius-lg);\n\t\tpadding: var(--spacing-lg);\n\t}\n\n\t.section-title {\n\t\tfont-family: var(--font-family-heading);\n\t\tfont-size: 1.125rem;\n\t\tfont-weight: 400;\n\t\tcolor: var(--color-brass);\n\t\tmargin: 0 0 var(--spacing-md) 0;\n\t\tletter-spacing: 0.02em;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tgap: var(--spacing-sm);\n\t}\n\n\t.section-title svg {\n\t\tflex-shrink: 0;\n\t}\n\n\t.json-display {\n\t\tbackground: var(--color-midnight);\n\t\tborder: 1px solid var(--color-border-subtle);\n\t\tborder-radius: var(--radius-md);\n\t\tpadding: var(--spacing-md);\n\t\toverflow-x: auto;\n\t\tmargin: 0;\n\t}\n\n\t.json-display code {\n\t\tfont-family: var(--font-family-mono);\n\t\tfont-size: 0.875rem;\n\t\tcolor: var(--color-text-secondary);\n\t\tline-height: 1.6;\n\t}\n\n\t.error-list {\n\t\tlist-style: none;\n\t\tpadding: 0;\n\t\tmargin: 0;\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tgap: var(--spacing-sm);\n\t}\n\n\t.error-item {\n\t\tbackground: var(--color-midnight);\n\t\tborder: 1px solid var(--color-border-subtle);\n\t\tborder-left: 3px solid var(--color-error);\n\t\tborder-radius: var(--radius-sm);\n\t\tpadding: var(--spacing-sm) var(--spacing-md);\n\t}\n\n\t.error-code {\n\t\tfont-family: var(--font-family-mono);\n\t\tfont-size: 0.875rem;\n\t\tcolor: var(--color-text-secondary);\n\t}\n\n\t.no-contract {\n\t\ttext-align: center;\n\t\tpadding: var(--spacing-2xl);\n\t\tcolor: var(--color-text-tertiary);\n\t}\n\n\t/* Responsive design */\n\t@media (max-width: 768px) {\n\t\t.modal-container {\n\t\t\tmax-height: 95vh;\n\t\t\tmargin: var(--spacing-sm);\n\t\t}\n\n\t\t.modal-header {\n\t\t\tpadding: var(--spacing-lg);\n\t\t}\n\n\t\t.modal-content {\n\t\t\tpadding: var(--spacing-lg);\n\t\t}\n\n\t\t.modal-title {\n\t\t\tfont-size: 1.5rem;\n\t\t}\n\t}\n</style>\n","<script>\n  import ArchitectureStudio from './lib/ArchitectureStudio.svelte';\n</script>\n\n<svelte:head>\n  <title>Architecture Studio - VibeForge BDS</title>\n</svelte:head>\n\n<ArchitectureStudio />\n"],"names":["services","neuroforge","name","port","version","tier","category","status","description","hasContract","mapo","dataforge","rake","forgeagents","pipelines","stages","model","color","invocation","contract","request","pipeline_version","pipeline_id","input","system_prompt","response","stage","output","tokens","timestamp","errors","prompt","context_ids","completion","tokens_used","model_used","latency_ms","query","limit","threshold","results","total","tiers","id","subtitle","categories","products","traits","tierColors","consumer","bg","border","accent","intelligence","provider","div","root","$.each","div_1","root_1","div_2","div_3","h3","p","p_1","div_4","$.get","div_5","root_2","h4","div_6","product","button","root_3","__click","event","CustomEvent","detail","bubbles","composed","document","dispatchEvent","handleProductClick","div_7","$.child","span","span_1","root_4","consequent","div_8","span_2","span_3","root_5","$.template_effect","$.set_text","text_6","consequent_1","$.reset","classes","$.set_style","text_4","text_5","$.append","$$anchor","div_9","root_6","trait","span_4","root_7","length","consequent_2","text_3","text","text_1","text_2","Object","entries","$$props","$.index","$$item","pipeline","$$array","handleViewContract","$$render","activeTab","$.state","isModalOpen","selectedContract","tabs","label","icon","handleShowContract","customEvent","service","values","find","s","pipelineKey","keys","key","toLowerCase","includes","pipelineContract","$.set","$.user_effect","addEventListener","removeEventListener","header","data","Date","toISOString","blob","Blob","JSON","stringify","type","url","URL","createObjectURL","a","createElement","href","download","click","revokeObjectURL","button_1","alert","nav","tab","button_3","$.set_class","active","main","TierDiagram","PipelineContracts","dependencyRules","rules","section","ul","rule","li","DependencyRules","alternate","alternate_1","handleBackdropClick","target","currentTarget","formatJSON","obj","h2","$$args","$.first_child","fragment_1","pre","code","pre_1","code_1","error","code_2","ContractModal","isOpen","$$value","$.head","title","ArchitectureStudio"],"mappings":"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"}