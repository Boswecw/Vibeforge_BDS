import{d as Ua,f as i,a as v,c as G,s as p,t as Va}from"../chunks/CAK2u2Ng.js";import{ae as Ya,an as y,W as Za,al as $a,ao as et,k as e,X as o,ah as at,ak as oa,ai as t,aj as a,ap as C,am as $,af as s,ag as f,aq as tt,ar as na}from"../chunks/DvJ0wH-P.js";import{i as c}from"../chunks/DjilkBmk.js";import{e as pa,i as ca}from"../chunks/BoH0SDAF.js";import{r as ee,s as ae}from"../chunks/w-4I74Yw.js";import{s as st}from"../chunks/Ck0dqJlc.js";import{a as ua,b as te}from"../chunks/BVWqoBiK.js";import{b as lt}from"../chunks/cOC8RnKw.js";import{s as vt,a as rt}from"../chunks/CRyvVHOP.js";import{p as it}from"../chunks/rM96kmSo.js";import{s as dt}from"../chunks/BxCIaFLT.js";import{f as _a}from"../chunks/T1iJY7uq.js";import"../chunks/l0sNRNKZ.js";import{E as ot,a as nt}from"../chunks/BBIMj1gM.js";var pt=i('<div class="loading-state svelte-112kdh0"><div class="spinner svelte-112kdh0"></div> <p class="svelte-112kdh0">Loading skill...</p></div>'),ct=i('<!> <div style="text-align: center; margin-top: 1rem;" class="svelte-112kdh0"><a href="/library" class="btn-back svelte-112kdh0">Back to Library</a></div>',1),ut=i('<span class="tag svelte-112kdh0"> </span>'),_t=i('<div class="skill-tags svelte-112kdh0"><span class="tags-label svelte-112kdh0">Tags:</span> <div class="tags-list svelte-112kdh0"></div></div>'),kt=i('<p class="no-inputs svelte-112kdh0">This skill requires no inputs.</p>'),ht=i('<span class="required svelte-112kdh0">*</span>'),mt=i('<p class="input-description svelte-112kdh0"> </p>'),ft=i('<input type="text" class="input-field svelte-112kdh0"/>'),gt=i('<input type="number" class="input-field svelte-112kdh0"/>'),bt=i('<input type="checkbox" class="input-checkbox svelte-112kdh0"/>'),xt=i('<textarea class="input-textarea svelte-112kdh0" rows="3"></textarea> <p class="input-hint svelte-112kdh0">Enter comma-separated values</p>',1),yt=i('<textarea class="input-textarea svelte-112kdh0" rows="5"></textarea>'),St=i('<div class="input-group svelte-112kdh0"><label class="svelte-112kdh0"> <!></label> <!> <!></div>'),Et=i('<div class="inputs-form svelte-112kdh0"></div>'),It=i('<span class="btn-spinner svelte-112kdh0"></span> Invoking...',1),Tt=i('<button class="btn-clear-output svelte-112kdh0">Clear</button>'),Ct=i('<div class="output-error svelte-112kdh0"><h3 class="svelte-112kdh0">Error</h3> <p class="svelte-112kdh0"> </p></div>'),wt=i('<div class="streaming-output svelte-112kdh0"><pre class="svelte-112kdh0"> </pre> <div class="streaming-indicator svelte-112kdh0">Streaming...</div></div>'),Lt=i('<div class="spinner svelte-112kdh0"></div> <p class="svelte-112kdh0">Executing skill...</p>',1),Ot=i('<div class="output-loading svelte-112kdh0"><!></div>'),Ft=i('<div class="output-success svelte-112kdh0"><div class="output-content svelte-112kdh0"><pre class="svelte-112kdh0"> </pre></div></div>'),Mt=i('<div class="output-content svelte-112kdh0"><pre class="svelte-112kdh0"> </pre></div>'),jt=i('<div class="output-error svelte-112kdh0"><h3 class="svelte-112kdh0">Execution Error</h3> <p class="svelte-112kdh0"> </p></div>'),qt=i('<div class="output-success svelte-112kdh0"><div class="output-metadata svelte-112kdh0"><div class="meta-item svelte-112kdh0"><span class="meta-label svelte-112kdh0">Session ID:</span> <span class="meta-value svelte-112kdh0"> </span></div> <div class="meta-item svelte-112kdh0"><span class="meta-label svelte-112kdh0">Model:</span> <span class="meta-value svelte-112kdh0"> </span></div> <div class="meta-item svelte-112kdh0"><span class="meta-label svelte-112kdh0">Tokens:</span> <span class="meta-value svelte-112kdh0"> </span></div> <div class="meta-item svelte-112kdh0"><span class="meta-label svelte-112kdh0">Cost:</span> <span class="meta-value svelte-112kdh0"> </span></div> <div class="meta-item svelte-112kdh0"><span class="meta-label svelte-112kdh0">Latency:</span> <span class="meta-value svelte-112kdh0"> </span></div></div> <!></div>'),Bt=i('<div class="output-empty svelte-112kdh0"><p class="svelte-112kdh0">No output yet. Configure inputs and click "Invoke Skill" to run.</p></div>'),Dt=i('<div class="skill-detail svelte-112kdh0"><div class="detail-header svelte-112kdh0"><a href="/library" class="back-link svelte-112kdh0">‚Üê Back to Library</a> <div class="header-content svelte-112kdh0"><div class="header-main svelte-112kdh0"><h1 class="svelte-112kdh0"> </h1> <span> </span></div> <p class="skill-description svelte-112kdh0"> </p></div></div> <div class="skill-metadata svelte-112kdh0"><div class="meta-group svelte-112kdh0"><span class="meta-label svelte-112kdh0">Skill ID:</span> <span class="meta-value svelte-112kdh0"> </span></div> <div class="meta-group svelte-112kdh0"><span class="meta-label svelte-112kdh0">Section:</span> <span class="meta-value svelte-112kdh0"> </span></div> <div class="meta-group svelte-112kdh0"><span class="meta-label svelte-112kdh0">Category:</span> <span class="meta-value svelte-112kdh0"> </span></div> <div class="meta-group svelte-112kdh0"><span class="meta-label svelte-112kdh0">Est. Cost:</span> <span class="meta-value cost svelte-112kdh0"> </span></div></div> <!> <div class="content-grid svelte-112kdh0"><div class="inputs-panel svelte-112kdh0"><h2 class="svelte-112kdh0">Inputs</h2> <!> <div class="options-panel svelte-112kdh0"><h3 class="svelte-112kdh0">Execution Options</h3> <div class="option-group svelte-112kdh0"><label class="svelte-112kdh0"><input type="checkbox" class="svelte-112kdh0"/> Enable Streaming</label></div> <div class="option-group svelte-112kdh0"><label for="model" class="svelte-112kdh0">Model:</label> <select id="model" class="option-select svelte-112kdh0"><option class="svelte-112kdh0">Claude 3.5 Sonnet</option><option class="svelte-112kdh0">GPT-4 Turbo</option><option class="svelte-112kdh0">GPT-4</option></select></div> <div class="option-group svelte-112kdh0"><label for="temperature" class="svelte-112kdh0"> </label> <input type="range" id="temperature" min="0" max="1" step="0.1" class="option-slider svelte-112kdh0"/></div> <div class="option-group svelte-112kdh0"><label for="maxTokens" class="svelte-112kdh0"> </label> <input type="range" id="maxTokens" min="256" max="8192" step="256" class="option-slider svelte-112kdh0"/></div></div> <button class="btn-invoke svelte-112kdh0"><!></button></div> <div class="output-panel svelte-112kdh0"><div class="output-header svelte-112kdh0"><h2 class="svelte-112kdh0">Output</h2> <!></div> <!></div></div></div>'),Pt=i('<div class="skill-detail-container svelte-112kdh0"><!></div>');function Zt(ka,ha){Ya(ha,!0);const ma=()=>rt(it,"$page",fa),[fa,ga]=vt();let n=y(null),me=y(!0),w=y(null),b=y(Za({})),Q=y(!1),x=y(null),M=y(""),ne=y(!1),fe=y(!0),pe=y("claude-3.5-sonnet"),se=y(.2),le=y(4096);const He=oa(()=>ma().params.id);$a(async()=>{try{o(n,await dt.getSkill(e(He))||null,!0),e(n)||o(w,`Skill not found: ${e(He)}`),o(me,!1)}catch(h){o(w,h instanceof Error?h.message:"Failed to load skill",!0),o(me,!1)}}),et(()=>{if(e(n)){const h={};for(const[A,N]of Object.entries(e(n).inputs))N.type==="boolean"?h[A]=!1:N.type==="number"?h[A]=0:N.type==="array"?h[A]=[]:h[A]="";o(b,h,!0)}});async function ba(){if(!(!e(n)||e(Q))){o(Q,!0),o(x,null),o(M,""),o(w,null);try{if(e(fe)){o(ne,!0);const h=_a.invokeSkillStreaming(e(n).id,{inputs:e(b),options:{model:e(pe),temperature:e(se),max_tokens:e(le)}});for await(const A of h)o(M,e(M)+A);o(ne,!1)}else o(x,await _a.invokeSkill(e(n).id,{inputs:e(b),options:{model:e(pe),temperature:e(se),max_tokens:e(le)}}),!0)}catch(h){o(w,h instanceof Error?h.message:"Invocation failed",!0),o(ne,!1)}finally{o(Q,!1)}}}function xa(){o(x,null),o(M,""),o(w,null)}ot(ka,{children:(h,A)=>{var N=Pt(),ya=t(N);{var Sa=U=>{var ce=pt();v(U,ce)},Ea=U=>{var ce=G(),Ia=C(ce);{var Ta=V=>{var ve=ct(),ge=C(ve);nt(ge,{get error(){return e(w)},title:"Failed to Load Skill",onRetry:()=>window.location.reload()}),$(2),v(V,ve)},Ca=V=>{var ve=G(),ge=C(ve);{var wa=be=>{var xe=Dt(),ye=t(xe),Je=s(t(ye),2),Se=t(Je),Ee=t(Se),La=t(Ee,!0);a(Ee);var Ie=s(Ee,2),Oa=t(Ie,!0);a(Ie),a(Se);var Ke=s(Se,2),Fa=t(Ke,!0);a(Ke),a(Je),a(ye);var Te=s(ye,2),Ce=t(Te),Qe=s(t(Ce),2),Ma=t(Qe,!0);a(Qe),a(Ce);var we=s(Ce,2),Ue=s(t(we),2),ja=t(Ue,!0);a(Ue),a(we);var Le=s(we,2),Ve=s(t(Le),2),qa=t(Ve,!0);a(Ve),a(Le);var Ye=s(Le,2),Ze=s(t(Ye),2),Ba=t(Ze);a(Ze),a(Ye),a(Te);var $e=s(Te,2);{var Da=l=>{var d=_t(),S=s(t(d),2);pa(S,21,()=>e(n).tags,ca,(W,Y)=>{var r=ut(),k=t(r,!0);a(r),f(()=>p(k,e(Y))),v(W,r)}),a(S),a(d),v(l,d)};c($e,l=>{e(n).tags.length>0&&l(Da)})}var ea=s($e,2),Oe=t(ea),aa=s(t(Oe),2);{var Pa=l=>{var d=kt();v(l,d)},Ra=l=>{var d=Et();pa(d,21,()=>Object.entries(e(n).inputs),ca,(S,W)=>{var Y=oa(()=>tt(e(W),2));let r=()=>e(Y)[0],k=()=>e(Y)[1];var X=St(),j=t(X),Z=t(j),m=s(Z);{var g=u=>{var _=ht();v(u,_)};c(m,u=>{k().required&&u(g)})}a(j);var E=s(j,2);{var q=u=>{var _=mt(),D=t(_,!0);a(_),f(()=>p(D,k().description)),v(u,_)};c(E,u=>{k().description&&u(q)})}var re=s(E,2);{var B=u=>{var _=ft();ee(_),f(()=>ae(_,"id",r())),te(_,()=>e(b)[r()],D=>e(b)[r()]=D),v(u,_)},z=u=>{var _=G(),D=C(_);{var Ne=L=>{var O=gt();ee(O),f(()=>ae(O,"id",r())),te(O,()=>e(b)[r()],H=>e(b)[r()]=H),v(L,O)},ie=L=>{var O=G(),H=C(O);{var _e=I=>{var T=bt();ee(T),f(()=>ae(T,"id",r())),ua(T,()=>e(b)[r()],de=>e(b)[r()]=de),v(I,T)},We=I=>{var T=G(),de=C(T);{var ke=P=>{var F=xt(),J=C(F);na(J),$(2),f(()=>ae(J,"id",r())),te(J,()=>e(b)[r()],Xe=>e(b)[r()]=Xe),v(P,F)},he=P=>{var F=yt();na(F),f(()=>ae(F,"id",r())),te(F,()=>e(b)[r()],J=>e(b)[r()]=J),v(P,F)};c(de,P=>{k().type==="array"?P(ke):P(he,!1)},!0)}v(I,T)};c(H,I=>{k().type==="boolean"?I(_e):I(We,!1)},!0)}v(L,O)};c(D,L=>{k().type==="number"?L(Ne):L(ie,!1)},!0)}v(u,_)};c(re,u=>{k().type==="string"?u(B):u(z,!1)})}a(X),f(()=>{ae(j,"for",r()),p(Z,`${r()??""} `)}),v(S,X)}),a(d),v(l,d)};c(aa,l=>{Object.keys(e(n).inputs).length===0?l(Pa):l(Ra,!1)})}var Fe=s(aa,2),Me=s(t(Fe),2),ta=t(Me),sa=t(ta);ee(sa),$(),a(ta),a(Me);var je=s(Me,2),qe=s(t(je),2),Be=t(qe);Be.value=Be.__value="claude-3.5-sonnet";var De=s(Be);De.value=De.__value="gpt-4-turbo";var la=s(De);la.value=la.__value="gpt-4",a(qe),a(je);var Pe=s(je,2),Re=t(Pe),Ga=t(Re);a(Re);var va=s(Re,2);ee(va),a(Pe);var ra=s(Pe,2),Ge=t(ra),Aa=t(Ge);a(Ge);var ia=s(Ge,2);ee(ia),a(ra),a(Fe);var ue=s(Fe,2);ue.__click=ba;var Na=t(ue);{var Wa=l=>{var d=It();$(),v(l,d)},Xa=l=>{var d=Va("Invoke Skill");v(l,d)};c(Na,l=>{e(Q)?l(Wa):l(Xa,!1)})}a(ue),a(Oe);var da=s(Oe,2),Ae=t(da),za=s(t(Ae),2);{var Ha=l=>{var d=Tt();d.__click=xa,v(l,d)};c(za,l=>{(e(x)||e(M))&&l(Ha)})}a(Ae);var Ja=s(Ae,2);{var Ka=l=>{var d=Ct(),S=s(t(d),2),W=t(S,!0);a(S),a(d),f(()=>p(W,e(w))),v(l,d)},Qa=l=>{var d=G(),S=C(d);{var W=r=>{var k=Ot(),X=t(k);{var j=m=>{var g=wt(),E=t(g),q=t(E,!0);a(E),$(2),a(g),f(()=>p(q,e(M))),v(m,g)},Z=m=>{var g=Lt();$(2),v(m,g)};c(X,m=>{e(ne)?m(j):m(Z,!1)})}a(k),v(r,k)},Y=r=>{var k=G(),X=C(k);{var j=m=>{var g=Ft(),E=t(g),q=t(E),re=t(q,!0);a(q),a(E),a(g),f(()=>p(re,e(M))),v(m,g)},Z=m=>{var g=G(),E=C(g);{var q=B=>{var z=qt(),u=t(z),_=t(u),D=s(t(_),2),Ne=t(D,!0);a(D),a(_);var ie=s(_,2),L=s(t(ie),2),O=t(L,!0);a(L),a(ie);var H=s(ie,2),_e=s(t(H),2),We=t(_e,!0);a(_e),a(H);var I=s(H,2),T=s(t(I),2),de=t(T);a(T),a(I);var ke=s(I,2),he=s(t(ke),2),P=t(he);a(he),a(ke),a(u);var F=s(u,2);{var J=R=>{var K=Mt(),oe=t(K),ze=t(oe,!0);a(oe),a(K),f(()=>p(ze,e(x).output)),v(R,K)},Xe=R=>{var K=jt(),oe=s(t(K),2),ze=t(oe,!0);a(oe),a(K),f(()=>p(ze,e(x).error)),v(R,K)};c(F,R=>{e(x).status==="success"?R(J):R(Xe,!1)})}a(z),f(R=>{p(Ne,e(x).sessionId),p(O,e(x).metadata.model_used),p(We,e(x).metadata.tokens_used),p(de,`$${R??""}`),p(P,`${e(x).metadata.latency_ms??""}ms`)},[()=>e(x).metadata.cost.toFixed(4)]),v(B,z)},re=B=>{var z=Bt();v(B,z)};c(E,B=>{e(x)?B(q):B(re,!1)},!0)}v(m,g)};c(X,m=>{e(M)?m(j):m(Z,!1)},!0)}v(r,k)};c(S,r=>{e(Q)?r(W):r(Y,!1)},!0)}v(l,d)};c(Ja,l=>{e(w)?l(Ka):l(Qa,!1)})}a(da),a(ea),a(xe),f((l,d,S)=>{p(La,e(n).name),st(Ie,1,`skill-access ${l??""}`,"svelte-112kdh0"),p(Oa,e(n).access),p(Fa,e(n).description),p(Ma,e(n).id),p(ja,e(n).section),p(qa,e(n).category),p(Ba,`$${d??""} - $${S??""}`),p(Ga,`Temperature: ${e(se)??""}`),p(Aa,`Max Tokens: ${e(le)??""}`),ue.disabled=e(Q)},[()=>e(n).access.toLowerCase(),()=>e(n).estimatedCost.min.toFixed(3),()=>e(n).estimatedCost.max.toFixed(3)]),ua(sa,()=>e(fe),l=>o(fe,l)),lt(qe,()=>e(pe),l=>o(pe,l)),te(va,()=>e(se),l=>o(se,l)),te(ia,()=>e(le),l=>o(le,l)),v(be,xe)};c(ge,be=>{e(n)&&be(wa)},!0)}v(V,ve)};c(Ia,V=>{e(w)&&!e(n)?V(Ta):V(Ca,!1)},!0)}v(U,ce)};c(ya,U=>{e(me)?U(Sa):U(Ea,!1)})}a(N),v(h,N)},$$slots:{default:!0}}),at(),ga()}Ua(["click"]);export{Zt as component};
