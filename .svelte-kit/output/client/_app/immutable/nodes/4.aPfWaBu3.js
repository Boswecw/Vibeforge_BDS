import{T as Bt,p as Zt,s as p,R as fe,o as Mt,b as Ft,g as e,f as S,i as V,c as v,m as s,e as a,w as A,h as c,j as Vt,H as D,v as y,r as t,x as r,q as R,M as re,d as Ae,F as Se,G as ge,O as Yt,U as Ht,V as zt}from"../chunks/DkYuCCRR.js";import{P as Le,B as ft}from"../chunks/NBWhFnqU.js";import{B as ae}from"../chunks/BZBw9RiU.js";import{I as mt}from"../chunks/DJ6tW-_S.js";import{S as me}from"../chunks/CzJ_pneL.js";import{A as _t}from"../chunks/B_6VVtGD.js";var Gt=S('<button class="action-btn action-btn-warning svelte-1jef3w8" title="Deactivate user">Deactivate</button>'),Wt=S('<button class="action-btn action-btn-success svelte-1jef3w8" title="Activate user">Activate</button>'),Jt=S('<button class="action-btn action-btn-primary svelte-1jef3w8" title="Promote to admin">Promote</button>'),qt=S('<button class="action-btn action-btn-secondary svelte-1jef3w8" title="Demote to user">Demote</button>'),Kt=S('<tr class="svelte-1jef3w8"><td class="cell-email svelte-1jef3w8"> </td><td class="svelte-1jef3w8"> </td><td class="svelte-1jef3w8"><!></td><td class="svelte-1jef3w8"><!></td><td class="svelte-1jef3w8"><!></td><td class="cell-date svelte-1jef3w8"> </td><td class="cell-number svelte-1jef3w8"> </td><td class="cell-actions svelte-1jef3w8"><div class="action-buttons svelte-1jef3w8"><!> <!> <button class="action-btn action-btn-error svelte-1jef3w8" title="Delete user">Delete</button></div></td></tr>'),Qt=S('<tr class="svelte-1jef3w8"><td colspan="8" class="empty-state svelte-1jef3w8">No users found matching your filters</td></tr>'),Xt=S('<div class="filters svelte-1jef3w8"><!> <!> <!></div> <div class="table-container svelte-1jef3w8"><table class="admin-table svelte-1jef3w8"><thead class="svelte-1jef3w8"><tr><th class="svelte-1jef3w8">Email</th><th class="svelte-1jef3w8">Name</th><th class="svelte-1jef3w8">Access Level</th><th class="svelte-1jef3w8">Role</th><th class="svelte-1jef3w8">Status</th><th class="svelte-1jef3w8">Last Login</th><th class="svelte-1jef3w8">Invocations</th><th class="svelte-1jef3w8">Actions</th></tr></thead><tbody class="svelte-1jef3w8"><!><!></tbody></table></div>',1),es=S('<div><div class="health-card-header svelte-1jef3w8"><h3 class="health-service-name svelte-1jef3w8"> </h3> <!></div> <div class="health-metrics svelte-1jef3w8"><div class="health-metric svelte-1jef3w8"><span class="metric-label svelte-1jef3w8">Response Time</span> <span class="metric-value svelte-1jef3w8"> </span></div> <div class="health-metric svelte-1jef3w8"><span class="metric-label svelte-1jef3w8">Uptime</span> <span class="metric-value svelte-1jef3w8"> </span></div> <div class="health-metric svelte-1jef3w8"><span class="metric-label svelte-1jef3w8">Error Rate</span> <span class="metric-value svelte-1jef3w8"> </span></div> <div class="health-metric svelte-1jef3w8"><span class="metric-label svelte-1jef3w8">Last Check</span> <span class="metric-value metric-value-sm svelte-1jef3w8"> </span></div></div> <div class="uptime-bar svelte-1jef3w8"><div></div></div></div>'),ts=S('<div class="system-health-header svelte-1jef3w8"><div class="health-actions svelte-1jef3w8"><!> <label class="auto-refresh-toggle svelte-1jef3w8"><input type="checkbox" class="svelte-1jef3w8"/> <span>Auto-refresh (30s)</span></label></div></div> <div class="health-grid svelte-1jef3w8"></div>',1),ss=S('<tr class="svelte-1jef3w8"><td class="cell-skill-name svelte-1jef3w8"> </td><td class="svelte-1jef3w8"> </td><td class="svelte-1jef3w8"> </td><td class="svelte-1jef3w8"><!></td><td class="svelte-1jef3w8"><!></td><td class="cell-number svelte-1jef3w8"> </td><td class="cell-number svelte-1jef3w8"> </td><td class="cell-number svelte-1jef3w8"> </td><td class="cell-actions svelte-1jef3w8"><button> </button></td></tr>'),as=S('<tr class="svelte-1jef3w8"><td colspan="9" class="empty-state svelte-1jef3w8">No skills found matching your filters</td></tr>'),ls=S('<div class="filters svelte-1jef3w8"><!> <!></div> <div class="table-container svelte-1jef3w8"><table class="admin-table svelte-1jef3w8"><thead class="svelte-1jef3w8"><tr><th class="svelte-1jef3w8">Skill Name</th><th class="svelte-1jef3w8">Section</th><th class="svelte-1jef3w8">Category</th><th class="svelte-1jef3w8">Access Level</th><th class="svelte-1jef3w8">Status</th><th class="svelte-1jef3w8">Usage</th><th class="svelte-1jef3w8">Success Rate</th><th class="svelte-1jef3w8">Avg Time</th><th class="svelte-1jef3w8">Actions</th></tr></thead><tbody class="svelte-1jef3w8"><!><!></tbody></table></div>',1),rs=S('<tr class="svelte-1jef3w8"><td class="cell-date svelte-1jef3w8"> </td><td class="cell-email svelte-1jef3w8"> </td><td class="svelte-1jef3w8"><!></td><td class="svelte-1jef3w8"> </td><td class="svelte-1jef3w8"><!></td><td class="cell-details svelte-1jef3w8"> </td><td class="cell-ip svelte-1jef3w8"> </td></tr>'),is=S('<tr class="svelte-1jef3w8"><td colspan="7" class="empty-state svelte-1jef3w8">No audit logs found matching your filters</td></tr>'),vs=S('<div class="filters svelte-1jef3w8"><!> <!> <div class="filter-actions svelte-1jef3w8"><!></div></div> <div class="table-container svelte-1jef3w8"><table class="admin-table audit-table svelte-1jef3w8"><thead class="svelte-1jef3w8"><tr><th class="svelte-1jef3w8">Timestamp</th><th class="svelte-1jef3w8">User</th><th class="svelte-1jef3w8">Action</th><th class="svelte-1jef3w8">Resource</th><th class="svelte-1jef3w8">Status</th><th class="svelte-1jef3w8">Details</th><th class="svelte-1jef3w8">IP Address</th></tr></thead><tbody class="svelte-1jef3w8"><!><!></tbody></table></div>',1),ds=S('<div class="admin-page svelte-1jef3w8"><div class="page-header svelte-1jef3w8"><div class="header-content svelte-1jef3w8"><h1 class="page-title svelte-1jef3w8">Admin Panel</h1> <p class="page-description svelte-1jef3w8">System administration and user management</p></div> <!></div> <!> <!> <div class="stats-grid svelte-1jef3w8"><div class="stat-card svelte-1jef3w8"><div class="stat-label svelte-1jef3w8">Total Users</div> <div class="stat-value svelte-1jef3w8"> </div> <div class="stat-detail svelte-1jef3w8"> </div></div> <div class="stat-card svelte-1jef3w8"><div class="stat-label svelte-1jef3w8">Admin Users</div> <div class="stat-value svelte-1jef3w8"> </div> <div class="stat-detail svelte-1jef3w8"> </div></div> <div class="stat-card svelte-1jef3w8"><div class="stat-label svelte-1jef3w8">Skills</div> <div class="stat-value svelte-1jef3w8"> </div> <div class="stat-detail svelte-1jef3w8"> </div></div> <div class="stat-card svelte-1jef3w8"><div class="stat-label svelte-1jef3w8">System Health</div> <div class="stat-value svelte-1jef3w8"> </div> <div> </div></div></div> <div class="tabs svelte-1jef3w8"><button>üë• User Management</button> <button>üñ•Ô∏è System Health</button> <button>üõ†Ô∏è Skill Management</button> <button>üìã Audit Logs</button></div> <div class="tab-content svelte-1jef3w8"><!> <!> <!> <!></div></div>');function _s(ht,bt){Zt(bt,!0);let x=p("users"),_e=p(!1),$e=p(null),j=p(null),Y=p(fe([])),de=p(""),he=p("ALL"),be=p("ALL"),H=p(fe([])),Ee=p(!1),oe=p(fe([])),ne=p(""),we=p("ALL"),Ge=p(fe([])),pe=p("ALL"),je=p("ALL"),ie=p(fe({totalUsers:0,activeUsers:0,adminUsers:0,bdsUsers:0,totalSkills:0,enabledSkills:0,totalInvocations:0,errorRate:0}));const We=R(()=>e(Y).filter(l=>{const d=e(de)===""||l.email.toLowerCase().includes(e(de).toLowerCase())||l.name.toLowerCase().includes(e(de).toLowerCase()),n=e(he)==="ALL"||l.role===e(he),u=e(be)==="ALL"||l.status===e(be);return d&&n&&u})),Je=R(()=>e(oe).filter(l=>{const d=e(ne)===""||l.skillName.toLowerCase().includes(e(ne).toLowerCase())||l.category.toLowerCase().includes(e(ne).toLowerCase()),n=e(we)==="ALL"||(e(we)==="ENABLED"?l.enabled:!l.enabled);return d&&n})),Te=R(()=>e(Ge).filter(l=>{const d=e(pe)==="ALL"||l.action.toUpperCase().includes(e(pe)),n=e(je)==="ALL"||l.status===e(je);return d&&n})),wt=R(()=>e(H).filter(l=>l.status==="HEALTHY").length),Ce=R(()=>e(H).filter(l=>l.status==="DEGRADED").length),De=R(()=>e(H).filter(l=>l.status==="DOWN").length);function pt(){v(Y,[{id:"user-1",email:"admin@bds.com",name:"Charles Boswell",accessLevel:"BDS_ONLY",role:"ADMIN",status:"ACTIVE",createdAt:"2025-01-15T10:00:00Z",lastLogin:"2025-12-09T14:30:00Z",totalInvocations:1247},{id:"user-2",email:"developer@bds.com",name:"Jane Smith",accessLevel:"BDS_ONLY",role:"USER",status:"ACTIVE",createdAt:"2025-02-01T09:00:00Z",lastLogin:"2025-12-09T13:45:00Z",totalInvocations:892},{id:"user-3",email:"analyst@bds.com",name:"Mike Johnson",accessLevel:"BDS_ONLY",role:"USER",status:"ACTIVE",createdAt:"2025-03-10T11:30:00Z",lastLogin:"2025-12-08T16:20:00Z",totalInvocations:543},{id:"user-4",email:"tester@bds.com",name:"Sarah Davis",accessLevel:"PUBLIC",role:"USER",status:"ACTIVE",createdAt:"2025-04-20T08:15:00Z",lastLogin:"2025-12-07T10:00:00Z",totalInvocations:234},{id:"user-5",email:"inactive@bds.com",name:"Tom Wilson",accessLevel:"BDS_ONLY",role:"USER",status:"INACTIVE",createdAt:"2025-05-05T14:00:00Z",lastLogin:"2025-11-01T12:00:00Z",totalInvocations:89}],!0),v(H,[{service:"ForgeAgents API",status:"HEALTHY",responseTime:45,uptime:99.98,lastCheck:"2025-12-09T14:35:00Z",errorRate:.02},{service:"NeuroForge",status:"HEALTHY",responseTime:120,uptime:99.95,lastCheck:"2025-12-09T14:35:00Z",errorRate:.05},{service:"DataForge",status:"HEALTHY",responseTime:25,uptime:99.99,lastCheck:"2025-12-09T14:35:00Z",errorRate:.01},{service:"MAPO",status:"DEGRADED",responseTime:320,uptime:98.5,lastCheck:"2025-12-09T14:35:00Z",errorRate:1.5},{service:"Authentication",status:"HEALTHY",responseTime:15,uptime:99.99,lastCheck:"2025-12-09T14:35:00Z",errorRate:.01}],!0),v(oe,[{skillId:"skill-python-gen",skillName:"Python Function Generator",section:"Coding",category:"Code Generation",enabled:!0,accessLevel:"BDS_ONLY",totalInvocations:543,successRate:96.5,avgResponseTime:2.3,lastUsed:"2025-12-09T14:30:00Z"},{skillId:"skill-code-review",skillName:"Code Review Assistant",section:"Coding",category:"Code Review",enabled:!0,accessLevel:"BDS_ONLY",totalInvocations:432,successRate:98.1,avgResponseTime:3.1,lastUsed:"2025-12-09T13:45:00Z"},{skillId:"skill-doc-gen",skillName:"Documentation Generator",section:"Writing",category:"Documentation",enabled:!0,accessLevel:"PUBLIC",totalInvocations:387,successRate:94.2,avgResponseTime:1.8,lastUsed:"2025-12-09T12:00:00Z"},{skillId:"skill-bug-analyzer",skillName:"Bug Analysis Expert",section:"Coding",category:"Debugging",enabled:!0,accessLevel:"BDS_ONLY",totalInvocations:298,successRate:92.8,avgResponseTime:2.7,lastUsed:"2025-12-08T16:20:00Z"},{skillId:"skill-test-gen",skillName:"Unit Test Generator",section:"Coding",category:"Testing",enabled:!1,accessLevel:"BDS_ONLY",totalInvocations:156,successRate:88.5,avgResponseTime:3.5,lastUsed:"2025-12-05T10:00:00Z"}],!0),v(Ge,[{id:"audit-1",timestamp:"2025-12-09T14:30:00Z",user:"admin@bds.com",action:"UPDATE",resource:"Skill: Python Function Generator",status:"SUCCESS",details:"Enabled skill for BDS_ONLY users",ipAddress:"192.168.1.100"},{id:"audit-2",timestamp:"2025-12-09T13:45:00Z",user:"developer@bds.com",action:"ACCESS",resource:"Skill Library",status:"SUCCESS",details:"Accessed skill library",ipAddress:"192.168.1.101"},{id:"audit-3",timestamp:"2025-12-09T12:00:00Z",user:"admin@bds.com",action:"CREATE",resource:"User: tester@bds.com",status:"SUCCESS",details:"Created new user account",ipAddress:"192.168.1.100"},{id:"audit-4",timestamp:"2025-12-09T11:30:00Z",user:"analyst@bds.com",action:"ACCESS",resource:"Admin Panel",status:"FAILURE",details:"Unauthorized access attempt",ipAddress:"192.168.1.102"},{id:"audit-5",timestamp:"2025-12-09T10:15:00Z",user:"admin@bds.com",action:"UPDATE",resource:"User: inactive@bds.com",status:"SUCCESS",details:"Changed user status to INACTIVE",ipAddress:"192.168.1.100"},{id:"audit-6",timestamp:"2025-12-09T09:00:00Z",user:"admin@bds.com",action:"DELETE",resource:"Skill: Old Test Skill",status:"SUCCESS",details:"Removed deprecated skill",ipAddress:"192.168.1.100"}],!0),v(ie,{totalUsers:e(Y).length,activeUsers:e(Y).filter(l=>l.status==="ACTIVE").length,adminUsers:e(Y).filter(l=>l.role==="ADMIN").length,bdsUsers:e(Y).filter(l=>l.accessLevel==="BDS_ONLY").length,totalSkills:e(oe).length,enabledSkills:e(oe).filter(l=>l.enabled).length,totalInvocations:e(Y).reduce((l,d)=>l+d.totalInvocations,0),errorRate:e(H).reduce((l,d)=>l+d.errorRate,0)/e(H).length},!0)}function ce(l,d){const n=e(Y).find(u=>u.id===l);if(n){switch(d){case"ACTIVATE":n.status="ACTIVE",v(j,`User ${n.email} activated successfully`);break;case"DEACTIVATE":n.status="INACTIVE",v(j,`User ${n.email} deactivated successfully`);break;case"PROMOTE":n.role="ADMIN",v(j,`User ${n.email} promoted to ADMIN`);break;case"DEMOTE":n.role="USER",v(j,`User ${n.email} demoted to USER`);break;case"DELETE":v(Y,e(Y).filter(u=>u.id!==l),!0),v(j,`User ${n.email} deleted successfully`);break}setTimeout(()=>{v(j,null)},5e3)}}function jt(l){const d=e(oe).find(n=>n.skillId===l);d&&(d.enabled=!d.enabled,v(j,`Skill "${d.skillName}" ${d.enabled?"enabled":"disabled"} successfully`),setTimeout(()=>{v(j,null)},5e3))}function qe(){v(_e,!0),v(j,"Refreshing system health status..."),setTimeout(()=>{v(H,[...e(H)],!0),v(_e,!1),v(j,"System health refreshed successfully"),setTimeout(()=>{v(j,null)},3e3)},1e3)}function At(){const l=[["Timestamp","User","Action","Resource","Status","Details","IP Address"].join(","),...e(Te).map(f=>[f.timestamp,f.user,f.action,f.resource,f.status,f.details,f.ipAddress].map(U=>`"${U}"`).join(","))].join(`
`),d=new Blob([l],{type:"text/csv"}),n=URL.createObjectURL(d),u=document.createElement("a");u.href=n,u.download=`audit-logs-${new Date().toISOString()}.csv`,u.click(),URL.revokeObjectURL(n),v(j,"Audit logs exported successfully"),setTimeout(()=>{v(j,null)},3e3)}Mt(()=>{pt()}),Ft(()=>{if(e(Ee)){const l=setInterval(()=>{qe()},3e4);return()=>clearInterval(l)}});function Ue(l){return new Date(l).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}function ke(l){switch(l){case"ACTIVE":case"HEALTHY":case"SUCCESS":return"success";case"DEGRADED":case"SUSPENDED":return"warning";case"INACTIVE":case"DOWN":case"FAILURE":return"error";default:return"default"}}var Ie=ds(),ye=s(Ie),St=a(s(ye),2);ae(St,{variant:"error",size:"sm",children:(l,d)=>{D();var n=y("BDS ADMIN ONLY");c(l,n)},$$slots:{default:!0}}),t(ye);var Ke=a(ye,2);{var gt=l=>{_t(l,{variant:"success",dismissible:!0,$$events:{dismiss:()=>v(j,null)},children:(d,n)=>{D();var u=y();A(()=>r(u,e(j))),c(d,u)},$$slots:{default:!0}})};V(Ke,l=>{e(j)&&l(gt)})}var Qe=a(Ke,2);{var Lt=l=>{_t(l,{variant:"error",dismissible:!0,$$events:{dismiss:()=>v($e,null)},children:(d,n)=>{D();var u=y();A(()=>r(u,e($e))),c(d,u)},$$slots:{default:!0}})};V(Qe,l=>{e($e)&&l(Lt)})}var Re=a(Qe,2),xe=s(Re),Ne=a(s(xe),2),$t=s(Ne,!0);t(Ne);var Xe=a(Ne,2),Et=s(Xe);t(Xe),t(xe);var Pe=a(xe,2),Oe=a(s(Pe),2),Tt=s(Oe,!0);t(Oe);var et=a(Oe,2),Ct=s(et);t(et),t(Pe);var Be=a(Pe,2),Ze=a(s(Be),2),Dt=s(Ze,!0);t(Ze);var tt=a(Ze,2),Ut=s(tt);t(tt),t(Be);var st=a(Be,2),Me=a(s(st),2),kt=s(Me);t(Me);var Fe=a(Me,2),It=s(Fe,!0);t(Fe),t(st),t(Re);var Ve=a(Re,2),Ye=s(Ve);let at;Ye.__click=()=>v(x,"users");var He=a(Ye,2);let lt;He.__click=()=>v(x,"system");var ze=a(He,2);let rt;ze.__click=()=>v(x,"skills");var it=a(ze,2);let vt;it.__click=()=>v(x,"audit"),t(Ve);var dt=a(Ve,2),ot=s(dt);{var yt=l=>{Le(l,{title:"User Management",variant:"bordered",children:(d,n)=>{var u=Xt(),f=Ae(u),U=s(f);mt(U,{label:"Search users",placeholder:"Search by email or name...",get value(){return e(de)},set value(o){v(de,o,!0)}});var z=a(U,2);me(z,{label:"Role",options:[{value:"ALL",label:"All Roles"},{value:"USER",label:"User"},{value:"ADMIN",label:"Admin"}],get value(){return e(he)},set value(o){v(he,o,!0)}});var G=a(z,2);me(G,{label:"Status",options:[{value:"ALL",label:"All Status"},{value:"ACTIVE",label:"Active"},{value:"INACTIVE",label:"Inactive"},{value:"SUSPENDED",label:"Suspended"}],get value(){return e(be)},set value(o){v(be,o,!0)}}),t(f);var W=a(f,2),O=s(W),E=a(s(O)),h=s(E);Se(h,17,()=>e(We),ge,(o,i)=>{var m=Kt(),g=s(m),k=s(g,!0);t(g);var J=a(g),B=s(J,!0);t(J);var Z=a(J),N=s(Z);{let _=R(()=>e(i).accessLevel==="BDS_ONLY"?"warning":"default");ae(N,{get variant(){return e(_)},size:"sm",children:(b,ut)=>{D();var le=y();A(()=>r(le,e(i).accessLevel)),c(b,le)},$$slots:{default:!0}})}t(Z);var ee=a(Z),I=s(ee);{let _=R(()=>e(i).role==="ADMIN"?"success":"default");ae(I,{get variant(){return e(_)},size:"sm",children:(b,ut)=>{D();var le=y();A(()=>r(le,e(i).role)),c(b,le)},$$slots:{default:!0}})}t(ee);var q=a(ee),M=s(q);{let _=R(()=>ke(e(i).status));ae(M,{get variant(){return e(_)},size:"sm",children:(b,ut)=>{D();var le=y();A(()=>r(le,e(i).status)),c(b,le)},$$slots:{default:!0}})}t(q);var K=a(q),P=s(K,!0);t(K);var te=a(K),F=s(te,!0);t(te);var se=a(te),L=s(se),C=s(L);{var Q=_=>{var b=Gt();b.__click=()=>ce(e(i).id,"DEACTIVATE"),c(_,b)},$=_=>{var b=Wt();b.__click=()=>ce(e(i).id,"ACTIVATE"),c(_,b)};V(C,_=>{e(i).status==="ACTIVE"?_(Q):_($,!1)})}var X=a(C,2);{var ue=_=>{var b=Jt();b.__click=()=>ce(e(i).id,"PROMOTE"),c(_,b)},ve=_=>{var b=qt();b.__click=()=>ce(e(i).id,"DEMOTE"),c(_,b)};V(X,_=>{e(i).role==="USER"?_(ue):_(ve,!1)})}var Ot=a(X,2);Ot.__click=()=>ce(e(i).id,"DELETE"),t(L),t(se),t(m),A((_,b)=>{r(k,e(i).email),r(B,e(i).name),r(P,_),r(F,b)},[()=>Ue(e(i).lastLogin),()=>e(i).totalInvocations.toLocaleString()]),c(o,m)});var T=a(h);{var w=o=>{var i=Qt();c(o,i)};V(T,o=>{e(We).length===0&&o(w)})}t(E),t(O),t(W),c(d,u)},$$slots:{default:!0}})};V(ot,l=>{e(x)==="users"&&l(yt)})}var nt=a(ot,2);{var Rt=l=>{Le(l,{title:"System Health Monitoring",variant:"bordered",children:(d,n)=>{var u=ts(),f=Ae(u),U=s(f),z=s(U);ft(z,{variant:"primary",size:"sm",get disabled(){return e(_e)},$$events:{click:qe},children:(E,h)=>{D();var T=y();A(()=>r(T,e(_e)?"Refreshing...":"üîÑ Refresh Status")),c(E,T)},$$slots:{default:!0}});var G=a(z,2),W=s(G);Yt(W),D(2),t(G),t(U),t(f);var O=a(f,2);Se(O,21,()=>e(H),ge,(E,h)=>{var T=es(),w=s(T),o=s(w),i=s(o,!0);t(o);var m=a(o,2);{let L=R(()=>ke(e(h).status));ae(m,{get variant(){return e(L)},size:"sm",children:(C,Q)=>{D();var $=y();A(()=>r($,e(h).status)),c(C,$)},$$slots:{default:!0}})}t(w);var g=a(w,2),k=s(g),J=a(s(k),2),B=s(J);t(J),t(k);var Z=a(k,2),N=a(s(Z),2),ee=s(N);t(N),t(Z);var I=a(Z,2),q=a(s(I),2),M=s(q);t(q),t(I);var K=a(I,2),P=a(s(K),2),te=s(P,!0);t(P),t(K),t(g);var F=a(g,2),se=s(F);t(F),t(T),A((L,C,Q,$,X)=>{re(T,1,`health-card health-card-${L??""}`,"svelte-1jef3w8"),r(i,e(h).service),r(B,`${e(h).responseTime??""}ms`),r(ee,`${C??""}%`),r(M,`${Q??""}%`),r(te,$),re(se,1,`uptime-fill uptime-fill-${X??""}`,"svelte-1jef3w8"),Ht(se,`width: ${e(h).uptime??""}%`)},[()=>e(h).status.toLowerCase(),()=>e(h).uptime.toFixed(2),()=>e(h).errorRate.toFixed(2),()=>Ue(e(h).lastCheck),()=>e(h).status.toLowerCase()]),c(E,T)}),t(O),zt(W,()=>e(Ee),E=>v(Ee,E)),c(d,u)},$$slots:{default:!0}})};V(nt,l=>{e(x)==="system"&&l(Rt)})}var ct=a(nt,2);{var xt=l=>{Le(l,{title:"Skill Management",variant:"bordered",children:(d,n)=>{var u=ls(),f=Ae(u),U=s(f);mt(U,{label:"Search skills",placeholder:"Search by name or category...",get value(){return e(ne)},set value(w){v(ne,w,!0)}});var z=a(U,2);me(z,{label:"Status",options:[{value:"ALL",label:"All Skills"},{value:"ENABLED",label:"Enabled"},{value:"DISABLED",label:"Disabled"}],get value(){return e(we)},set value(w){v(we,w,!0)}}),t(f);var G=a(f,2),W=s(G),O=a(s(W)),E=s(O);Se(E,17,()=>e(Je),ge,(w,o)=>{var i=ss(),m=s(i),g=s(m,!0);t(m);var k=a(m),J=s(k,!0);t(k);var B=a(k),Z=s(B,!0);t(B);var N=a(B),ee=s(N);{let $=R(()=>e(o).accessLevel==="BDS_ONLY"?"warning":"default");ae(ee,{get variant(){return e($)},size:"sm",children:(X,ue)=>{D();var ve=y();A(()=>r(ve,e(o).accessLevel)),c(X,ve)},$$slots:{default:!0}})}t(N);var I=a(N),q=s(I);{let $=R(()=>e(o).enabled?"success":"error");ae(q,{get variant(){return e($)},size:"sm",children:(X,ue)=>{D();var ve=y();A(()=>r(ve,e(o).enabled?"Enabled":"Disabled")),c(X,ve)},$$slots:{default:!0}})}t(I);var M=a(I),K=s(M,!0);t(M);var P=a(M),te=s(P);t(P);var F=a(P),se=s(F);t(F);var L=a(F),C=s(L);C.__click=()=>jt(e(o).skillId);var Q=s(C,!0);t(C),t(L),t(i),A(($,X,ue)=>{r(g,e(o).skillName),r(J,e(o).section),r(Z,e(o).category),r(K,$),r(te,`${X??""}%`),r(se,`${ue??""}s`),re(C,1,`action-btn ${e(o).enabled?"action-btn-warning":"action-btn-success"}`,"svelte-1jef3w8"),r(Q,e(o).enabled?"Disable":"Enable")},[()=>e(o).totalInvocations.toLocaleString(),()=>e(o).successRate.toFixed(1),()=>e(o).avgResponseTime.toFixed(1)]),c(w,i)});var h=a(E);{var T=w=>{var o=as();c(w,o)};V(h,w=>{e(Je).length===0&&w(T)})}t(O),t(W),t(G),c(d,u)},$$slots:{default:!0}})};V(ct,l=>{e(x)==="skills"&&l(xt)})}var Nt=a(ct,2);{var Pt=l=>{Le(l,{title:"Audit Logs",variant:"bordered",children:(d,n)=>{var u=vs(),f=Ae(u),U=s(f);me(U,{label:"Action",options:[{value:"ALL",label:"All Actions"},{value:"CREATE",label:"Create"},{value:"UPDATE",label:"Update"},{value:"DELETE",label:"Delete"},{value:"ACCESS",label:"Access"}],get value(){return e(pe)},set value(i){v(pe,i,!0)}});var z=a(U,2);me(z,{label:"Status",options:[{value:"ALL",label:"All Status"},{value:"SUCCESS",label:"Success"},{value:"FAILURE",label:"Failure"}],get value(){return e(je)},set value(i){v(je,i,!0)}});var G=a(z,2),W=s(G);ft(W,{variant:"secondary",size:"sm",$$events:{click:At},children:(i,m)=>{D();var g=y("üì• Export Logs");c(i,g)},$$slots:{default:!0}}),t(G),t(f);var O=a(f,2),E=s(O),h=a(s(E)),T=s(h);Se(T,17,()=>e(Te),ge,(i,m)=>{var g=rs(),k=s(g),J=s(k,!0);t(k);var B=a(k),Z=s(B,!0);t(B);var N=a(B),ee=s(N);ae(ee,{variant:"default",size:"sm",children:(L,C)=>{D();var Q=y();A(()=>r(Q,e(m).action)),c(L,Q)},$$slots:{default:!0}}),t(N);var I=a(N),q=s(I,!0);t(I);var M=a(I),K=s(M);{let L=R(()=>ke(e(m).status));ae(K,{get variant(){return e(L)},size:"sm",children:(C,Q)=>{D();var $=y();A(()=>r($,e(m).status)),c(C,$)},$$slots:{default:!0}})}t(M);var P=a(M),te=s(P,!0);t(P);var F=a(P),se=s(F,!0);t(F),t(g),A(L=>{r(J,L),r(Z,e(m).user),r(q,e(m).resource),r(te,e(m).details),r(se,e(m).ipAddress)},[()=>Ue(e(m).timestamp)]),c(i,g)});var w=a(T);{var o=i=>{var m=is();c(i,m)};V(w,i=>{e(Te).length===0&&i(o)})}t(h),t(E),t(O),c(d,u)},$$slots:{default:!0}})};V(Nt,l=>{e(x)==="audit"&&l(Pt)})}t(dt),t(Ie),A(()=>{r($t,e(ie).totalUsers),r(Et,`${e(ie).activeUsers??""} active`),r(Tt,e(ie).adminUsers),r(Ct,`${e(ie).bdsUsers??""} BDS access`),r(Dt,e(ie).totalSkills),r(Ut,`${e(ie).enabledSkills??""} enabled`),r(kt,`${e(wt)??""}/${e(H).length??""}`),re(Fe,1,`stat-detail stat-detail-${e(De)>0?"error":e(Ce)>0?"warning":"success"}`,"svelte-1jef3w8"),r(It,e(De)>0?`${e(De)} down`:e(Ce)>0?`${e(Ce)} degraded`:"All healthy"),at=re(Ye,1,"tab svelte-1jef3w8",null,at,{active:e(x)==="users"}),lt=re(He,1,"tab svelte-1jef3w8",null,lt,{active:e(x)==="system"}),rt=re(ze,1,"tab svelte-1jef3w8",null,rt,{active:e(x)==="skills"}),vt=re(it,1,"tab svelte-1jef3w8",null,vt,{active:e(x)==="audit"})}),c(ht,Ie),Vt()}Bt(["click"]);export{_s as component};
