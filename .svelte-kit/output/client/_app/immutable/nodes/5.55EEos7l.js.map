{"version":3,"file":"5.55EEos7l.js","sources":["../../../../../../src/lib/components/admin/AgentTemplateTable.svelte","../../../../../../src/lib/components/admin/AgentTemplateForm.svelte","../../../../../../src/routes/admin/agents/+page.svelte"],"sourcesContent":["<script lang=\"ts\">\n\timport type { AgentTemplate } from '$lib/agents/types';\n\timport AgentTemplateForm from './AgentTemplateForm.svelte';\n\n\texport let templates: AgentTemplate[] = [];\n\texport let onUpdate: (template: AgentTemplate) => void;\n\n\tlet editingId: string | null = null;\n</script>\n\n<div class=\"overflow-auto\">\n\t<table class=\"min-w-full text-sm text-left text-slate-200\">\n\t\t<thead class=\"bg-slate-800 text-xs uppercase text-slate-400\">\n\t\t\t<tr>\n\t\t\t\t<th class=\"px-4 py-2\">Kind</th>\n\t\t\t\t<th class=\"px-4 py-2\">Label</th>\n\t\t\t\t<th class=\"px-4 py-2\">Pipeline</th>\n\t\t\t\t<th class=\"px-4 py-2\">Allowed Repos</th>\n\t\t\t\t<th class=\"px-4 py-2\">Auto SAS</th>\n\t\t\t\t<th class=\"px-4 py-2\">Locked</th>\n\t\t\t\t<th class=\"px-4 py-2\">Actions</th>\n\t\t\t</tr>\n\t\t</thead>\n\t\t<tbody>\n\t\t\t{#each templates as template (template.id)}\n\t\t\t\t<tr class=\"border-b border-slate-800\">\n\t\t\t\t\t<td class=\"px-4 py-2\">{template.kind}</td>\n\t\t\t\t\t<td class=\"px-4 py-2\">{template.label}</td>\n\t\t\t\t\t<td class=\"px-4 py-2\">{template.pipelineId}</td>\n\t\t\t\t\t<td class=\"px-4 py-2 text-slate-300\">{template.allowedRepos.join(', ')}</td>\n\t\t\t\t\t<td class=\"px-4 py-2\">{template.autoEvaluateWithSAS ? 'Yes' : 'No'}</td>\n\t\t\t\t\t<td class=\"px-4 py-2\">{template.locked ? 'Locked' : 'Editable'}</td>\n\t\t\t\t\t<td class=\"px-4 py-2\">\n\t\t\t\t\t\t{#if !template.locked}\n\t\t\t\t\t\t\t<button\n\t\t\t\t\t\t\t\tclass=\"px-3 py-1 rounded bg-amber-500 text-black text-xs font-semibold\"\n\t\t\t\t\t\t\t\ton:click={() => (editingId = template.id)}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\tEdit\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t{:else}\n\t\t\t\t\t\t\t<span class=\"text-xs text-slate-500\">Locked</span>\n\t\t\t\t\t\t{/if}\n\t\t\t\t\t</td>\n\t\t\t\t</tr>\n\t\t\t\t{#if editingId === template.id}\n\t\t\t\t\t<tr class=\"border-b border-slate-800\">\n\t\t\t\t\t\t<td colspan=\"7\" class=\"px-4 py-3 bg-slate-900/70\">\n\t\t\t\t\t\t\t<AgentTemplateForm\n\t\t\t\t\t\t\t\t{template}\n\t\t\t\t\t\t\t\ton:save={(e) => {\n\t\t\t\t\t\t\t\t\tonUpdate(e.detail);\n\t\t\t\t\t\t\t\t\teditingId = null;\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\ton:cancel={() => (editingId = null)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<p class=\"text-xs text-slate-500 mt-2\">\n\t\t\t\t\t\t\t\tTODO: persist to config (Tauri) instead of in-memory once available.\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</td>\n\t\t\t\t\t</tr>\n\t\t\t\t{/if}\n\t\t\t{/each}\n\t\t</tbody>\n\t</table>\n</div>\n","<script lang=\"ts\">\n\timport type { AgentTemplate } from '$lib/agents/types';\n\timport { createEventDispatcher } from 'svelte';\n\n\texport let template: AgentTemplate;\n\n\tconst dispatch = createEventDispatcher<{ save: AgentTemplate; cancel: void }>();\n\n\tlet allowedReposText = template.allowedRepos.join(', ');\n\tlet autoEvaluateWithSAS = template.autoEvaluateWithSAS;\n\n\tconst save = () => {\n\t\tconst allowedRepos = allowedReposText\n\t\t\t.split(',')\n\t\t\t.map((r) => r.trim())\n\t\t\t.filter(Boolean);\n\t\tdispatch('save', { ...template, allowedRepos, autoEvaluateWithSAS });\n\t};\n</script>\n\n<div class=\"space-y-3\">\n\t<div>\n\t\t<label for=\"allowed-repos\" class=\"text-sm text-slate-300\">Allowed Repos (comma-separated)</label>\n\t\t<input\n\t\t\tid=\"allowed-repos\"\n\t\t\tclass=\"w-full bg-slate-800 text-white border border-slate-700 rounded px-3 py-2 text-sm mt-1\"\n\t\t\tbind:value={allowedReposText}\n\t\t/>\n\t</div>\n\n\t<div class=\"flex items-center gap-2\">\n\t\t<input id=\"sas\" type=\"checkbox\" bind:checked={autoEvaluateWithSAS} class=\"accent-amber-400\" />\n\t\t<label for=\"sas\" class=\"text-sm text-slate-200\">Auto evaluate with SAS</label>\n\t</div>\n\n\t<div class=\"flex justify-end gap-2\">\n\t\t<button\n\t\t\ttype=\"button\"\n\t\t\tclass=\"px-3 py-1 rounded border border-slate-700 text-slate-200\"\n\t\t\ton:click={() => dispatch('cancel')}\n\t\t>\n\t\t\tCancel\n\t\t</button>\n\t\t<button\n\t\t\ttype=\"button\"\n\t\t\tclass=\"px-3 py-1 rounded bg-amber-500 text-black font-semibold\"\n\t\t\ton:click={save}\n\t\t>\n\t\t\tSave\n\t\t</button>\n\t</div>\n</div>\n","<script lang=\"ts\">\n  import { writable } from 'svelte/store';\n  import { AGENT_TEMPLATES } from '$lib/agents/templates';\n  import type { AgentTemplate } from '$lib/agents/types';\n  import AgentTemplateTable from '$lib/components/admin/AgentTemplateTable.svelte';\n  import { Panel, Alert } from '$lib/components';\n\n  const initialTemplates: AgentTemplate[] = [\n    ...AGENT_TEMPLATES.planner,\n    ...AGENT_TEMPLATES.execution,\n    ...AGENT_TEMPLATES.evaluator,\n    ...AGENT_TEMPLATES.coordinator\n  ];\n\n  const templatesStore = writable<AgentTemplate[]>(initialTemplates);\n\n  const handleUpdate = (updated: AgentTemplate) => {\n    templatesStore.update((items) =>\n      items.map((t) => (t.id === updated.id ? { ...t, ...updated } : t))\n    );\n  };\n</script>\n\n<div class=\"admin-container\">\n  <!-- Page Header -->\n  <div class=\"page-header\">\n    <h1 class=\"page-title\">Agent Templates</h1>\n    <p class=\"page-description\">\n      Manage in-memory templates. Locked templates are view-only.\n    </p>\n  </div>\n\n  <!-- Info Alert -->\n  <Alert variant=\"info\" dismissible>\n    TODO: Template persistence via Tauri config not yet implemented. Changes are in-memory only.\n  </Alert>\n\n  <!-- Templates Panel -->\n  <Panel variant=\"bordered\" padding=\"lg\">\n    <AgentTemplateTable templates={$templatesStore} onUpdate={handleUpdate} />\n  </Panel>\n</div>\n\n<style>\n  .admin-container {\n    max-width: 1400px;\n    margin: 0 auto;\n    display: flex;\n    flex-direction: column;\n    gap: var(--spacing-xl);\n  }\n\n  .page-header {\n    margin-bottom: var(--spacing-md);\n  }\n\n  .page-title {\n    font-family: var(--font-family-heading);\n    font-size: 2.5rem;\n    font-weight: 300;\n    color: var(--color-text-primary);\n    margin: 0 0 var(--spacing-sm) 0;\n    letter-spacing: 0.02em;\n  }\n\n  .page-description {\n    font-size: 1.125rem;\n    color: var(--color-text-tertiary);\n    margin: 0;\n  }\n</style>\n"],"names":["templates","$.prop","$$props","onUpdate","editingId","div","root","table","tbody","template","id","$$anchor","tr","$.first_child","fragment","td","td_1","td_2","td_3","td_4","td_5","td_6","button","root_2","$.event","$.set","$.get","$.append","span","root_3","$.untrack","locked","$$render","consequent","alternate","tr_1","root_4","td_7","dispatch","createEventDispatcher","allowedReposText","allowedRepos","join","autoEvaluateWithSAS","$.mutable_source","div_1","input","$.sibling","$.child","$.remove_input_defaults","div_2","input_1","div_3","button_1","$$value","split","map","r","trim","filter","Boolean","AgentTemplateForm","save","e","detail","cancel","kind","label","pipelineId","initialTemplates","AGENT_TEMPLATES","planner","execution","evaluator","coordinator","templatesStore","writable","handleUpdate","updated","update","items","t","Alert","node","Panel","node_1","AgentTemplateTable"],"mappings":"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"}