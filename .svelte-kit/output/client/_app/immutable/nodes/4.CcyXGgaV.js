import{s as e,T as s,o as t,d as a,e as l,i,a as r,q as c,j as n,z as v,k as d,l as o,p as u,g as m,I as f,y as h,r as b,A as w,x as j,N as A,S as g,h as p,G as L,H as S,P as E,V as T,W as k}from"../chunks/BBEC77oO.js";import{P as C}from"../chunks/B2n38f_9.js";import{B as D}from"../chunks/BLNhyOUm.js";import{B as I}from"../chunks/DHMzYP54.js";import{I as U}from"../chunks/DJbQjZGk.js";import{S as $}from"../chunks/BFrF1liP.js";import{A as y}from"../chunks/hkv9Cn3v.js";var R=l('<button class="action-btn action-btn-warning svelte-1jef3w8" title="Deactivate user">Deactivate</button>'),N=l('<button class="action-btn action-btn-success svelte-1jef3w8" title="Activate user">Activate</button>'),_=l('<button class="action-btn action-btn-primary svelte-1jef3w8" title="Promote to admin">Promote</button>'),O=l('<button class="action-btn action-btn-secondary svelte-1jef3w8" title="Demote to user">Demote</button>'),Z=l('<tr class="svelte-1jef3w8"><td class="cell-email svelte-1jef3w8"> </td><td class="svelte-1jef3w8"> </td><td class="svelte-1jef3w8"><!></td><td class="svelte-1jef3w8"><!></td><td class="svelte-1jef3w8"><!></td><td class="cell-date svelte-1jef3w8"> </td><td class="cell-number svelte-1jef3w8"> </td><td class="cell-actions svelte-1jef3w8"><div class="action-buttons svelte-1jef3w8"><!> <!> <button class="action-btn action-btn-error svelte-1jef3w8" title="Delete user">Delete</button></div></td></tr>'),B=l('<tr class="svelte-1jef3w8"><td colspan="8" class="empty-state svelte-1jef3w8">No users found matching your filters</td></tr>'),P=l('<div class="filters svelte-1jef3w8"><!> <!> <!></div> <div class="table-container svelte-1jef3w8"><table class="admin-table svelte-1jef3w8"><thead class="svelte-1jef3w8"><tr><th class="svelte-1jef3w8">Email</th><th class="svelte-1jef3w8">Name</th><th class="svelte-1jef3w8">Access Level</th><th class="svelte-1jef3w8">Role</th><th class="svelte-1jef3w8">Status</th><th class="svelte-1jef3w8">Last Login</th><th class="svelte-1jef3w8">Invocations</th><th class="svelte-1jef3w8">Actions</th></tr></thead><tbody class="svelte-1jef3w8"><!><!></tbody></table></div>',1),V=l('<div><div class="health-card-header svelte-1jef3w8"><h3 class="health-service-name svelte-1jef3w8"> </h3> <!></div> <div class="health-metrics svelte-1jef3w8"><div class="health-metric svelte-1jef3w8"><span class="metric-label svelte-1jef3w8">Response Time</span> <span class="metric-value svelte-1jef3w8"> </span></div> <div class="health-metric svelte-1jef3w8"><span class="metric-label svelte-1jef3w8">Uptime</span> <span class="metric-value svelte-1jef3w8"> </span></div> <div class="health-metric svelte-1jef3w8"><span class="metric-label svelte-1jef3w8">Error Rate</span> <span class="metric-value svelte-1jef3w8"> </span></div> <div class="health-metric svelte-1jef3w8"><span class="metric-label svelte-1jef3w8">Last Check</span> <span class="metric-value metric-value-sm svelte-1jef3w8"> </span></div></div> <div class="uptime-bar svelte-1jef3w8"><div></div></div></div>'),Y=l('<div class="system-health-header svelte-1jef3w8"><div class="health-actions svelte-1jef3w8"><!> <label class="auto-refresh-toggle svelte-1jef3w8"><input type="checkbox" class="svelte-1jef3w8"/> <span>Auto-refresh (30s)</span></label></div></div> <div class="health-grid svelte-1jef3w8"></div>',1),M=l('<tr class="svelte-1jef3w8"><td class="cell-skill-name svelte-1jef3w8"> </td><td class="svelte-1jef3w8"> </td><td class="svelte-1jef3w8"> </td><td class="svelte-1jef3w8"><!></td><td class="svelte-1jef3w8"><!></td><td class="cell-number svelte-1jef3w8"> </td><td class="cell-number svelte-1jef3w8"> </td><td class="cell-number svelte-1jef3w8"> </td><td class="cell-actions svelte-1jef3w8"><button> </button></td></tr>'),H=l('<tr class="svelte-1jef3w8"><td colspan="9" class="empty-state svelte-1jef3w8">No skills found matching your filters</td></tr>'),z=l('<div class="filters svelte-1jef3w8"><!> <!></div> <div class="table-container svelte-1jef3w8"><table class="admin-table svelte-1jef3w8"><thead class="svelte-1jef3w8"><tr><th class="svelte-1jef3w8">Skill Name</th><th class="svelte-1jef3w8">Section</th><th class="svelte-1jef3w8">Category</th><th class="svelte-1jef3w8">Access Level</th><th class="svelte-1jef3w8">Status</th><th class="svelte-1jef3w8">Usage</th><th class="svelte-1jef3w8">Success Rate</th><th class="svelte-1jef3w8">Avg Time</th><th class="svelte-1jef3w8">Actions</th></tr></thead><tbody class="svelte-1jef3w8"><!><!></tbody></table></div>',1),F=l('<tr class="svelte-1jef3w8"><td class="cell-date svelte-1jef3w8"> </td><td class="cell-email svelte-1jef3w8"> </td><td class="svelte-1jef3w8"><!></td><td class="svelte-1jef3w8"> </td><td class="svelte-1jef3w8"><!></td><td class="cell-details svelte-1jef3w8"> </td><td class="cell-ip svelte-1jef3w8"> </td></tr>'),x=l('<tr class="svelte-1jef3w8"><td colspan="7" class="empty-state svelte-1jef3w8">No audit logs found matching your filters</td></tr>'),G=l('<div class="filters svelte-1jef3w8"><!> <!> <div class="filter-actions svelte-1jef3w8"><!></div></div> <div class="table-container svelte-1jef3w8"><table class="admin-table audit-table svelte-1jef3w8"><thead class="svelte-1jef3w8"><tr><th class="svelte-1jef3w8">Timestamp</th><th class="svelte-1jef3w8">User</th><th class="svelte-1jef3w8">Action</th><th class="svelte-1jef3w8">Resource</th><th class="svelte-1jef3w8">Status</th><th class="svelte-1jef3w8">Details</th><th class="svelte-1jef3w8">IP Address</th></tr></thead><tbody class="svelte-1jef3w8"><!><!></tbody></table></div>',1),W=l('<div class="admin-page svelte-1jef3w8"><div class="page-header svelte-1jef3w8"><div class="header-content svelte-1jef3w8"><h1 class="page-title svelte-1jef3w8">Admin Panel</h1> <p class="page-description svelte-1jef3w8">System administration and user management</p></div> <!></div> <!> <!> <div class="stats-grid svelte-1jef3w8"><div class="stat-card svelte-1jef3w8"><div class="stat-label svelte-1jef3w8">Total Users</div> <div class="stat-value svelte-1jef3w8"> </div> <div class="stat-detail svelte-1jef3w8"> </div></div> <div class="stat-card svelte-1jef3w8"><div class="stat-label svelte-1jef3w8">Admin Users</div> <div class="stat-value svelte-1jef3w8"> </div> <div class="stat-detail svelte-1jef3w8"> </div></div> <div class="stat-card svelte-1jef3w8"><div class="stat-label svelte-1jef3w8">Skills</div> <div class="stat-value svelte-1jef3w8"> </div> <div class="stat-detail svelte-1jef3w8"> </div></div> <div class="stat-card svelte-1jef3w8"><div class="stat-label svelte-1jef3w8">System Health</div> <div class="stat-value svelte-1jef3w8"> </div> <div> </div></div></div> <div class="tabs svelte-1jef3w8"><button>üë• User Management</button> <button>üñ•Ô∏è System Health</button> <button>üõ†Ô∏è Skill Management</button> <button>üìã Audit Logs</button></div> <div class="tab-content svelte-1jef3w8"><!> <!> <!> <!></div></div>');function J(l,g){u(g,!0);let J=e("users"),q=e(!1),K=e(null),Q=e(null),X=e(s([])),ee=e(""),se=e("ALL"),te=e("ALL"),ae=e(s([])),le=e(!1),ie=e(s([])),re=e(""),ce=e("ALL"),ne=e(s([])),ve=e("ALL"),de=e("ALL"),oe=e(s({totalUsers:0,activeUsers:0,adminUsers:0,bdsUsers:0,totalSkills:0,enabledSkills:0,totalInvocations:0,errorRate:0}));const ue=j(()=>m(X).filter(e=>{const s=""===m(ee)||e.email.toLowerCase().includes(m(ee).toLowerCase())||e.name.toLowerCase().includes(m(ee).toLowerCase()),t="ALL"===m(se)||e.role===m(se),a="ALL"===m(te)||e.status===m(te);return s&&t&&a})),me=j(()=>m(ie).filter(e=>{const s=""===m(re)||e.skillName.toLowerCase().includes(m(re).toLowerCase())||e.category.toLowerCase().includes(m(re).toLowerCase()),t="ALL"===m(ce)||("ENABLED"===m(ce)?e.enabled:!e.enabled);return s&&t})),fe=j(()=>m(ne).filter(e=>{const s="ALL"===m(ve)||e.action.toUpperCase().includes(m(ve)),t="ALL"===m(de)||e.status===m(de);return s&&t})),he=j(()=>m(ae).filter(e=>"HEALTHY"===e.status).length),be=j(()=>m(ae).filter(e=>"DEGRADED"===e.status).length),we=j(()=>m(ae).filter(e=>"DOWN"===e.status).length);function je(e,s){const t=m(X).find(s=>s.id===e);if(t){switch(s){case"ACTIVATE":t.status="ACTIVE",r(Q,`User ${t.email} activated successfully`);break;case"DEACTIVATE":t.status="INACTIVE",r(Q,`User ${t.email} deactivated successfully`);break;case"PROMOTE":t.role="ADMIN",r(Q,`User ${t.email} promoted to ADMIN`);break;case"DEMOTE":t.role="USER",r(Q,`User ${t.email} demoted to USER`);break;case"DELETE":r(X,m(X).filter(s=>s.id!==e),!0),r(Q,`User ${t.email} deleted successfully`)}setTimeout(()=>{r(Q,null)},5e3)}}function Ae(){r(q,!0),r(Q,"Refreshing system health status..."),setTimeout(()=>{r(ae,[...m(ae)],!0),r(q,!1),r(Q,"System health refreshed successfully"),setTimeout(()=>{r(Q,null)},3e3)},1e3)}function ge(){const e=[["Timestamp","User","Action","Resource","Status","Details","IP Address"].join(","),...m(fe).map(e=>[e.timestamp,e.user,e.action,e.resource,e.status,e.details,e.ipAddress].map(e=>`"${e}"`).join(","))].join("\n"),s=new Blob([e],{type:"text/csv"}),t=URL.createObjectURL(s),a=document.createElement("a");a.href=t,a.download=`audit-logs-${(new Date).toISOString()}.csv`,a.click(),URL.revokeObjectURL(t),r(Q,"Audit logs exported successfully"),setTimeout(()=>{r(Q,null)},3e3)}function pe(e){return new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}function Le(e){switch(e){case"ACTIVE":case"HEALTHY":case"SUCCESS":return"success";case"DEGRADED":case"SUSPENDED":return"warning";case"INACTIVE":case"DOWN":case"FAILURE":return"error";default:return"default"}}t(()=>{r(X,[{id:"user-1",email:"admin@bds.com",name:"Charles Boswell",accessLevel:"BDS_ONLY",role:"ADMIN",status:"ACTIVE",createdAt:"2025-01-15T10:00:00Z",lastLogin:"2025-12-09T14:30:00Z",totalInvocations:1247},{id:"user-2",email:"developer@bds.com",name:"Jane Smith",accessLevel:"BDS_ONLY",role:"USER",status:"ACTIVE",createdAt:"2025-02-01T09:00:00Z",lastLogin:"2025-12-09T13:45:00Z",totalInvocations:892},{id:"user-3",email:"analyst@bds.com",name:"Mike Johnson",accessLevel:"BDS_ONLY",role:"USER",status:"ACTIVE",createdAt:"2025-03-10T11:30:00Z",lastLogin:"2025-12-08T16:20:00Z",totalInvocations:543},{id:"user-4",email:"tester@bds.com",name:"Sarah Davis",accessLevel:"PUBLIC",role:"USER",status:"ACTIVE",createdAt:"2025-04-20T08:15:00Z",lastLogin:"2025-12-07T10:00:00Z",totalInvocations:234},{id:"user-5",email:"inactive@bds.com",name:"Tom Wilson",accessLevel:"BDS_ONLY",role:"USER",status:"INACTIVE",createdAt:"2025-05-05T14:00:00Z",lastLogin:"2025-11-01T12:00:00Z",totalInvocations:89}],!0),r(ae,[{service:"ForgeAgents API",status:"HEALTHY",responseTime:45,uptime:99.98,lastCheck:"2025-12-09T14:35:00Z",errorRate:.02},{service:"NeuroForge",status:"HEALTHY",responseTime:120,uptime:99.95,lastCheck:"2025-12-09T14:35:00Z",errorRate:.05},{service:"DataForge",status:"HEALTHY",responseTime:25,uptime:99.99,lastCheck:"2025-12-09T14:35:00Z",errorRate:.01},{service:"MAPO",status:"DEGRADED",responseTime:320,uptime:98.5,lastCheck:"2025-12-09T14:35:00Z",errorRate:1.5},{service:"Authentication",status:"HEALTHY",responseTime:15,uptime:99.99,lastCheck:"2025-12-09T14:35:00Z",errorRate:.01}],!0),r(ie,[{skillId:"skill-python-gen",skillName:"Python Function Generator",section:"Coding",category:"Code Generation",enabled:!0,accessLevel:"BDS_ONLY",totalInvocations:543,successRate:96.5,avgResponseTime:2.3,lastUsed:"2025-12-09T14:30:00Z"},{skillId:"skill-code-review",skillName:"Code Review Assistant",section:"Coding",category:"Code Review",enabled:!0,accessLevel:"BDS_ONLY",totalInvocations:432,successRate:98.1,avgResponseTime:3.1,lastUsed:"2025-12-09T13:45:00Z"},{skillId:"skill-doc-gen",skillName:"Documentation Generator",section:"Writing",category:"Documentation",enabled:!0,accessLevel:"PUBLIC",totalInvocations:387,successRate:94.2,avgResponseTime:1.8,lastUsed:"2025-12-09T12:00:00Z"},{skillId:"skill-bug-analyzer",skillName:"Bug Analysis Expert",section:"Coding",category:"Debugging",enabled:!0,accessLevel:"BDS_ONLY",totalInvocations:298,successRate:92.8,avgResponseTime:2.7,lastUsed:"2025-12-08T16:20:00Z"},{skillId:"skill-test-gen",skillName:"Unit Test Generator",section:"Coding",category:"Testing",enabled:!1,accessLevel:"BDS_ONLY",totalInvocations:156,successRate:88.5,avgResponseTime:3.5,lastUsed:"2025-12-05T10:00:00Z"}],!0),r(ne,[{id:"audit-1",timestamp:"2025-12-09T14:30:00Z",user:"admin@bds.com",action:"UPDATE",resource:"Skill: Python Function Generator",status:"SUCCESS",details:"Enabled skill for BDS_ONLY users",ipAddress:"192.168.1.100"},{id:"audit-2",timestamp:"2025-12-09T13:45:00Z",user:"developer@bds.com",action:"ACCESS",resource:"Skill Library",status:"SUCCESS",details:"Accessed skill library",ipAddress:"192.168.1.101"},{id:"audit-3",timestamp:"2025-12-09T12:00:00Z",user:"admin@bds.com",action:"CREATE",resource:"User: tester@bds.com",status:"SUCCESS",details:"Created new user account",ipAddress:"192.168.1.100"},{id:"audit-4",timestamp:"2025-12-09T11:30:00Z",user:"analyst@bds.com",action:"ACCESS",resource:"Admin Panel",status:"FAILURE",details:"Unauthorized access attempt",ipAddress:"192.168.1.102"},{id:"audit-5",timestamp:"2025-12-09T10:15:00Z",user:"admin@bds.com",action:"UPDATE",resource:"User: inactive@bds.com",status:"SUCCESS",details:"Changed user status to INACTIVE",ipAddress:"192.168.1.100"},{id:"audit-6",timestamp:"2025-12-09T09:00:00Z",user:"admin@bds.com",action:"DELETE",resource:"Skill: Old Test Skill",status:"SUCCESS",details:"Removed deprecated skill",ipAddress:"192.168.1.100"}],!0),r(oe,{totalUsers:m(X).length,activeUsers:m(X).filter(e=>"ACTIVE"===e.status).length,adminUsers:m(X).filter(e=>"ADMIN"===e.role).length,bdsUsers:m(X).filter(e=>"BDS_ONLY"===e.accessLevel).length,totalSkills:m(ie).length,enabledSkills:m(ie).filter(e=>e.enabled).length,totalInvocations:m(X).reduce((e,s)=>e+s.totalInvocations,0),errorRate:m(ae).reduce((e,s)=>e+s.errorRate,0)/m(ae).length},!0)}),a(()=>{if(m(le)){const e=setInterval(()=>{Ae()},3e4);return()=>clearInterval(e)}});var Se=W(),Ee=c(Se),Te=n(c(Ee),2);D(Te,{variant:"error",size:"sm",children:(e,s)=>{f();var t=h("BDS ADMIN ONLY");d(e,t)},$$slots:{default:!0}}),b(Ee);var ke=n(Ee,2),Ce=e=>{y(e,{variant:"success",dismissible:!0,$$events:{dismiss:()=>r(Q,null)},children:(e,s)=>{f();var t=h();v(()=>w(t,m(Q))),d(e,t)},$$slots:{default:!0}})};i(ke,e=>{m(Q)&&e(Ce)});var De=n(ke,2),Ie=e=>{y(e,{variant:"error",dismissible:!0,$$events:{dismiss:()=>r(K,null)},children:(e,s)=>{f();var t=h();v(()=>w(t,m(K))),d(e,t)},$$slots:{default:!0}})};i(De,e=>{m(K)&&e(Ie)});var Ue=n(De,2),$e=c(Ue),ye=n(c($e),2),Re=c(ye,!0);b(ye);var Ne=n(ye,2),_e=c(Ne);b(Ne),b($e);var Oe=n($e,2),Ze=n(c(Oe),2),Be=c(Ze,!0);b(Ze);var Pe=n(Ze,2),Ve=c(Pe);b(Pe),b(Oe);var Ye=n(Oe,2),Me=n(c(Ye),2),He=c(Me,!0);b(Me);var ze=n(Me,2),Fe=c(ze);b(ze),b(Ye);var xe=n(Ye,2),Ge=n(c(xe),2),We=c(Ge);b(Ge);var Je=n(Ge,2),qe=c(Je,!0);b(Je),b(xe),b(Ue);var Ke=n(Ue,2),Qe=c(Ke);let Xe;Qe.__click=()=>r(J,"users");var es=n(Qe,2);let ss;es.__click=()=>r(J,"system");var ts=n(es,2);let as;ts.__click=()=>r(J,"skills");var ls=n(ts,2);let is;ls.__click=()=>r(J,"audit"),b(Ke);var rs=n(Ke,2),cs=c(rs),ns=e=>{C(e,{title:"User Management",variant:"bordered",children:(e,s)=>{var t=P(),a=p(t),l=c(a);U(l,{label:"Search users",placeholder:"Search by email or name...",get value(){return m(ee)},set value(e){r(ee,e,!0)}});var o=n(l,2);$(o,{label:"Role",options:[{value:"ALL",label:"All Roles"},{value:"USER",label:"User"},{value:"ADMIN",label:"Admin"}],get value(){return m(se)},set value(e){r(se,e,!0)}});var u=n(o,2);$(u,{label:"Status",options:[{value:"ALL",label:"All Status"},{value:"ACTIVE",label:"Active"},{value:"INACTIVE",label:"Inactive"},{value:"SUSPENDED",label:"Suspended"}],get value(){return m(te)},set value(e){r(te,e,!0)}}),b(a);var A=n(a,2),g=c(A),E=n(c(g)),T=c(E);L(T,17,()=>m(ue),S,(e,s)=>{var t=Z(),a=c(t),l=c(a,!0);b(a);var r=n(a),o=c(r,!0);b(r);var u=n(r),A=c(u);{let e=j(()=>"BDS_ONLY"===m(s).accessLevel?"warning":"default");D(A,{get variant(){return m(e)},size:"sm",children:(e,t)=>{f();var a=h();v(()=>w(a,m(s).accessLevel)),d(e,a)},$$slots:{default:!0}})}b(u);var g=n(u),p=c(g);{let e=j(()=>"ADMIN"===m(s).role?"success":"default");D(p,{get variant(){return m(e)},size:"sm",children:(e,t)=>{f();var a=h();v(()=>w(a,m(s).role)),d(e,a)},$$slots:{default:!0}})}b(g);var L=n(g),S=c(L);{let e=j(()=>Le(m(s).status));D(S,{get variant(){return m(e)},size:"sm",children:(e,t)=>{f();var a=h();v(()=>w(a,m(s).status)),d(e,a)},$$slots:{default:!0}})}b(L);var E=n(L),T=c(E,!0);b(E);var k=n(E),C=c(k,!0);b(k);var I=n(k),U=c(I),$=c(U),y=e=>{var t=R();t.__click=()=>je(m(s).id,"DEACTIVATE"),d(e,t)},B=e=>{var t=N();t.__click=()=>je(m(s).id,"ACTIVATE"),d(e,t)};i($,e=>{"ACTIVE"===m(s).status?e(y):e(B,!1)});var P=n($,2),V=e=>{var t=_();t.__click=()=>je(m(s).id,"PROMOTE"),d(e,t)},Y=e=>{var t=O();t.__click=()=>je(m(s).id,"DEMOTE"),d(e,t)};i(P,e=>{"USER"===m(s).role?e(V):e(Y,!1)}),n(P,2).__click=()=>je(m(s).id,"DELETE"),b(U),b(I),b(t),v((e,t)=>{w(l,m(s).email),w(o,m(s).name),w(T,e),w(C,t)},[()=>pe(m(s).lastLogin),()=>m(s).totalInvocations.toLocaleString()]),d(e,t)});var k=n(T),C=e=>{var s=B();d(e,s)};i(k,e=>{0===m(ue).length&&e(C)}),b(E),b(g),b(A),d(e,t)},$$slots:{default:!0}})};i(cs,e=>{"users"===m(J)&&e(ns)});var vs=n(cs,2),ds=e=>{C(e,{title:"System Health Monitoring",variant:"bordered",children:(e,s)=>{var t=Y(),a=p(t),l=c(a),i=c(l);I(i,{variant:"primary",size:"sm",get disabled(){return m(q)},$$events:{click:Ae},children:(e,s)=>{f();var t=h();v(()=>w(t,m(q)?"Refreshing...":"üîÑ Refresh Status")),d(e,t)},$$slots:{default:!0}});var o=n(i,2),u=c(o);E(u),f(2),b(o),b(l),b(a);var g=n(a,2);L(g,21,()=>m(ae),S,(e,s)=>{var t=V(),a=c(t),l=c(a),i=c(l,!0);b(l);var r=n(l,2);{let e=j(()=>Le(m(s).status));D(r,{get variant(){return m(e)},size:"sm",children:(e,t)=>{f();var a=h();v(()=>w(a,m(s).status)),d(e,a)},$$slots:{default:!0}})}b(a);var o=n(a,2),u=c(o),g=n(c(u),2),p=c(g);b(g),b(u);var L=n(u,2),S=n(c(L),2),E=c(S);b(S),b(L);var k=n(L,2),C=n(c(k),2),I=c(C);b(C),b(k);var U=n(k,2),$=n(c(U),2),y=c($,!0);b($),b(U),b(o);var R=n(o,2),N=c(R);b(R),b(t),v((e,a,l,r,c)=>{A(t,1,`health-card health-card-${e??""}`,"svelte-1jef3w8"),w(i,m(s).service),w(p,`${m(s).responseTime??""}ms`),w(E,`${a??""}%`),w(I,`${l??""}%`),w(y,r),A(N,1,`uptime-fill uptime-fill-${c??""}`,"svelte-1jef3w8"),T(N,`width: ${m(s).uptime??""}%`)},[()=>m(s).status.toLowerCase(),()=>m(s).uptime.toFixed(2),()=>m(s).errorRate.toFixed(2),()=>pe(m(s).lastCheck),()=>m(s).status.toLowerCase()]),d(e,t)}),b(g),k(u,()=>m(le),e=>r(le,e)),d(e,t)},$$slots:{default:!0}})};i(vs,e=>{"system"===m(J)&&e(ds)});var os=n(vs,2),us=e=>{C(e,{title:"Skill Management",variant:"bordered",children:(e,s)=>{var t=z(),a=p(t),l=c(a);U(l,{label:"Search skills",placeholder:"Search by name or category...",get value(){return m(re)},set value(e){r(re,e,!0)}});var o=n(l,2);$(o,{label:"Status",options:[{value:"ALL",label:"All Skills"},{value:"ENABLED",label:"Enabled"},{value:"DISABLED",label:"Disabled"}],get value(){return m(ce)},set value(e){r(ce,e,!0)}}),b(a);var u=n(a,2),g=c(u),E=n(c(g)),T=c(E);L(T,17,()=>m(me),S,(e,s)=>{var t=M(),a=c(t),l=c(a,!0);b(a);var i=n(a),o=c(i,!0);b(i);var u=n(i),g=c(u,!0);b(u);var p=n(u),L=c(p);{let e=j(()=>"BDS_ONLY"===m(s).accessLevel?"warning":"default");D(L,{get variant(){return m(e)},size:"sm",children:(e,t)=>{f();var a=h();v(()=>w(a,m(s).accessLevel)),d(e,a)},$$slots:{default:!0}})}b(p);var S=n(p),E=c(S);{let e=j(()=>m(s).enabled?"success":"error");D(E,{get variant(){return m(e)},size:"sm",children:(e,t)=>{f();var a=h();v(()=>w(a,m(s).enabled?"Enabled":"Disabled")),d(e,a)},$$slots:{default:!0}})}b(S);var T=n(S),k=c(T,!0);b(T);var C=n(T),I=c(C);b(C);var U=n(C),$=c(U);b(U);var y=n(U),R=c(y);R.__click=()=>function(e){const s=m(ie).find(s=>s.skillId===e);s&&(s.enabled=!s.enabled,r(Q,`Skill "${s.skillName}" ${s.enabled?"enabled":"disabled"} successfully`),setTimeout(()=>{r(Q,null)},5e3))}(m(s).skillId);var N=c(R,!0);b(R),b(y),b(t),v((e,t,a)=>{w(l,m(s).skillName),w(o,m(s).section),w(g,m(s).category),w(k,e),w(I,`${t??""}%`),w($,`${a??""}s`),A(R,1,"action-btn "+(m(s).enabled?"action-btn-warning":"action-btn-success"),"svelte-1jef3w8"),w(N,m(s).enabled?"Disable":"Enable")},[()=>m(s).totalInvocations.toLocaleString(),()=>m(s).successRate.toFixed(1),()=>m(s).avgResponseTime.toFixed(1)]),d(e,t)});var k=n(T),C=e=>{var s=H();d(e,s)};i(k,e=>{0===m(me).length&&e(C)}),b(E),b(g),b(u),d(e,t)},$$slots:{default:!0}})};i(os,e=>{"skills"===m(J)&&e(us)});var ms=n(os,2),fs=e=>{C(e,{title:"Audit Logs",variant:"bordered",children:(e,s)=>{var t=G(),a=p(t),l=c(a);$(l,{label:"Action",options:[{value:"ALL",label:"All Actions"},{value:"CREATE",label:"Create"},{value:"UPDATE",label:"Update"},{value:"DELETE",label:"Delete"},{value:"ACCESS",label:"Access"}],get value(){return m(ve)},set value(e){r(ve,e,!0)}});var o=n(l,2);$(o,{label:"Status",options:[{value:"ALL",label:"All Status"},{value:"SUCCESS",label:"Success"},{value:"FAILURE",label:"Failure"}],get value(){return m(de)},set value(e){r(de,e,!0)}});var u=n(o,2),A=c(u);I(A,{variant:"secondary",size:"sm",$$events:{click:ge},children:(e,s)=>{f();var t=h("üì• Export Logs");d(e,t)},$$slots:{default:!0}}),b(u),b(a);var g=n(a,2),E=c(g),T=n(c(E)),k=c(T);L(k,17,()=>m(fe),S,(e,s)=>{var t=F(),a=c(t),l=c(a,!0);b(a);var i=n(a),r=c(i,!0);b(i);var o=n(i),u=c(o);D(u,{variant:"default",size:"sm",children:(e,t)=>{f();var a=h();v(()=>w(a,m(s).action)),d(e,a)},$$slots:{default:!0}}),b(o);var A=n(o),g=c(A,!0);b(A);var p=n(A),L=c(p);{let e=j(()=>Le(m(s).status));D(L,{get variant(){return m(e)},size:"sm",children:(e,t)=>{f();var a=h();v(()=>w(a,m(s).status)),d(e,a)},$$slots:{default:!0}})}b(p);var S=n(p),E=c(S,!0);b(S);var T=n(S),k=c(T,!0);b(T),b(t),v(e=>{w(l,e),w(r,m(s).user),w(g,m(s).resource),w(E,m(s).details),w(k,m(s).ipAddress)},[()=>pe(m(s).timestamp)]),d(e,t)});var C=n(k),U=e=>{var s=x();d(e,s)};i(C,e=>{0===m(fe).length&&e(U)}),b(T),b(E),b(g),d(e,t)},$$slots:{default:!0}})};i(ms,e=>{"audit"===m(J)&&e(fs)}),b(rs),b(Se),v(()=>{w(Re,m(oe).totalUsers),w(_e,`${m(oe).activeUsers??""} active`),w(Be,m(oe).adminUsers),w(Ve,`${m(oe).bdsUsers??""} BDS access`),w(He,m(oe).totalSkills),w(Fe,`${m(oe).enabledSkills??""} enabled`),w(We,`${m(he)??""}/${m(ae).length??""}`),A(Je,1,"stat-detail stat-detail-"+(m(we)>0?"error":m(be)>0?"warning":"success"),"svelte-1jef3w8"),w(qe,m(we)>0?`${m(we)} down`:m(be)>0?`${m(be)} degraded`:"All healthy"),Xe=A(Qe,1,"tab svelte-1jef3w8",null,Xe,{active:"users"===m(J)}),ss=A(es,1,"tab svelte-1jef3w8",null,ss,{active:"system"===m(J)}),as=A(ts,1,"tab svelte-1jef3w8",null,as,{active:"skills"===m(J)}),is=A(ls,1,"tab svelte-1jef3w8",null,is,{active:"audit"===m(J)})}),d(l,Se),o()}g(["click"]);export{J as component};
