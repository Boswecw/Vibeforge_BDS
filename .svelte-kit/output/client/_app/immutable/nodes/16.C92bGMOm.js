import{S as e,P as s,s as t}from"../chunks/Cf9ICnXl.js";import{T as a,p as i,e as n,q as r,i as l,g as c,s as d,j as o,a as v,x as u,I as p,y as g,z as m,A as w,k as h,r as f,Q as S,l as k,G as b,N as y,a5 as $,m as E,h as N,H as C,d as A,v as O,S as D}from"../chunks/CS1oB8eq.js";import{E as L}from"../chunks/Bm-ysW8Z.js";import{P}from"../chunks/BcpFO3YO.js";import{B as x}from"../chunks/B_xsWB_l.js";import{I as T}from"../chunks/B9KmbTeL.js";import{T as q}from"../chunks/CntLKQcI.js";import{A as I}from"../chunks/oHG5MZam.js";import{c as F,a as j}from"../chunks/Cfodrc4t.js";import{B as R}from"../chunks/BXiH49b8.js";const M=a({sessions:[],currentSession:null,isStreaming:!1,streamingOutput:"",currentStage:null}),U={get sessions(){return M.sessions},get currentSession(){return M.currentSession},get isStreaming(){return M.isStreaming},get streamingOutput(){return M.streamingOutput},get currentStage(){return M.currentStage},get activeSessions(){return M.sessions.filter(s=>s.status===e.RUNNING||s.status===e.PENDING)},get completedSessions(){return M.sessions.filter(s=>s.status===e.COMPLETED)},get failedSessions(){return M.sessions.filter(s=>s.status===e.FAILED)},createSession(s){const t={id:`planning_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,type:"planning",status:e.PENDING,createdAt:new Date,request:s,stages:{}};return M.sessions=[...M.sessions,t],M.currentSession=t,t},startSession(t){const a=M.sessions.find(e=>e.id===t);a&&(a.status=e.RUNNING,a.startedAt=new Date,a.currentStage=s.PLAN,M.currentStage=s.PLAN,M.isStreaming=!0,M.streamingOutput="",M.sessions=[...M.sessions])},updateStageOutput(e,t,a){const i=M.sessions.find(s=>s.id===e);if(i){switch(t){case s.PLAN:i.stages.plan=a;break;case s.ACT:i.stages.act=a;break;case s.OBSERVE:i.stages.observe=a;break;case s.REFLECT:i.stages.reflect=a}M.sessions=[...M.sessions]}},appendStreamingOutput(e){M.streamingOutput+=e},clearStreamingOutput(){M.streamingOutput=""},advanceStage(e,s){const t=M.sessions.find(s=>s.id===e);t&&(s?(t.currentStage=s,M.currentStage=s,M.streamingOutput=""):(t.currentStage=void 0,M.currentStage=null,M.isStreaming=!1),M.sessions=[...M.sessions])},completeSession(s,t){const a=M.sessions.find(e=>e.id===s);a&&(a.status=e.COMPLETED,a.completedAt=new Date,a.deliverable=t,a.currentStage=void 0,M.currentStage=null,M.isStreaming=!1,M.streamingOutput="",M.sessions=[...M.sessions])},failSession(s,t){const a=M.sessions.find(e=>e.id===s);a&&(a.status=e.FAILED,a.completedAt=new Date,a.error=t,a.currentStage=void 0,M.currentStage=null,M.isStreaming=!1,M.streamingOutput="",M.sessions=[...M.sessions])},cancelSession(s){const t=M.sessions.find(e=>e.id===s);t&&(t.status=e.CANCELLED,t.completedAt=new Date,t.currentStage=void 0,M.currentSession?.id===s&&(M.currentStage=null,M.isStreaming=!1,M.streamingOutput=""),M.sessions=[...M.sessions])},setCurrentSession(e){if(null===e)return void(M.currentSession=null);const s=M.sessions.find(s=>s.id===e);s&&(M.currentSession=s)},deleteSession(e){M.sessions=M.sessions.filter(s=>s.id!==e),M.currentSession?.id===e&&(M.currentSession=null,M.currentStage=null,M.isStreaming=!1,M.streamingOutput="")},clearAll(){M.sessions=[],M.currentSession=null,M.isStreaming=!1,M.streamingOutput="",M.currentStage=null}};const G="http://localhost:8787";function _(e){return e.title&&0!==e.title.trim().length?e.title.length>200?F("Title must be 200 characters or less"):e.description&&0!==e.description.trim().length?e.description.length>5e3?F("Description must be 5000 characters or less"):null:F("Description is required"):F("Title is required")}var z=n('<form class="request-form svelte-19tf9np"><!> <!> <!> <div class="form-actions svelte-19tf9np"><!> <!></div> <div class="form-hint svelte-19tf9np"><p class="svelte-19tf9np">The Planning Agent will analyze your request and generate a detailed implementation plan with\n\t\t\tspecific steps, acceptance criteria, and risk assessment.</p></div></form>');function B(e,s){i(s,!0);let a=d(""),n=d(""),b=d(null),y=d(!1);const $=u(()=>U.isStreaming);async function E(){v(b,null);const e={title:c(a).trim(),description:c(n).trim()},s=_(e);if(s)v(b,s,!0);else{v(y,!0);try{const s=await async function(e){const s=_(e);if(s)return{success:!1,error:s};try{const s=await fetch(`${G}/api/v1/bds/planning/start`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({request:`${e.title}\n\n${e.description}`,context:e.context||""})});if(!s.ok){const e=await s.json();return{success:!1,error:F(e.detail||"Failed to start session")}}const{sessionId:a}=await s.json(),i=U.createSession(e);i.id=a,U.startSession(i.id);const n=`${G}/api/v1/bds/planning/${a}/stream`;return t.subscribe(n,{onChunk:e=>{U.appendStreamingOutput(e)},onStageStart:e=>{const s=e;U.advanceStage(i.id,s)},onStageEnd:(e,s)=>{const t=e,a=s;U.updateStageOutput(i.id,t,a),U.clearStreamingOutput()},onComplete:e=>{const s=e;U.completeSession(i.id,s)},onError:e=>{U.failSession(i.id,e.message)}}),{success:!0,sessionId:i.id}}catch(b){return{success:!1,error:j(b)}}}(e);if(!s.success&&s.error)return v(b,s.error,!0),void v(y,!1);v(a,""),v(n,""),v(y,!1)}catch(i){v(y,!1)}}}var N=z(),C=r(N),A=e=>{I(e,{variant:"error",children:(e,s)=>{p();var t=g();m(()=>w(t,c(b).userMessage)),h(e,t)},$$slots:{default:!0}})};l(C,e=>{c(b)&&e(A)});var O=o(C,2);{let e=u(()=>c($)||c(y));T(O,{label:"Task Title",placeholder:"e.g., Add user authentication system",maxlength:200,required:!0,get disabled(){return c(e)},get value(){return c(a)},set value(e){v(a,e,!0)}})}var D=o(O,2);{let e=u(()=>c($)||c(y));q(D,{label:"Description",placeholder:"Provide detailed requirements, constraints, and context for this task...",rows:8,maxlength:5e3,required:!0,get disabled(){return c(e)},get value(){return c(n)},set value(e){v(n,e,!0)}})}var L=o(D,2),P=r(L);{let e=u(()=>c($)||c(y)||!c(a).trim()||!c(n).trim());x(P,{type:"submit",variant:"primary",get disabled(){return c(e)},get loading(){return c(y)},children:(e,s)=>{p();var t=g();m(()=>w(t,c(y)?"Starting...":"Start Planning")),h(e,t)},$$slots:{default:!0}})}var R=o(P,2);{let e=u(()=>c($)||c(y));x(R,{type:"button",variant:"secondary",onclick:function(){v(a,""),v(n,""),v(b,null)},get disabled(){return c(e)},children:(e,s)=>{p();var t=g("Clear");h(e,t)},$$slots:{default:!0}})}f(L),p(2),f(N),S("submit",N,e=>{e.preventDefault(),E()}),h(e,N),k()}var H=$('<svg width="16" height="16" viewBox="0 0 16 16" fill="none" class="svelte-e0qkuv"><path d="M13.5 4.5L6 12L2.5 8.5" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="svelte-e0qkuv"></path></svg>'),J=n('<div class="pulse svelte-e0qkuv"></div>'),V=n("<div></div>"),W=n('<div><div class="stage-indicator svelte-e0qkuv"><div class="stage-number svelte-e0qkuv"><!></div></div> <div class="stage-content svelte-e0qkuv"><div class="stage-label svelte-e0qkuv"> </div> <div class="stage-description svelte-e0qkuv"> </div></div> <!></div>'),K=n('<div class="stage-progress svelte-e0qkuv"><div class="stages svelte-e0qkuv"></div></div>');function Q(e,t){i(t,!0);const a=[{key:s.PLAN,label:"Plan",description:"Define strategy"},{key:s.ACT,label:"Act",description:"Execute steps"},{key:s.OBSERVE,label:"Observe",description:"Analyze results"},{key:s.REFLECT,label:"Reflect",description:"Evaluate success"}];const n=u(()=>{return(e=t.stage)?a.findIndex(s=>s.key===e):-1;var e});var d=K(),v=r(d);b(v,21,()=>a,C,(e,s,t)=>{const i=u(()=>t===c(n)),d=u(()=>c(n)>t),v=u(()=>c(n)<t);var p=W();let S;var k=r(p),b=r(k),$=r(b),C=e=>{var s=H();h(e,s)},A=e=>{var s=E(),a=N(s),n=e=>{var s=J();h(e,s)},r=e=>{var s=g();s.nodeValue=t+1,h(e,s)};l(a,e=>{c(i)?e(n):e(r,!1)},!0),h(e,s)};l($,e=>{c(d)?e(C):e(A,!1)}),f(b),f(k);var O=o(k,2),D=r(O),L=r(D,!0);f(D);var P=o(D,2),x=r(P,!0);f(P),f(O);var T=o(O,2),q=e=>{var s=V();let t;m(()=>t=y(s,1,"stage-connector svelte-e0qkuv",null,t,{completed:c(d)})),h(e,s)};l(T,e=>{t<a.length-1&&e(q)}),f(p),m(()=>{S=y(p,1,"stage svelte-e0qkuv",null,S,{active:c(i),completed:c(d),pending:c(v)}),w(L,c(s).label),w(x,c(s).description)}),h(e,p)}),f(v),f(d),h(e,d),k()}var Z=n('<pre class="output-text svelte-8glc1h"> </pre>'),X=n('<div class="loading-indicator svelte-8glc1h"><div class="spinner svelte-8glc1h"></div> <p class="svelte-8glc1h">Waiting for output...</p></div>'),Y=n('<div class="streaming-indicator svelte-8glc1h"><div class="dot svelte-8glc1h"></div> <div class="dot svelte-8glc1h"></div> <div class="dot svelte-8glc1h"></div></div>'),ee=n('<button class="scroll-to-bottom svelte-8glc1h"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" class="svelte-8glc1h"><path d="M8 12L4 8H12L8 12Z" fill="currentColor" class="svelte-8glc1h"></path></svg> Scroll to bottom</button>'),se=n("<div><!> <!></div> <!>",1),te=n('<div class="empty-state svelte-8glc1h"><p class="svelte-8glc1h">Output will appear here when the planning session starts.</p></div>'),ae=n('<div class="stage-output svelte-8glc1h"><!></div>');D(["click"]);var ie=n('<div class="empty-state svelte-1dk4y4m"><p>No planning sessions yet</p></div>'),ne=n('<span class="session-duration svelte-1dk4y4m"> </span>'),re=n('<button><div class="session-header svelte-1dk4y4m"><span class="session-title svelte-1dk4y4m"> </span> <!></div> <div class="session-meta svelte-1dk4y4m"><span class="session-date svelte-1dk4y4m"> </span> <!></div></button>'),le=n('<div class="session-list svelte-1dk4y4m"></div>'),ce=n('<div class="session-history svelte-1dk4y4m"><!></div>');function de(s,t){i(t,!0);const a=u(()=>U.sessions),n=u(()=>U.currentSession);var d=ce(),v=r(d),S=e=>{var s=ie();h(e,s)},$=s=>{var t=le();b(t,21,()=>c(a).slice().reverse(),C,(s,t)=>{var a=re();let i;a.__click=()=>function(e){U.setCurrentSession(e.id)}(c(t));var d=r(a),v=r(d),S=r(v,!0);f(v);var k=o(v,2);{let s=u(()=>function(s){switch(s){case e.COMPLETED:return"success";case e.FAILED:case e.CANCELLED:return"error";case e.RUNNING:return"warning";default:return"info"}}(c(t).status));R(k,{get variant(){return c(s)},children:(s,a)=>{p();var i=g();m(e=>w(i,e),[()=>function(s){switch(s){case e.COMPLETED:return"Completed";case e.FAILED:return"Failed";case e.CANCELLED:return"Cancelled";case e.RUNNING:return"Running";case e.PENDING:return"Pending";default:return"Unknown"}}(c(t).status)]),h(s,i)},$$slots:{default:!0}})}f(d);var b=o(d,2),$=r(b),E=r($,!0);f($);var N=o($,2),C=e=>{const s=u(()=>c(t).completedAt.getTime()-c(t).startedAt.getTime());var a=ne(),i=r(a,!0);f(a),m(e=>w(i,e),[()=>c(s)<6e4?`${Math.round(c(s)/1e3)}s`:`${Math.round(c(s)/6e4)}m`]),h(e,a)};l(N,e=>{c(t).completedAt&&c(t).startedAt&&e(C)}),f(b),f(a),m(e=>{i=y(a,1,"session-item svelte-1dk4y4m",null,i,{active:c(n)?.id===c(t).id}),w(S,c(t).request.title),w(E,e)},[()=>{return e=c(t).createdAt,new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}).format(e);var e}]),h(s,a)}),f(t),h(s,t)};l(v,e=>{0===c(a).length?e(S):e($,!1)}),f(d),h(s,d),k()}D(["click"]);var oe=n('<li class="svelte-2cw5wd"> </li>'),ve=n('<div class="acceptance-criteria svelte-2cw5wd"><h5 class="svelte-2cw5wd">Acceptance Criteria:</h5> <ul class="svelte-2cw5wd"></ul></div>'),ue=n('<div class="dependencies svelte-2cw5wd"><strong class="svelte-2cw5wd">Dependencies:</strong> </div>'),pe=n('<div class="step-card svelte-2cw5wd"><div class="step-header svelte-2cw5wd"><span class="step-number svelte-2cw5wd"></span> <h4 class="svelte-2cw5wd"> </h4></div> <p class="step-description svelte-2cw5wd"> </p> <!> <!> <div class="step-meta svelte-2cw5wd"><!></div></div>'),ge=n('<li class="svelte-2cw5wd"> </li>'),me=n('<div class="plan-section svelte-2cw5wd"><h3 class="svelte-2cw5wd">Risks & Considerations</h3> <ul class="risks-list svelte-2cw5wd"></ul></div>'),we=n('<div class="plan-view"><div class="plan-header svelte-2cw5wd"><h2 class="svelte-2cw5wd"> </h2> <div class="plan-actions svelte-2cw5wd"><!> <!></div></div> <div class="plan-section svelte-2cw5wd"><h3 class="svelte-2cw5wd">Overview</h3> <p class="overview-text svelte-2cw5wd"> </p></div> <div class="plan-section svelte-2cw5wd"><h3 class="svelte-2cw5wd">Estimated Effort</h3> <!></div> <div class="plan-section svelte-2cw5wd"><h3 class="svelte-2cw5wd">Implementation Steps</h3> <div class="steps-list svelte-2cw5wd"></div></div> <!> <div class="metadata svelte-2cw5wd"><div class="metadata-item svelte-2cw5wd"><span class="label svelte-2cw5wd">Tokens Used:</span> <span class="value svelte-2cw5wd"> </span></div> <div class="metadata-item svelte-2cw5wd"><span class="label svelte-2cw5wd">Cost:</span> <span class="value svelte-2cw5wd"> </span></div> <div class="metadata-item svelte-2cw5wd"><span class="label svelte-2cw5wd">Duration:</span> <span class="value svelte-2cw5wd"> </span></div></div></div>'),he=n('<div class="prompt-view svelte-2cw5wd"><div class="prompt-header svelte-2cw5wd"><h3 class="svelte-2cw5wd">Execution Prompt</h3> <div class="prompt-actions svelte-2cw5wd"><!> <!></div></div> <pre class="prompt-text svelte-2cw5wd"> </pre></div>'),fe=n('<div class="deliverable-viewer svelte-2cw5wd"><div class="tabs svelte-2cw5wd"><button>Implementation Plan</button> <button>Execution Prompt</button></div> <div class="tab-content svelte-2cw5wd"><!></div></div>');D(["click"]);var Se=n("<!> <!>",1),ke=n('<div class="error-message svelte-dy79yi"><h3 class="svelte-dy79yi">Error</h3> <p> </p></div>'),be=n('<div class="empty-state svelte-dy79yi"><h2 class="svelte-dy79yi">Start a Planning Session</h2> <p>Fill out the form on the left to begin planning a new task.</p></div>'),ye=n('<div class="planning-page svelte-dy79yi"><header class="page-header svelte-dy79yi"><h1 class="svelte-dy79yi">Planning Agent</h1> <p class="text-muted svelte-dy79yi">Define and plan complex implementation tasks</p></header> <div class="content-grid svelte-dy79yi"><div class="left-column"><!> <!></div> <div class="right-column"><!></div></div></div>');function $e(s,t){i(t,!0);const a=u(()=>U.currentSession),n=u(()=>U.isStreaming),$=u(()=>U.currentStage),D=u(()=>U.streamingOutput);L(s,{children:(s,t)=>{var u=ye(),L=o(r(u),2),T=r(L),q=r(T);P(q,{title:"New Planning Request",children:(e,s)=>{B(e,{})},$$slots:{default:!0}});var I=o(q,2),F=e=>{P(e,{title:"Session History",class:"mt-6",children:(e,s)=>{de(e,{})},$$slots:{default:!0}})};l(I,e=>{c(a)&&e(F)}),f(T);var j=o(T,2),M=r(j),U=s=>{var t=E(),u=N(t),L=e=>{P(e,{title:"Planning in Progress",children:(e,s)=>{var t=Se(),a=N(t);Q(a,{get stage(){return c($)}}),function(e,s){let t;i(s,!0);let a=d(!0);function n(){if(!t)return;const{scrollTop:e,scrollHeight:s,clientHeight:i}=t;v(a,s-(e+i)<100)}A(()=>{t&&c(a)&&s.output&&(t.scrollTop=t.scrollHeight)});var u=ae(),p=r(u),g=e=>{var i=se(),d=N(i);let u;var p=r(d),g=e=>{var t=Z(),a=r(t,!0);f(t),m(()=>w(a,s.output)),h(e,t)},k=e=>{var s=X();h(e,s)};l(p,e=>{s.output?e(g):e(k,!1)});var b=o(p,2),$=e=>{var s=Y();h(e,s)};l(b,e=>{s.isStreaming&&e($)}),f(d),O(d,e=>t=e,()=>t);var E=o(d,2),C=e=>{var s=ee();s.__click=()=>{v(a,!0),t&&(t.scrollTop=t.scrollHeight)},h(e,s)};l(E,e=>{!c(a)&&s.isStreaming&&e(C)}),m(()=>u=y(d,1,"output-container svelte-8glc1h",null,u,{streaming:s.isStreaming})),S("scroll",d,n),h(e,i)},b=e=>{var s=te();h(e,s)};l(p,e=>{s.isStreaming||s.output?e(g):e(b,!1)}),f(u),h(e,u),k()}(o(a,2),{get output(){return c(D)},get isStreaming(){return c(n)}}),h(e,t)},$$slots:{default:!0}})},T=s=>{var t=E(),n=N(t),u=e=>{P(e,{title:"Planning Complete",children:(e,s)=>{!function(e,s){i(s,!0);let t=d("plan");async function a(e){try{await navigator.clipboard.writeText(e)}catch(s){}}function n(e,s){const t=new Blob([e],{type:"text/plain"}),a=URL.createObjectURL(t),i=document.createElement("a");i.href=a,i.download=s,i.click(),URL.revokeObjectURL(a)}var u=fe(),S=r(u),$=r(S);let E;$.__click=()=>v(t,"plan");var N=o($,2);let A;N.__click=()=>v(t,"prompt"),f(S);var O=o(S,2),D=r(O),L=e=>{var t=we(),i=r(t),d=r(i),v=r(d,!0);f(d);var u=o(d,2),S=r(u);x(S,{variant:"secondary",size:"sm",onclick:()=>a(JSON.stringify(s.deliverable.plan,null,2)),children:(e,s)=>{p();var t=g("Copy");h(e,t)},$$slots:{default:!0}});var k=o(S,2);x(k,{variant:"secondary",size:"sm",onclick:()=>n(JSON.stringify(s.deliverable.plan,null,2),`${s.deliverable.plan.title}.json`),children:(e,s)=>{p();var t=g("Download");h(e,t)},$$slots:{default:!0}}),f(u),f(i);var y=o(i,2),$=o(r(y),2),E=r($,!0);f($),f(y);var N=o(y,2),A=o(r(N),2);R(A,{variant:"info",children:(e,t)=>{p();var a=g();m(()=>w(a,s.deliverable.plan.estimatedEffort)),h(e,a)},$$slots:{default:!0}}),f(N);var O=o(N,2),D=o(r(O),2);b(D,21,()=>s.deliverable.plan.steps,C,(e,s,t)=>{var a=pe(),i=r(a),n=r(i);n.textContent=t+1;var d=o(n,2),v=r(d,!0);f(d),f(i);var u=o(i,2),S=r(u,!0);f(u);var k=o(u,2),y=e=>{var t=ve(),a=o(r(t),2);b(a,21,()=>c(s).acceptanceCriteria,C,(e,s)=>{var t=oe(),a=r(t,!0);f(t),m(()=>w(a,c(s))),h(e,t)}),f(a),f(t),h(e,t)};l(k,e=>{c(s).acceptanceCriteria.length>0&&e(y)});var $=o(k,2),E=e=>{var t=ue(),a=o(r(t));f(t),m(e=>w(a,` ${e??""}`),[()=>c(s).dependencies.join(", ")]),h(e,t)};l($,e=>{c(s).dependencies.length>0&&e(E)});var N=o($,2),A=r(N);R(A,{variant:"info",children:(e,t)=>{p();var a=g();m(()=>w(a,c(s).estimatedEffort)),h(e,a)},$$slots:{default:!0}}),f(N),f(a),m(()=>{w(v,c(s).title),w(S,c(s).description)}),h(e,a)}),f(D),f(O);var L=o(O,2),P=e=>{var t=me(),a=o(r(t),2);b(a,21,()=>s.deliverable.plan.risks,C,(e,s)=>{var t=ge(),a=r(t,!0);f(t),m(()=>w(a,c(s))),h(e,t)}),f(a),f(t),h(e,t)};l(L,e=>{s.deliverable.plan.risks.length>0&&e(P)});var T=o(L,2),q=r(T),I=o(r(q),2),F=r(I,!0);f(I),f(q);var j=o(q,2),M=o(r(j),2),U=r(M,!0);f(M),f(j);var G=o(j,2),_=o(r(G),2),z=r(_,!0);f(_),f(G),f(T),f(t),m((e,t,a)=>{w(v,s.deliverable.plan.title),w(E,s.deliverable.plan.overview),w(F,e),w(U,t),w(z,a)},[()=>{return(e=s.deliverable.metadata.totalTokens)<1e3?`${e} tokens`:e<1e6?`${(e/1e3).toFixed(1)}K tokens`:`${(e/1e6).toFixed(1)}M tokens`;var e},()=>{return(e=s.deliverable.metadata.totalCost)<.01?`$${e.toFixed(4)}`:`$${e.toFixed(2)}`;var e},()=>{return(e=s.deliverable.metadata.duration)<1e3?`${e}ms`:e<6e4?`${(e/1e3).toFixed(1)}s`:e<36e5?`${(e/6e4).toFixed(1)}m`:`${(e/36e5).toFixed(1)}h`;var e}]),h(e,t)},P=e=>{var t=he(),i=r(t),l=o(r(i),2),c=r(l);x(c,{variant:"secondary",size:"sm",onclick:()=>a(s.deliverable.prompt),children:(e,s)=>{p();var t=g("Copy");h(e,t)},$$slots:{default:!0}});var d=o(c,2);x(d,{variant:"secondary",size:"sm",onclick:()=>n(s.deliverable.prompt,`${s.deliverable.plan.title}-prompt.txt`),children:(e,s)=>{p();var t=g("Download");h(e,t)},$$slots:{default:!0}}),f(l),f(i);var v=o(i,2),u=r(v,!0);f(v),f(t),m(()=>w(u,s.deliverable.prompt)),h(e,t)};l(D,e=>{"plan"===c(t)?e(L):e(P,!1)}),f(O),f(u),m(()=>{E=y($,1,"tab svelte-2cw5wd",null,E,{active:"plan"===c(t)}),A=y(N,1,"tab svelte-2cw5wd",null,A,{active:"prompt"===c(t)})}),h(e,u),k()}(e,{get deliverable(){return c(a).deliverable}})},$$slots:{default:!0}})},S=s=>{var t=E(),i=N(t),n=e=>{P(e,{title:"Planning Failed",variant:"error",children:(e,s)=>{var t=ke(),i=o(r(t),2),n=r(i,!0);f(i),f(t),m(()=>w(n,c(a).error||"An unknown error occurred")),h(e,t)},$$slots:{default:!0}})};l(i,s=>{c(a).status===e.FAILED&&s(n)},!0),h(s,t)};l(n,s=>{c(a).status===e.COMPLETED&&c(a).deliverable?s(u):s(S,!1)},!0),h(s,t)};l(u,s=>{c(a).status===e.RUNNING||c(a).status===e.PENDING?s(L):s(T,!1)}),h(s,t)},G=e=>{P(e,{title:"Welcome",children:(e,s)=>{var t=be();h(e,t)},$$slots:{default:!0}})};l(M,e=>{c(a)?e(U):e(G,!1)}),f(j),f(L),f(u),h(s,u)},$$slots:{default:!0}}),k()}export{$e as component};
