import{f as m,a as t,c as J,t as f}from"../chunks/9XWdspYM.js";import{o as yt}from"../chunks/pKpJ46-q.js";import{p as Pt,al as B,a5 as St,am as Tt,i as e,s as v,j as zt,aj as le,c as r,g as a,x as L,ak as u,t as p,b as s,an as It}from"../chunks/Cr9rJIyK.js";import{i as k,s as d}from"../chunks/O9ATySAj.js";import{e as Xe,i as Ye}from"../chunks/BEZi9W-P.js";import{B as Ce,P as Ge,r as Ee}from"../chunks/Ci9HWMjh.js";import{a as Ze,b as et}from"../chunks/BIiGD5P8.js";import{s as qt,a as wt}from"../chunks/C4QtnTPh.js";import{p as Ct}from"../chunks/De4i4CF8.js";import{s as Et}from"../chunks/2kpl1my0.js";import{f as tt}from"../chunks/jBUojY6p.js";import"../chunks/BsLrHCZA.js";import"../chunks/DsSU34pe.js";import{I as at}from"../chunks/DBn6PFen.js";import{S as Bt}from"../chunks/Dh-X1iYj.js";import{T as rt}from"../chunks/CTwEAwKd.js";import{B as O}from"../chunks/CJmKRmqT.js";import{A as Re}from"../chunks/CWNTjX5g.js";var Lt=m('<div class="loading-state svelte-112kdh0"><div class="spinner svelte-112kdh0"></div> <p>Loading skill...</p></div>'),Ot=m('<!> <div style="text-align: center; margin-top: 1rem;"><!></div>',1),Wt=m('<div class="skill-metadata svelte-112kdh0"><div class="meta-group svelte-112kdh0"><span class="meta-label svelte-112kdh0">Skill ID</span> <!></div> <div class="meta-group svelte-112kdh0"><span class="meta-label svelte-112kdh0">Section</span> <!></div> <div class="meta-group svelte-112kdh0"><span class="meta-label svelte-112kdh0">Category</span> <!></div> <div class="meta-group svelte-112kdh0"><span class="meta-label svelte-112kdh0">Est. Cost</span> <!></div></div>'),jt=m('<div class="skill-tags svelte-112kdh0"><span class="tags-label svelte-112kdh0">Tags</span> <div class="tags-list svelte-112kdh0"></div></div>'),Ft=m('<p class="no-inputs svelte-112kdh0">This skill requires no inputs.</p>'),Mt=m('<span class="required svelte-112kdh0">*</span>'),At=m('<p class="input-description svelte-112kdh0"> </p>'),Dt=m('<div class="checkbox-group svelte-112kdh0"><label class="svelte-112kdh0"><input type="checkbox" class="svelte-112kdh0"/> <!></label> <!></div>'),Gt=m('<div class="inputs-form svelte-112kdh0"></div>'),Rt=m('<h2 class="svelte-112kdh0">Inputs</h2> <!> <div class="options-panel svelte-112kdh0"><h3 class="svelte-112kdh0">Execution Options</h3> <div class="option-group svelte-112kdh0"><label class="svelte-112kdh0"><input type="checkbox"/> Enable Streaming</label></div> <!> <div class="option-group svelte-112kdh0"><label for="temperature" class="svelte-112kdh0"> </label> <input type="range" id="temperature" min="0" max="1" step="0.1" class="option-slider svelte-112kdh0"/></div> <div class="option-group svelte-112kdh0"><label for="maxTokens" class="svelte-112kdh0"> </label> <input type="range" id="maxTokens" min="256" max="8192" step="256" class="option-slider svelte-112kdh0"/></div></div> <!>',1),Nt=m('<div class="streaming-output svelte-112kdh0"><pre> </pre> <div class="streaming-indicator svelte-112kdh0"><!></div></div>'),Ut=m('<div class="spinner svelte-112kdh0"></div> <p>Executing skill...</p>',1),Ht=m('<div class="output-loading svelte-112kdh0"><!></div>'),Jt=m('<div class="output-success svelte-112kdh0"><div class="output-content svelte-112kdh0"><pre class="svelte-112kdh0"> </pre></div></div>'),Kt=m('<div class="output-content svelte-112kdh0"><pre class="svelte-112kdh0"> </pre></div>'),Qt=m('<div class="output-success svelte-112kdh0"><div class="output-metadata svelte-112kdh0"><div class="meta-item svelte-112kdh0"><span class="meta-label svelte-112kdh0">Session ID</span> <!></div> <div class="meta-item svelte-112kdh0"><span class="meta-label svelte-112kdh0">Model</span> <!></div> <div class="meta-item svelte-112kdh0"><span class="meta-label svelte-112kdh0">Tokens</span> <!></div> <div class="meta-item svelte-112kdh0"><span class="meta-label svelte-112kdh0">Cost</span> <!></div> <div class="meta-item svelte-112kdh0"><span class="meta-label svelte-112kdh0">Latency</span> <!></div></div> <!></div>'),Vt=m('<div class="output-empty svelte-112kdh0"><p>No output yet. Configure inputs and click "Invoke Skill" to run.</p></div>'),Xt=m('<div class="output-header svelte-112kdh0"><h2 class="svelte-112kdh0">Output</h2> <!></div> <!>',1),Yt=m('<div class="skill-detail"><div class="detail-header svelte-112kdh0"><!> <div class="header-content svelte-112kdh0"><div class="header-main svelte-112kdh0"><h1 class="svelte-112kdh0"> </h1> <!></div> <p class="skill-description svelte-112kdh0"> </p></div></div> <!> <!> <div class="content-grid svelte-112kdh0"><!> <!></div></div>'),Zt=m('<div class="skill-detail-container svelte-112kdh0"><!></div>');function ka(st,lt){Pt(lt,!0);const it=()=>wt(Ct,"$page",vt),[vt,ot]=qt();let n=B(null),Be=B(!0),R=B(null),I=B(St({})),ue=B(!1),q=B(null),K=B(""),Se=B(!1),Le=B(!0),Te=B("claude-3.5-sonnet"),pe=B(.2),ce=B(4096);const Ne=le(()=>it().params.id);yt(async()=>{try{v(n,await Et.getSkill(e(Ne))||null,!0),e(n)||v(R,`Skill not found: ${e(Ne)}`),v(Be,!1)}catch(c){v(R,c instanceof Error?c.message:"Failed to load skill",!0),v(Be,!1)}}),Tt(()=>{if(e(n)){const c={};for(const[W,_e]of Object.entries(e(n).inputs))_e.type==="boolean"?c[W]=!1:_e.type==="number"?c[W]=0:_e.type==="array"?c[W]=[]:c[W]="";v(I,c,!0)}});async function dt(){if(!(!e(n)||e(ue))){v(ue,!0),v(q,null),v(K,""),v(R,null);try{if(e(Le)){v(Se,!0);const c=tt.invokeSkillStreaming(e(n).id,{inputs:e(I),options:{model:e(Te),temperature:e(pe),max_tokens:e(ce)}});for await(const W of c)v(K,e(K)+W);v(Se,!1)}else v(q,await tt.invokeSkill(e(n).id,{inputs:e(I),options:{model:e(Te),temperature:e(pe),max_tokens:e(ce)}}),!0)}catch(c){v(R,c instanceof Error?c.message:"Invocation failed",!0),v(Se,!1)}finally{v(ue,!1)}}}function nt(){v(q,null),v(K,""),v(R,null)}var Oe=Zt(),ut=r(Oe);{var pt=c=>{var W=Lt();t(c,W)},ct=c=>{var W=J(),_e=L(W);{var _t=ie=>{var me=Ot(),ze=L(me);Re(ze,{variant:"error",title:"Failed to Load Skill",children:(ee,he)=>{u();var te=f();p(()=>d(te,e(R))),t(ee,te)},$$slots:{default:!0}});var Ie=s(ze,2),fe=r(Ie);Ce(fe,{variant:"secondary",$$events:{click:()=>window.location.href="/library"},children:(ee,he)=>{u();var te=f("← Back to Library");t(ee,te)},$$slots:{default:!0}}),a(Ie),t(ie,me)},mt=ie=>{var me=J(),ze=L(me);{var Ie=fe=>{var ee=Yt(),he=r(ee),te=r(he);Ce(te,{variant:"ghost",size:"sm",$$events:{click:()=>window.location.href="/library"},children:(w,N)=>{u();var x=f("← Back to Library");t(w,x)},$$slots:{default:!0}});var Ue=s(te,2),We=r(Ue),je=r(We),ft=r(je,!0);a(je);var ht=s(je,2);{let w=le(()=>e(n).access==="PUBLIC"?"success":"warning");O(ht,{get variant(){return e(w)},size:"lg",children:(N,x)=>{u();var b=f();p(()=>d(b,e(n).access)),t(N,b)},$$slots:{default:!0}})}a(We);var He=s(We,2),kt=r(He,!0);a(He),a(Ue),a(he);var Je=s(he,2);Ge(Je,{variant:"bordered",padding:"lg",children:(w,N)=>{var x=Wt(),b=r(x),ae=s(r(b),2);O(ae,{variant:"default",size:"sm",children:(y,z)=>{u();var P=f();p(()=>d(P,e(n).id)),t(y,P)},$$slots:{default:!0}}),a(b);var U=s(b,2),Q=s(r(U),2);O(Q,{variant:"info",size:"sm",children:(y,z)=>{u();var P=f();p(()=>d(P,e(n).section)),t(y,P)},$$slots:{default:!0}}),a(U);var C=s(U,2),ve=s(r(C),2);O(ve,{variant:"info",size:"sm",children:(y,z)=>{u();var P=f();p(()=>d(P,e(n).category)),t(y,P)},$$slots:{default:!0}}),a(C);var $=s(C,2),j=s(r($),2);O(j,{variant:"accent",size:"sm",children:(y,z)=>{u();var P=f();p((F,M)=>d(P,`$${F??""} - $${M??""}`),[()=>e(n).estimatedCost.min.toFixed(3),()=>e(n).estimatedCost.max.toFixed(3)]),t(y,P)},$$slots:{default:!0}}),a($),a(x),t(w,x)},$$slots:{default:!0}});var Ke=s(Je,2);{var gt=w=>{var N=jt(),x=s(r(N),2);Xe(x,21,()=>e(n).tags,Ye,(b,ae)=>{O(b,{variant:"default",size:"sm",outline:!0,children:(U,Q)=>{u();var C=f();p(()=>d(C,e(ae))),t(U,C)},$$slots:{default:!0}})}),a(x),a(N),t(w,N)};k(Ke,w=>{e(n).tags.length>0&&w(gt)})}var Qe=s(Ke,2),Ve=r(Qe);Ge(Ve,{variant:"bordered",padding:"lg",children:(w,N)=>{var x=Rt(),b=s(L(x),2);{var ae=l=>{var T=Ft();t(l,T)},U=l=>{var T=Gt();Xe(T,21,()=>Object.entries(e(n).inputs),Ye,(D,V)=>{var A=le(()=>It(e(V),2));let o=()=>e(A)[0],_=()=>e(A)[1];var X=J(),Fe=L(X);{var ge=G=>{{let de=le(()=>_().description||"");at(G,{get label(){return o()},get helperText(){return e(de)},get required(){return _().required},fullWidth:!0,get value(){return e(I)[o()]},set value(se){e(I)[o()]=se}})}},Me=G=>{var de=J(),se=L(de);{var Ae=Y=>{{let ne=le(()=>_().description||"");at(Y,{type:"number",get label(){return o()},get helperText(){return e(ne)},get required(){return _().required},fullWidth:!0,get value(){return e(I)[o()]},set value($e){e(I)[o()]=$e}})}},qe=Y=>{var ne=J(),$e=L(ne);{var De=g=>{var i=Dt(),E=r(i),xe=r(E);Ee(xe);var we=s(xe),Z=s(we);{var be=H=>{var Pe=Mt();t(H,Pe)};k(Z,H=>{_().required&&H(be)})}a(E);var ye=s(E,2);{var xt=H=>{var Pe=At(),bt=r(Pe,!0);a(Pe),p(()=>d(bt,_().description)),t(H,Pe)};k(ye,H=>{_().description&&H(xt)})}a(i),p(()=>d(we,` ${o()??""} `)),Ze(xe,()=>e(I)[o()],H=>e(I)[o()]=H),t(g,i)},h=g=>{var i=J(),E=L(i);{var xe=Z=>{{let be=le(()=>_().description||"Enter comma-separated values");rt(Z,{get label(){return o()},get helperText(){return e(be)},get required(){return _().required},rows:3,fullWidth:!0,get value(){return e(I)[o()]},set value(ye){e(I)[o()]=ye}})}},we=Z=>{{let be=le(()=>_().description||"");rt(Z,{get label(){return o()},get helperText(){return e(be)},get required(){return _().required},rows:5,fullWidth:!0,get value(){return e(I)[o()]},set value(ye){e(I)[o()]=ye}})}};k(E,Z=>{_().type==="array"?Z(xe):Z(we,!1)},!0)}t(g,i)};k($e,g=>{_().type==="boolean"?g(De):g(h,!1)},!0)}t(Y,ne)};k(se,Y=>{_().type==="number"?Y(Ae):Y(qe,!1)},!0)}t(G,de)};k(Fe,G=>{_().type==="string"?G(ge):G(Me,!1)})}t(D,X)}),a(T),t(l,T)};k(b,l=>{Object.keys(e(n).inputs).length===0?l(ae):l(U,!1)})}var Q=s(b,2),C=s(r(Q),2),ve=r(C),$=r(ve);Ee($),u(),a(ve),a(C);var j=s(C,2);Bt(j,{label:"Model",options:[{value:"claude-3.5-sonnet",label:"Claude 3.5 Sonnet"},{value:"gpt-4-turbo",label:"GPT-4 Turbo"},{value:"gpt-4",label:"GPT-4"}],fullWidth:!0,get value(){return e(Te)},set value(l){v(Te,l,!0)}});var y=s(j,2),z=r(y),P=r(z);a(z);var F=s(z,2);Ee(F),a(y);var M=s(y,2),re=r(M),ke=r(re);a(re);var oe=s(re,2);Ee(oe),a(M),a(Q);var S=s(Q,2);Ce(S,{variant:"primary",size:"lg",fullWidth:!0,get loading(){return e(ue)},$$events:{click:dt},children:(l,T)=>{u();var D=f("Invoke Skill");t(l,D)},$$slots:{default:!0}}),p(()=>{d(P,`Temperature: ${e(pe)??""}`),d(ke,`Max Tokens: ${e(ce)??""}`)}),Ze($,()=>e(Le),l=>v(Le,l)),et(F,()=>e(pe),l=>v(pe,l)),et(oe,()=>e(ce),l=>v(ce,l)),t(w,x)},$$slots:{default:!0}});var $t=s(Ve,2);Ge($t,{variant:"bordered",padding:"lg",children:(w,N)=>{var x=Xt(),b=L(x),ae=s(r(b),2);{var U=$=>{Ce($,{variant:"ghost",size:"sm",$$events:{click:nt},children:(j,y)=>{u();var z=f("Clear");t(j,z)},$$slots:{default:!0}})};k(ae,$=>{(e(q)||e(K))&&$(U)})}a(b);var Q=s(b,2);{var C=$=>{Re($,{variant:"error",title:"Error",children:(j,y)=>{u();var z=f();p(()=>d(z,e(R))),t(j,z)},$$slots:{default:!0}})},ve=$=>{var j=J(),y=L(j);{var z=F=>{var M=Ht(),re=r(M);{var ke=S=>{var l=Nt(),T=r(l),D=r(T,!0);a(T);var V=s(T,2),A=r(V);O(A,{variant:"accent",dot:!0,children:(o,_)=>{u();var X=f("Streaming...");t(o,X)},$$slots:{default:!0}}),a(V),a(l),p(()=>d(D,e(K))),t(S,l)},oe=S=>{var l=Ut();u(2),t(S,l)};k(re,S=>{e(Se)?S(ke):S(oe,!1)})}a(M),t(F,M)},P=F=>{var M=J(),re=L(M);{var ke=S=>{var l=Jt(),T=r(l),D=r(T),V=r(D,!0);a(D),a(T),a(l),p(()=>d(V,e(K))),t(S,l)},oe=S=>{var l=J(),T=L(l);{var D=A=>{var o=Qt(),_=r(o),X=r(_),Fe=s(r(X),2);O(Fe,{variant:"default",size:"sm",children:(h,g)=>{u();var i=f();p(()=>d(i,e(q).sessionId)),t(h,i)},$$slots:{default:!0}}),a(X);var ge=s(X,2),Me=s(r(ge),2);O(Me,{variant:"info",size:"sm",children:(h,g)=>{u();var i=f();p(()=>d(i,e(q).metadata.model_used)),t(h,i)},$$slots:{default:!0}}),a(ge);var G=s(ge,2),de=s(r(G),2);O(de,{variant:"default",size:"sm",children:(h,g)=>{u();var i=f();p(()=>d(i,e(q).metadata.tokens_used)),t(h,i)},$$slots:{default:!0}}),a(G);var se=s(G,2),Ae=s(r(se),2);O(Ae,{variant:"accent",size:"sm",children:(h,g)=>{u();var i=f();p(E=>d(i,`$${E??""}`),[()=>e(q).metadata.cost.toFixed(4)]),t(h,i)},$$slots:{default:!0}}),a(se);var qe=s(se,2),Y=s(r(qe),2);O(Y,{variant:"default",size:"sm",children:(h,g)=>{u();var i=f();p(()=>d(i,`${e(q).metadata.latency_ms??""}ms`)),t(h,i)},$$slots:{default:!0}}),a(qe),a(_);var ne=s(_,2);{var $e=h=>{var g=Kt(),i=r(g),E=r(i,!0);a(i),a(g),p(()=>d(E,e(q).output)),t(h,g)},De=h=>{Re(h,{variant:"error",title:"Execution Error",children:(g,i)=>{u();var E=f();p(()=>d(E,e(q).error)),t(g,E)},$$slots:{default:!0}})};k(ne,h=>{e(q).status==="success"?h($e):h(De,!1)})}a(o),t(A,o)},V=A=>{var o=Vt();t(A,o)};k(T,A=>{e(q)?A(D):A(V,!1)},!0)}t(S,l)};k(re,S=>{e(K)?S(ke):S(oe,!1)},!0)}t(F,M)};k(y,F=>{e(ue)?F(z):F(P,!1)},!0)}t($,j)};k(Q,$=>{e(R)?$(C):$(ve,!1)})}t(w,x)},$$slots:{default:!0}}),a(Qe),a(ee),p(()=>{d(ft,e(n).name),d(kt,e(n).description)}),t(fe,ee)};k(ze,fe=>{e(n)&&fe(Ie)},!0)}t(ie,me)};k(_e,ie=>{e(R)&&!e(n)?ie(_t):ie(mt,!1)},!0)}t(c,W)};k(ut,c=>{e(Be)?c(pt):c(ct,!1)})}a(Oe),t(st,Oe),zt(),ot()}export{ka as component};
