import{A as t}from"../chunks/BiFJXEbU.js";import{p as a,a as e,Z as s,J as l,D as o,f as d,m as p,e as r,O as i,r as c,G as n,P as v,c as m,g as x,Y as u,Q as b,h as f,j as h,E as y,d as g,i as k,K as w,w as A,x as S,H as j,v as $,A as E,_ as T}from"../chunks/C9wVddXz.js";import{A as L}from"../chunks/Z5qlU11D.js";import{P as O}from"../chunks/B4qtpSKl.js";var R=d('<div class="space-y-3"><div><label for="allowed-repos" class="text-sm text-slate-300">Allowed Repos (comma-separated)</label> <input id="allowed-repos" class="w-full bg-slate-800 text-white border border-slate-700 rounded px-3 py-2 text-sm mt-1"/></div> <div class="flex items-center gap-2"><input id="sas" type="checkbox" class="accent-amber-400"/> <label for="sas" class="text-sm text-slate-200">Auto evaluate with SAS</label></div> <div class="flex justify-end gap-2"><button type="button" class="px-3 py-1 rounded border border-slate-700 text-slate-200">Cancel</button> <button type="button" class="px-3 py-1 rounded bg-amber-500 text-black font-semibold">Save</button></div></div>');var D=d('<button class="px-3 py-1 rounded bg-amber-500 text-black text-xs font-semibold">Edit</button>'),P=d('<span class="text-xs text-slate-500">Locked</span>'),W=d('<tr class="border-b border-slate-800"><td colspan="7" class="px-4 py-3 bg-slate-900/70"><!> <p class="text-xs text-slate-500 mt-2">TODO: persist to config (Tauri) instead of in-memory once available.</p></td></tr>'),B=d('<tr class="border-b border-slate-800"><td class="px-4 py-2"> </td><td class="px-4 py-2"> </td><td class="px-4 py-2"> </td><td class="px-4 py-2 text-slate-300"> </td><td class="px-4 py-2"> </td><td class="px-4 py-2"> </td><td class="px-4 py-2"><!></td></tr> <!>',1),C=d('<div class="overflow-auto"><table class="min-w-full text-sm text-left text-slate-200"><thead class="bg-slate-800 text-xs uppercase text-slate-400"><tr><th class="px-4 py-2">Kind</th><th class="px-4 py-2">Label</th><th class="px-4 py-2">Pipeline</th><th class="px-4 py-2">Allowed Repos</th><th class="px-4 py-2">Auto SAS</th><th class="px-4 py-2">Locked</th><th class="px-4 py-2">Actions</th></tr></thead><tbody></tbody></table></div>');function K(t,d){a(d,!1);let j=e(d,"templates",24,()=>[]),$=e(d,"onUpdate",8),E=l(null);o();var T=C(),L=p(T),O=r(p(L));y(O,5,j,t=>t.id,(t,d)=>{var y=B(),j=g(y),T=p(j),L=p(T,!0);c(T);var O=r(T),C=p(O,!0);c(O);var K=r(O),U=p(K,!0);c(K);var Y=r(K),G=p(Y,!0);c(Y);var H=r(Y),I=p(H,!0);c(H);var J=r(H),M=p(J,!0);c(J);var N=r(J),Q=p(N),Z=t=>{var a=D();b("click",a,()=>m(E,x(d).id)),f(t,a)},_=t=>{var a=P();f(t,a)};k(Q,t=>{x(d),w(()=>!x(d).locked)?t(Z):t(_,!1)}),c(N),c(j);var q=r(j,2),z=t=>{var y=W(),g=p(y);!function(t,d){a(d,!1);let y=e(d,"template",8);const g=s();let k=l(y().allowedRepos.join(", ")),w=l(y().autoEvaluateWithSAS);o();var A=R(),S=p(A),j=r(p(S),2);i(j),c(S);var $=r(S,2),E=p($);i(E),n(2),c($);var T=r($,2),L=p(T),O=r(L,2);c(T),c(A),v(j,()=>x(k),t=>m(k,t)),u(E,()=>x(w),t=>m(w,t)),b("click",L,()=>g("cancel")),b("click",O,()=>{const t=x(k).split(",").map(t=>t.trim()).filter(Boolean);g("save",{...y(),allowedRepos:t,autoEvaluateWithSAS:x(w)})}),f(t,A),h()}(p(g),{get template(){return x(d)},$$events:{save:t=>{$()(t.detail),m(E,null)},cancel:()=>m(E,null)}}),n(2),c(g),c(y),f(t,y)};k(q,t=>{x(E),x(d),w(()=>x(E)===x(d).id)&&t(z)}),A(t=>{S(L,(x(d),w(()=>x(d).kind))),S(C,(x(d),w(()=>x(d).label))),S(U,(x(d),w(()=>x(d).pipelineId))),S(G,t),S(I,(x(d),w(()=>x(d).autoEvaluateWithSAS?"Yes":"No"))),S(M,(x(d),w(()=>x(d).locked?"Locked":"Editable")))},[()=>(x(d),w(()=>x(d).allowedRepos.join(", ")))]),f(t,y)}),c(O),c(L),c(T),f(t,T),h()}var U=d('<div class="admin-container svelte-1o5mf4f"><div class="page-header svelte-1o5mf4f"><h1 class="page-title svelte-1o5mf4f">Agent Templates</h1> <p class="page-description svelte-1o5mf4f">Manage in-memory templates. Locked templates are view-only.</p></div> <!> <!></div>');function Y(e,s){a(s,!1);const[l,d]=j(),i=[...t.planner,...t.execution,...t.evaluator,...t.coordinator],v=T(i),m=t=>{v.update(a=>a.map(a=>a.id===t.id?{...a,...t}:a))};o();var x=U(),u=r(p(x),2);L(u,{variant:"info",dismissible:!0,children:(t,a)=>{n();var e=$("TODO: Template persistence via Tauri config not yet implemented. Changes are in-memory only.");f(t,e)},$$slots:{default:!0}});var b=r(u,2);O(b,{variant:"bordered",padding:"lg",children:(t,a)=>{K(t,{get templates(){return E(v,"$templatesStore",l)},onUpdate:m})},$$slots:{default:!0}}),c(x),f(e,x),h(),d()}export{Y as component};
