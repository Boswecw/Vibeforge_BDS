import{p as ce,s as D,R as oe,f as $,i as F,h as o,j as ne,e as n,m as a,v as S,w as _,g as s,c as i,H as k,x as g,r as l,k as de,d as V,F as ve,q as ue,G as pe}from"../chunks/DkYuCCRR.js";import{f as x}from"../chunks/DZdTBaFY.js";import{s as ge}from"../chunks/v9ZTRfye.js";import"../chunks/ZXpR-Cq1.js";import{B as W,P as N}from"../chunks/NBWhFnqU.js";import{B as he}from"../chunks/BZBw9RiU.js";import{A as me}from"../chunks/B_6VVtGD.js";var fe=$('<div class="empty-state svelte-c3a646"><p>No test results yet. Click "Run All Tests" to begin.</p></div>'),_e=$('<details class="result-details svelte-c3a646"><summary class="svelte-c3a646">View Data</summary> <pre class="result-data svelte-c3a646"> </pre></details>'),ke=$('<div class="result-header svelte-c3a646"><div class="result-info svelte-c3a646"><h3 class="result-test svelte-c3a646"> </h3> <span class="result-time svelte-c3a646"> </span></div> <!></div> <p class="result-message svelte-c3a646"> </p> <!>',1),$e=$('<h3 class="info-title svelte-c3a646">Test Information</h3> <dl class="info-list svelte-c3a646"><dt class="svelte-c3a646">API Base URL:</dt> <dd class="svelte-c3a646"><code class="svelte-c3a646">http://localhost:3000</code></dd> <dt class="svelte-c3a646">Test Credentials:</dt> <dd class="svelte-c3a646"><code class="svelte-c3a646">admin@bds.com</code> / <code class="svelte-c3a646">password123</code></dd> <dt class="svelte-c3a646">Expected Results:</dt> <dd class="svelte-c3a646"><ul class="svelte-c3a646"><li class="svelte-c3a646">Test 1: Should load ~67 PUBLIC skills</li> <li class="svelte-c3a646">Test 2: Should authenticate successfully</li> <li class="svelte-c3a646">Test 3: Should load all 120 skills (67 PUBLIC + 53 BDS_ONLY)</li> <li class="svelte-c3a646">Test 4: Should retrieve specific skill details</li> <li class="svelte-c3a646">Test 5: Should invoke skill and get response</li></ul></dd> <dt class="svelte-c3a646">Console Logging:</dt> <dd class="svelte-c3a646">Open browser DevTools Console to see detailed request/response logs</dd></dl>',1),Ae=$('<div class="test-page svelte-c3a646"><div class="test-header svelte-c3a646"><h1 class="test-title svelte-c3a646">ForgeAgents API Integration Test</h1> <p class="test-description svelte-c3a646">This page tests the connection between VibeForge_BDS frontend and the ForgeAgents BDS API.</p> <div class="test-actions svelte-c3a646"><!> <!></div> <!></div> <div class="test-results svelte-c3a646"><!></div> <div class="test-info svelte-c3a646"><!></div></div>');function Le(j,E){ce(E,!0);let h=D(oe([])),m=D(!1),v=D("");function c(e,r,t,d){i(h,[...s(h),{test:e,status:r,message:t,data:d,timestamp:new Date().toISOString()}],!0)}async function H(){i(h,[],!0),i(m,!0);try{i(v,"Loading PUBLIC skills without authentication...");try{const e=await ge.getAllSkills();c("Public Skills (No Auth)","success",`Loaded ${e.length} skills`,e.slice(0,3))}catch(e){c("Public Skills (No Auth)","error",e.message,e)}i(v,"Authenticating as admin@bds.com...");try{const e=await x.login("admin@bds.com","password123");c("Authentication","success",`Logged in successfully (expires: ${e.expires_at})`,{token_type:e.token_type,expires_in:e.expires_in,access_token:e.access_token.slice(0,50)+"..."})}catch(e){c("Authentication","error",e.message,e)}i(v,"Loading ALL skills with authentication...");try{const e=await x.listSkills();c("All Skills (With Auth)","success",`Loaded ${e.skills.length} skills`,e.skills.slice(0,3))}catch(e){c("All Skills (With Auth)","error",e.message,e)}i(v,"Fetching specific skill...");try{const e=await x.getSkill("A1");c("Get Skill (A1)","success",`Retrieved skill: ${e.name}`,e)}catch(e){c("Get Skill (A1)","error",e.message,e)}i(v,"Invoking skill...");try{const e=await x.invokeSkill("A1",{prompt:"Test prompt for API integration",context:{},temperature:.7,stream:!1});c("Invoke Skill (A1)","success","Invocation completed",e)}catch(e){c("Invoke Skill (A1)","error",e.message,e)}}finally{i(m,!1),i(v,"")}}function J(){i(h,[],!0)}var y=Ae(),P=a(y),T=n(a(P),4),U=a(T);W(U,{variant:"primary",onclick:H,get disabled(){return s(m)},children:(e,r)=>{k();var t=S();_(()=>g(t,s(m)?"Running Tests...":"Run All Tests")),o(e,t)},$$slots:{default:!0}});var Y=n(U,2);W(Y,{variant:"secondary",onclick:J,get disabled(){return s(m)},children:(e,r)=>{k();var t=S("Clear Results");o(e,t)},$$slots:{default:!0}}),l(T);var z=n(T,2);{var K=e=>{me(e,{variant:"info",title:"Testing in progress",children:(r,t)=>{k();var d=S();_(()=>g(d,s(v))),o(r,d)},$$slots:{default:!0}})};F(z,e=>{s(m)&&e(K)})}l(P);var b=n(P,2),M=a(b);{var Q=e=>{N(e,{variant:"bordered",padding:"lg",children:(r,t)=>{var d=fe();o(r,d)},$$slots:{default:!0}})},X=e=>{var r=de(),t=V(r);ve(t,17,()=>s(h),pe,(d,u)=>{N(d,{variant:"bordered",padding:"lg",children:(ee,Se)=>{var G=ke(),w=V(G),I=a(w),L=a(I),se=a(L,!0);l(L);var q=n(L,2),te=a(q,!0);l(q),l(I);var ae=n(I,2);{let p=ue(()=>s(u).status==="success"?"success":"error");he(ae,{get variant(){return s(p)},children:(f,B)=>{k();var A=S();_(C=>g(A,C),[()=>s(u).status.toUpperCase()]),o(f,A)},$$slots:{default:!0}})}l(w);var R=n(w,2),le=a(R,!0);l(R);var re=n(R,2);{var ie=p=>{var f=_e(),B=n(a(f),2),A=a(B,!0);l(B),l(f),_(C=>g(A,C),[()=>JSON.stringify(s(u).data,null,2)]),o(p,f)};F(re,p=>{s(u).data&&p(ie)})}_(p=>{g(se,s(u).test),g(te,p),g(le,s(u).message)},[()=>new Date(s(u).timestamp).toLocaleTimeString()]),o(ee,G)},$$slots:{default:!0}})}),o(e,r)};F(M,e=>{s(h).length===0?e(Q):e(X,!1)})}l(b);var O=n(b,2),Z=a(O);N(Z,{variant:"bordered",padding:"lg",children:(e,r)=>{var t=$e();k(2),o(e,t)},$$slots:{default:!0}}),l(O),l(y),o(j,y),ne()}export{Le as component};
