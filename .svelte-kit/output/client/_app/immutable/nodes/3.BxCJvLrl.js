import{f as _,e as F,a as g,s as S}from"../chunks/CAK2u2Ng.js";import{i as C}from"../chunks/KV0_VMK_.js";import{ae as O,aB as ee,z as L,ai as o,af as s,aj as a,am as G,X as E,k as e,ah as N,ap as te,R as f,ag as ae}from"../chunks/DvJ0wH-P.js";import{s as oe,a as se}from"../chunks/CRyvVHOP.js";import{w as re}from"../chunks/CDcW_sRs.js";import{i as M}from"../chunks/DjilkBmk.js";import{e as le}from"../chunks/BoH0SDAF.js";import{p as j}from"../chunks/Ddq5yhXH.js";import{r as B}from"../chunks/w-4I74Yw.js";import{b as ie,a as de}from"../chunks/BVWqoBiK.js";const T={planner:[{id:"planner.cross-repo.feature-plan",label:"Cross-Repo Feature Plan",description:"Generates a multi-repo implementation plan with PAORT steps.",kind:"planner",pipelineId:"nf.mapo.plan.cross_repo.v1",allowedRepos:["vibeforge","authorforge","dataforge","forgeagents"],autoEvaluateWithSAS:!0,locked:!0}],execution:[{id:"execution.prompt.neuroforge",label:"Prompt Exec via NeuroForge",description:"Runs prompt executions through NeuroForge with safety and telemetry.",kind:"execution",pipelineId:"nf.mapo.prompt_exec.v1",allowedRepos:["vibeforge","authorforge"],autoEvaluateWithSAS:!0,locked:!1}],evaluator:[{id:"evaluator.sas.compliance",label:"SAS Compliance Check",description:"Evaluates outputs against SAS sections and safety rules.",kind:"evaluator",pipelineId:"nf.mapo.eval.sas.v1",allowedRepos:["vibeforge","authorforge","websafe"],autoEvaluateWithSAS:!0,locked:!0}],coordinator:[{id:"coordinator.multi-app.provider-rollout",label:"Multi-App Provider API Rollout",description:"Coordinates provider rollout across VibeForge, AuthorForge, and WebSafe.",kind:"coordinator",pipelineId:"nf.mapo.coordinator.provider_rollout.v1",allowedRepos:["vibeforge","authorforge","websafe","dataforge"],autoEvaluateWithSAS:!0,locked:!0}]};var ne=_('<div class="space-y-3"><div><label for="allowed-repos" class="text-sm text-slate-300">Allowed Repos (comma-separated)</label> <input id="allowed-repos" class="w-full bg-slate-800 text-white border border-slate-700 rounded px-3 py-2 text-sm mt-1"/></div> <div class="flex items-center gap-2"><input id="sas" type="checkbox" class="accent-amber-400"/> <label for="sas" class="text-sm text-slate-200">Auto evaluate with SAS</label></div> <div class="flex justify-end gap-2"><button type="button" class="px-3 py-1 rounded border border-slate-700 text-slate-200">Cancel</button> <button type="button" class="px-3 py-1 rounded bg-amber-500 text-black font-semibold">Save</button></div></div>');function pe(A,c){O(c,!1);let x=j(c,"template",8);const y=ee();let l=L(x().allowedRepos.join(", ")),n=L(x().autoEvaluateWithSAS);const m=()=>{const h=e(l).split(",").map(w=>w.trim()).filter(Boolean);y("save",{...x(),allowedRepos:h,autoEvaluateWithSAS:e(n)})};C();var u=ne(),i=o(u),t=s(o(i),2);B(t),a(i);var p=s(i,2),v=o(p);B(v),G(2),a(p);var d=s(p,2),R=o(d),k=s(R,2);a(d),a(u),ie(t,()=>e(l),h=>E(l,h)),de(v,()=>e(n),h=>E(n,h)),F("click",R,()=>y("cancel")),F("click",k,m),g(A,u),N()}var ce=_('<button class="px-3 py-1 rounded bg-amber-500 text-black text-xs font-semibold">Edit</button>'),ue=_('<span class="text-xs text-slate-500">Locked</span>'),ve=_('<tr class="border-b border-slate-800"><td colspan="7" class="px-4 py-3 bg-slate-900/70"><!> <p class="text-xs text-slate-500 mt-2">TODO: persist to config (Tauri) instead of in-memory once available.</p></td></tr>'),be=_('<tr class="border-b border-slate-800"><td class="px-4 py-2"> </td><td class="px-4 py-2"> </td><td class="px-4 py-2"> </td><td class="px-4 py-2 text-slate-300"> </td><td class="px-4 py-2"> </td><td class="px-4 py-2"> </td><td class="px-4 py-2"><!></td></tr> <!>',1),fe=_('<div class="overflow-auto"><table class="min-w-full text-sm text-left text-slate-200"><thead class="bg-slate-800 text-xs uppercase text-slate-400"><tr><th class="px-4 py-2">Kind</th><th class="px-4 py-2">Label</th><th class="px-4 py-2">Pipeline</th><th class="px-4 py-2">Allowed Repos</th><th class="px-4 py-2">Auto SAS</th><th class="px-4 py-2">Locked</th><th class="px-4 py-2">Actions</th></tr></thead><tbody></tbody></table></div>');function xe(A,c){O(c,!1);let x=j(c,"templates",24,()=>[]),y=j(c,"onUpdate",8),l=L(null);C();var n=fe(),m=o(n),u=s(o(m));le(u,5,x,i=>i.id,(i,t)=>{var p=be(),v=te(p),d=o(v),R=o(d,!0);a(d);var k=s(d),h=o(k,!0);a(k);var w=s(k),$=o(w,!0);a(w);var W=s(w),z=o(W,!0);a(W);var I=s(W),K=o(I,!0);a(I);var P=s(I),V=o(P,!0);a(P);var U=s(P),X=o(U);{var Y=r=>{var b=ce();F("click",b,()=>E(l,e(t).id)),g(r,b)},q=r=>{var b=ue();g(r,b)};M(X,r=>{e(t),f(()=>!e(t).locked)?r(Y):r(q,!1)})}a(U),a(v);var H=s(v,2);{var J=r=>{var b=ve(),D=o(b),Q=o(D);pe(Q,{get template(){return e(t)},$$events:{save:Z=>{y()(Z.detail),E(l,null)},cancel:()=>E(l,null)}}),G(2),a(D),a(b),g(r,b)};M(H,r=>{e(l),e(t),f(()=>e(l)===e(t).id)&&r(J)})}ae(r=>{S(R,(e(t),f(()=>e(t).kind))),S(h,(e(t),f(()=>e(t).label))),S($,(e(t),f(()=>e(t).pipelineId))),S(z,r),S(K,(e(t),f(()=>e(t).autoEvaluateWithSAS?"Yes":"No"))),S(V,(e(t),f(()=>e(t).locked?"Locked":"Editable")))},[()=>(e(t),f(()=>e(t).allowedRepos.join(", ")))]),g(i,p)}),a(u),a(m),a(n),g(A,n),N()}var me=_('<section class="space-y-4"><header class="flex items-center justify-between"><div><h1 class="text-xl font-semibold text-white">Agent Templates (Admin)</h1> <p class="text-sm text-slate-400">Manage in-memory templates. Locked templates are view-only. TODO: persist via Tauri config.</p></div></header> <!></section>');function Te(A,c){O(c,!1);const x=()=>se(m,"$templatesStore",y),[y,l]=oe(),n=[...T.planner,...T.execution,...T.evaluator,...T.coordinator],m=re(n),u=p=>{m.update(v=>v.map(d=>d.id===p.id?{...d,...p}:d))};C();var i=me(),t=s(o(i),2);xe(t,{get templates(){return x()},onUpdate:u}),a(i),g(A,i),N(),l()}export{Te as component};
