import{f as $,a as c,t as S,c as oe}from"../chunks/CHRq6SN2.js";import{p as ce,b as D,a9 as ne,a as de,d as n,c as a,t as _,g as s,s as i,n as k,r as l,f as W,u as ve}from"../chunks/LjYFlPRR.js";import{i as N,s as g}from"../chunks/CedpH895.js";import{e as ue,i as pe}from"../chunks/xbjVpMZg.js";import{f as y}from"../chunks/pVZ04rd0.js";import{s as ge}from"../chunks/C4bto54Z.js";import"../chunks/C5SEkKG1.js";import"../chunks/DT77gqAl.js";import"../chunks/CIhCbREJ.js";import{B as q,P as U}from"../chunks/B4R2PCZ7.js";import{B as me}from"../chunks/BKaTCBmy.js";import{A as he}from"../chunks/DVZU4egd.js";var fe=$('<div class="empty-state svelte-c3a646"><p>No test results yet. Click "Run All Tests" to begin.</p></div>'),_e=$('<details class="result-details svelte-c3a646"><summary class="svelte-c3a646">View Data</summary> <pre class="result-data svelte-c3a646"> </pre></details>'),ke=$('<div class="result-header svelte-c3a646"><div class="result-info svelte-c3a646"><h3 class="result-test svelte-c3a646"> </h3> <span class="result-time svelte-c3a646"> </span></div> <!></div> <p class="result-message svelte-c3a646"> </p> <!>',1),$e=$('<h3 class="info-title svelte-c3a646">Test Information</h3> <dl class="info-list svelte-c3a646"><dt class="svelte-c3a646">API Base URL:</dt> <dd class="svelte-c3a646"><code class="svelte-c3a646">http://localhost:3000</code></dd> <dt class="svelte-c3a646">Test Credentials:</dt> <dd class="svelte-c3a646"><code class="svelte-c3a646">admin@bds.com</code> / <code class="svelte-c3a646">password123</code></dd> <dt class="svelte-c3a646">Expected Results:</dt> <dd class="svelte-c3a646"><ul class="svelte-c3a646"><li class="svelte-c3a646">Test 1: Should load ~67 PUBLIC skills</li> <li class="svelte-c3a646">Test 2: Should authenticate successfully</li> <li class="svelte-c3a646">Test 3: Should load all 120 skills (67 PUBLIC + 53 BDS_ONLY)</li> <li class="svelte-c3a646">Test 4: Should retrieve specific skill details</li> <li class="svelte-c3a646">Test 5: Should invoke skill and get response</li></ul></dd> <dt class="svelte-c3a646">Console Logging:</dt> <dd class="svelte-c3a646">Open browser DevTools Console to see detailed request/response logs</dd></dl>',1),Ae=$('<div class="test-page svelte-c3a646"><div class="test-header svelte-c3a646"><h1 class="test-title svelte-c3a646">ForgeAgents API Integration Test</h1> <p class="test-description svelte-c3a646">This page tests the connection between VibeForge_BDS frontend and the ForgeAgents BDS API.</p> <div class="test-actions svelte-c3a646"><!> <!></div> <!></div> <div class="test-results svelte-c3a646"><!></div> <div class="test-info svelte-c3a646"><!></div></div>');function Ne(E,J){ce(J,!0);let m=D(ne([])),h=D(!1),v=D("");function o(e,r,t,d){i(m,[...s(m),{test:e,status:r,message:t,data:d,timestamp:new Date().toISOString()}],!0)}async function Y(){i(m,[],!0),i(h,!0);try{i(v,"Loading PUBLIC skills without authentication...");try{const e=await ge.getAllSkills();o("Public Skills (No Auth)","success",`Loaded ${e.length} skills`,e.slice(0,3))}catch(e){o("Public Skills (No Auth)","error",e.message,e)}i(v,"Authenticating as admin@bds.com...");try{const e=await y.login("admin@bds.com","password123");o("Authentication","success",`Logged in successfully (expires: ${e.expires_at})`,{token_type:e.token_type,expires_in:e.expires_in,access_token:e.access_token.slice(0,50)+"..."})}catch(e){o("Authentication","error",e.message,e)}i(v,"Loading ALL skills with authentication...");try{const e=await y.listSkills();o("All Skills (With Auth)","success",`Loaded ${e.skills.length} skills`,e.skills.slice(0,3))}catch(e){o("All Skills (With Auth)","error",e.message,e)}i(v,"Fetching specific skill...");try{const e=await y.getSkill("A1");o("Get Skill (A1)","success",`Retrieved skill: ${e.name}`,e)}catch(e){o("Get Skill (A1)","error",e.message,e)}i(v,"Invoking skill...");try{const e=await y.invokeSkill("A1",{prompt:"Test prompt for API integration",context:{},temperature:.7,stream:!1});o("Invoke Skill (A1)","success","Invocation completed",e)}catch(e){o("Invoke Skill (A1)","error",e.message,e)}}finally{i(h,!1),i(v,"")}}function j(){i(m,[],!0)}var x=Ae(),P=a(x),T=n(a(P),4),F=a(T);q(F,{variant:"primary",onclick:Y,get disabled(){return s(h)},children:(e,r)=>{k();var t=S();_(()=>g(t,s(h)?"Running Tests...":"Run All Tests")),c(e,t)},$$slots:{default:!0}});var z=n(F,2);q(z,{variant:"secondary",onclick:j,get disabled(){return s(h)},children:(e,r)=>{k();var t=S("Clear Results");c(e,t)},$$slots:{default:!0}}),l(T);var H=n(T,2);{var K=e=>{he(e,{variant:"info",title:"Testing in progress",children:(r,t)=>{k();var d=S();_(()=>g(d,s(v))),c(r,d)},$$slots:{default:!0}})};N(H,e=>{s(h)&&e(K)})}l(P);var b=n(P,2),M=a(b);{var Q=e=>{U(e,{variant:"bordered",padding:"lg",children:(r,t)=>{var d=fe();c(r,d)},$$slots:{default:!0}})},X=e=>{var r=oe(),t=W(r);ue(t,17,()=>s(m),pe,(d,u)=>{U(d,{variant:"bordered",padding:"lg",children:(ee,Se)=>{var G=ke(),w=W(G),I=a(w),L=a(I),se=a(L,!0);l(L);var V=n(L,2),te=a(V,!0);l(V),l(I);var ae=n(I,2);{let p=ve(()=>s(u).status==="success"?"success":"error");me(ae,{get variant(){return s(p)},children:(f,B)=>{k();var A=S();_(C=>g(A,C),[()=>s(u).status.toUpperCase()]),c(f,A)},$$slots:{default:!0}})}l(w);var R=n(w,2),le=a(R,!0);l(R);var re=n(R,2);{var ie=p=>{var f=_e(),B=n(a(f),2),A=a(B,!0);l(B),l(f),_(C=>g(A,C),[()=>JSON.stringify(s(u).data,null,2)]),c(p,f)};N(re,p=>{s(u).data&&p(ie)})}_(p=>{g(se,s(u).test),g(te,p),g(le,s(u).message)},[()=>new Date(s(u).timestamp).toLocaleTimeString()]),c(ee,G)},$$slots:{default:!0}})}),c(e,r)};N(M,e=>{s(m).length===0?e(Q):e(X,!1)})}l(b);var O=n(b,2),Z=a(O);U(Z,{variant:"bordered",padding:"lg",children:(e,r)=>{var t=$e();k(2),c(e,t)},$$slots:{default:!0}}),l(O),l(x),c(E,x),de()}export{Ne as component};
