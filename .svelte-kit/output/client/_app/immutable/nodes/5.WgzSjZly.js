import{A as t}from"../chunks/BiFJXEbU.js";import{p as a,c as e,X as s,K as l,F as o,e as d,q as p,j as r,P as i,r as c,I as n,R as v,a as m,g as x,W as u,Q as b,k as f,l as h,G as y,h as g,i as k,L as w,z as A,A as S,J as j,y as $,D as L,w as R}from"../chunks/CS1oB8eq.js";import{A as T}from"../chunks/oHG5MZam.js";import{P as E}from"../chunks/BcpFO3YO.js";var O=d('<div class="space-y-3"><div><label for="allowed-repos" class="text-sm text-slate-300">Allowed Repos (comma-separated)</label> <input id="allowed-repos" class="w-full bg-slate-800 text-white border border-slate-700 rounded px-3 py-2 text-sm mt-1"/></div> <div class="flex items-center gap-2"><input id="sas" type="checkbox" class="accent-amber-400"/> <label for="sas" class="text-sm text-slate-200">Auto evaluate with SAS</label></div> <div class="flex justify-end gap-2"><button type="button" class="px-3 py-1 rounded border border-slate-700 text-slate-200">Cancel</button> <button type="button" class="px-3 py-1 rounded bg-amber-500 text-black font-semibold">Save</button></div></div>');var W=d('<button class="px-3 py-1 rounded bg-amber-500 text-black text-xs font-semibold">Edit</button>'),C=d('<span class="text-xs text-slate-500">Locked</span>'),D=d('<tr class="border-b border-slate-800"><td colspan="7" class="px-4 py-3 bg-slate-900/70"><!> <p class="text-xs text-slate-500 mt-2">TODO: persist to config (Tauri) instead of in-memory once available.</p></td></tr>'),I=d('<tr class="border-b border-slate-800"><td class="px-4 py-2"> </td><td class="px-4 py-2"> </td><td class="px-4 py-2"> </td><td class="px-4 py-2 text-slate-300"> </td><td class="px-4 py-2"> </td><td class="px-4 py-2"> </td><td class="px-4 py-2"><!></td></tr> <!>',1),P=d('<div class="overflow-auto"><table class="min-w-full text-sm text-left text-slate-200"><thead class="bg-slate-800 text-xs uppercase text-slate-400"><tr><th class="px-4 py-2">Kind</th><th class="px-4 py-2">Label</th><th class="px-4 py-2">Pipeline</th><th class="px-4 py-2">Allowed Repos</th><th class="px-4 py-2">Auto SAS</th><th class="px-4 py-2">Locked</th><th class="px-4 py-2">Actions</th></tr></thead><tbody></tbody></table></div>');function F(t,d){a(d,!1);let j=e(d,"templates",24,()=>[]),$=e(d,"onUpdate",8),L=l(null);o();var R=P(),T=p(R),E=r(p(T));y(E,5,j,t=>t.id,(t,d)=>{var y=I(),j=g(y),R=p(j),T=p(R,!0);c(R);var E=r(R),P=p(E,!0);c(E);var F=r(E),K=p(F,!0);c(F);var U=r(F),q=p(U,!0);c(U);var z=r(U),B=p(z,!0);c(z);var G=r(z),J=p(G,!0);c(G);var M=r(G),N=p(M),Q=t=>{var a=W();b("click",a,()=>m(L,x(d).id)),f(t,a)},X=t=>{var a=C();f(t,a)};k(N,t=>{x(d),w(()=>!x(d).locked)?t(Q):t(X,!1)}),c(M),c(j);var Y=r(j,2),H=t=>{var y=D(),g=p(y);!function(t,d){a(d,!1);let y=e(d,"template",8);const g=s();let k=l(y().allowedRepos.join(", ")),w=l(y().autoEvaluateWithSAS);o();var A=O(),S=p(A),j=r(p(S),2);i(j),c(S);var $=r(S,2),L=p($);i(L),n(2),c($);var R=r($,2),T=p(R),E=r(T,2);c(R),c(A),v(j,()=>x(k),t=>m(k,t)),u(L,()=>x(w),t=>m(w,t)),b("click",T,()=>g("cancel")),b("click",E,()=>{const t=x(k).split(",").map(t=>t.trim()).filter(Boolean);g("save",{...y(),allowedRepos:t,autoEvaluateWithSAS:x(w)})}),f(t,A),h()}(p(g),{get template(){return x(d)},$$events:{save:t=>{$()(t.detail),m(L,null)},cancel:()=>m(L,null)}}),n(2),c(g),c(y),f(t,y)};k(Y,t=>{x(L),x(d),w(()=>x(L)===x(d).id)&&t(H)}),A(t=>{S(T,(x(d),w(()=>x(d).kind))),S(P,(x(d),w(()=>x(d).label))),S(K,(x(d),w(()=>x(d).pipelineId))),S(q,t),S(B,(x(d),w(()=>x(d).autoEvaluateWithSAS?"Yes":"No"))),S(J,(x(d),w(()=>x(d).locked?"Locked":"Editable")))},[()=>(x(d),w(()=>x(d).allowedRepos.join(", ")))]),f(t,y)}),c(E),c(T),c(R),f(t,R),h()}var K=d('<div class="admin-container svelte-1o5mf4f"><div class="page-header svelte-1o5mf4f"><h1 class="page-title svelte-1o5mf4f">Agent Templates</h1> <p class="page-description svelte-1o5mf4f">Manage in-memory templates. Locked templates are view-only.</p></div> <!> <!></div>');function U(e,s){a(s,!1);const[l,d]=j(),i=[...t.planner,...t.execution,...t.evaluator,...t.coordinator],v=R(i),m=t=>{v.update(a=>a.map(a=>a.id===t.id?{...a,...t}:a))};o();var x=K(),u=r(p(x),2);T(u,{variant:"info",dismissible:!0,children:(t,a)=>{n();var e=$("TODO: Template persistence via Tauri config not yet implemented. Changes are in-memory only.");f(t,e)},$$slots:{default:!0}});var b=r(u,2);E(b,{variant:"bordered",padding:"lg",children:(t,a)=>{F(t,{get templates(){return L(v,"$templatesStore",l)},onUpdate:m})},$$slots:{default:!0}}),c(x),f(e,x),h(),d()}export{U as component};
