import{p as e}from"../chunks/BrcOR8fu.js";import{s,T as a,o as t,d as l,e as r,i,k as d,l as n,J as v,p as o,g as c,a as u,x as p,q as h,r as k,D as m,m as g,h as f,I as $,y as b,z as y,A as x,j as T,P as j,W as z,Q as S,G as q,H as E,Z as w}from"../chunks/D_pGZFR_.js";import{s as C}from"../chunks/CZNmtG__.js";import{f as I}from"../chunks/Bq26jQPn.js";import{A as W}from"../chunks/Dhcz_u6i.js";import{B}from"../chunks/BwdTzT4T.js";import{B as F}from"../chunks/6OU7_OpZ.js";import{P as L}from"../chunks/CXKGBbKr.js";import{S as O}from"../chunks/B1VfULic.js";import{I as P}from"../chunks/BEa9JwFg.js";import{T as _}from"../chunks/BSl3yoIf.js";var D=r('<div class="loading-state svelte-112kdh0"><div class="spinner svelte-112kdh0"></div> <p>Loading skill...</p></div>'),G=r('<!> <div style="text-align: center; margin-top: 1rem;"><!></div>',1),M=r('<div class="skill-metadata svelte-112kdh0"><div class="meta-group svelte-112kdh0"><span class="meta-label svelte-112kdh0">Skill ID</span> <!></div> <div class="meta-group svelte-112kdh0"><span class="meta-label svelte-112kdh0">Section</span> <!></div> <div class="meta-group svelte-112kdh0"><span class="meta-label svelte-112kdh0">Category</span> <!></div> <div class="meta-group svelte-112kdh0"><span class="meta-label svelte-112kdh0">Est. Cost</span> <!></div></div>'),A=r('<div class="skill-tags svelte-112kdh0"><span class="tags-label svelte-112kdh0">Tags</span> <div class="tags-list svelte-112kdh0"></div></div>'),H=r('<p class="no-inputs svelte-112kdh0">This skill requires no inputs.</p>'),J=r('<span class="required svelte-112kdh0">*</span>'),N=r('<p class="input-description svelte-112kdh0"> </p>'),Q=r('<div class="checkbox-group svelte-112kdh0"><label class="svelte-112kdh0"><input type="checkbox" class="svelte-112kdh0"/> <!></label> <!></div>'),U=r('<div class="inputs-form svelte-112kdh0"></div>'),Z=r('<h2 class="svelte-112kdh0">Inputs</h2> <!> <div class="options-panel svelte-112kdh0"><h3 class="svelte-112kdh0">Execution Options</h3> <div class="option-group svelte-112kdh0"><label class="svelte-112kdh0"><input type="checkbox"/> Enable Streaming</label></div> <!> <div class="option-group svelte-112kdh0"><label for="temperature" class="svelte-112kdh0"> </label> <input type="range" id="temperature" min="0" max="1" step="0.1" class="option-slider svelte-112kdh0"/></div> <div class="option-group svelte-112kdh0"><label for="maxTokens" class="svelte-112kdh0"> </label> <input type="range" id="maxTokens" min="256" max="8192" step="256" class="option-slider svelte-112kdh0"/></div></div> <!>',1),K=r('<div class="streaming-output svelte-112kdh0"><pre> </pre> <div class="streaming-indicator svelte-112kdh0"><!></div></div>'),R=r('<div class="spinner svelte-112kdh0"></div> <p>Executing skill...</p>',1),V=r('<div class="output-loading svelte-112kdh0"><!></div>'),X=r('<div class="output-success svelte-112kdh0"><div class="output-content svelte-112kdh0"><pre class="svelte-112kdh0"> </pre></div></div>'),Y=r('<div class="output-content svelte-112kdh0"><pre class="svelte-112kdh0"> </pre></div>'),ee=r('<div class="output-success svelte-112kdh0"><div class="output-metadata svelte-112kdh0"><div class="meta-item svelte-112kdh0"><span class="meta-label svelte-112kdh0">Session ID</span> <!></div> <div class="meta-item svelte-112kdh0"><span class="meta-label svelte-112kdh0">Model</span> <!></div> <div class="meta-item svelte-112kdh0"><span class="meta-label svelte-112kdh0">Tokens</span> <!></div> <div class="meta-item svelte-112kdh0"><span class="meta-label svelte-112kdh0">Cost</span> <!></div> <div class="meta-item svelte-112kdh0"><span class="meta-label svelte-112kdh0">Latency</span> <!></div></div> <!></div>'),se=r('<div class="output-empty svelte-112kdh0"><p>No output yet. Configure inputs and click "Invoke Skill" to run.</p></div>'),ae=r('<div class="output-header svelte-112kdh0"><h2 class="svelte-112kdh0">Output</h2> <!></div> <!>',1),te=r('<div class="skill-detail"><div class="detail-header svelte-112kdh0"><!> <div class="header-content svelte-112kdh0"><div class="header-main svelte-112kdh0"><h1 class="svelte-112kdh0"> </h1> <!></div> <p class="skill-description svelte-112kdh0"> </p></div></div> <!> <!> <div class="content-grid svelte-112kdh0"><!> <!></div></div>'),le=r('<div class="skill-detail-container svelte-112kdh0"><!></div>');function re(r,re){o(re,!0);const[ie,de]=v();let ne=s(null),ve=s(!0),oe=s(null),ce=s(a({})),ue=s(!1),pe=s(null),he=s(""),ke=s(!1),me=s(!0),ge=s("claude-3.5-sonnet"),fe=s(.2),$e=s(4096);const be=p(()=>m(e,"$page",ie).params.id);async function ye(){if(c(ne)&&!c(ue)){u(ue,!0),u(pe,null),u(he,""),u(oe,null);try{if(c(me)){u(ke,!0);const e=I.invokeSkillStreaming(c(ne).id,{inputs:c(ce),options:{model:c(ge),temperature:c(fe),max_tokens:c($e)}});for await(const s of e)u(he,c(he)+s);u(ke,!1)}else u(pe,await I.invokeSkill(c(ne).id,{inputs:c(ce),options:{model:c(ge),temperature:c(fe),max_tokens:c($e)}}),!0)}catch(e){u(oe,e instanceof Error?e.message:"Invocation failed",!0),u(ke,!1)}finally{u(ue,!1)}}}function xe(){u(pe,null),u(he,""),u(oe,null)}t(async()=>{try{u(ne,await C.getSkill(c(be))||null,!0),c(ne)||u(oe,`Skill not found: ${c(be)}`),u(ve,!1)}catch(e){u(oe,e instanceof Error?e.message:"Failed to load skill",!0),u(ve,!1)}}),l(()=>{if(c(ne)){const e={};for(const[s,a]of Object.entries(c(ne).inputs))"boolean"===a.type?e[s]=!1:"number"===a.type?e[s]=0:"array"===a.type?e[s]=[]:e[s]="";u(ce,e,!0)}});var Te=le(),je=h(Te),ze=e=>{var s=D();d(e,s)},Se=e=>{var s=g(),a=f(s),t=e=>{var s=G(),a=f(s);W(a,{variant:"error",title:"Failed to Load Skill",children:(e,s)=>{$();var a=b();y(()=>x(a,c(oe))),d(e,a)},$$slots:{default:!0}});var t=T(a,2),l=h(t);B(l,{variant:"secondary",$$events:{click:()=>window.location.href="/library"},children:(e,s)=>{$();var a=b("← Back to Library");d(e,a)},$$slots:{default:!0}}),k(t),d(e,s)},l=e=>{var s=g(),a=f(s),t=e=>{var s=te(),a=h(s),t=h(a);B(t,{variant:"ghost",size:"sm",$$events:{click:()=>window.location.href="/library"},children:(e,s)=>{$();var a=b("← Back to Library");d(e,a)},$$slots:{default:!0}});var l=T(t,2),r=h(l),n=h(r),v=h(n,!0);k(n);var o=T(n,2);{let e=p(()=>"PUBLIC"===c(ne).access?"success":"warning");F(o,{get variant(){return c(e)},size:"lg",children:(e,s)=>{$();var a=b();y(()=>x(a,c(ne).access)),d(e,a)},$$slots:{default:!0}})}k(r);var m=T(r,2),C=h(m,!0);k(m),k(l),k(a);var I=T(a,2);L(I,{variant:"bordered",padding:"lg",children:(e,s)=>{var a=M(),t=h(a),l=T(h(t),2);F(l,{variant:"default",size:"sm",children:(e,s)=>{$();var a=b();y(()=>x(a,c(ne).id)),d(e,a)},$$slots:{default:!0}}),k(t);var r=T(t,2),i=T(h(r),2);F(i,{variant:"info",size:"sm",children:(e,s)=>{$();var a=b();y(()=>x(a,c(ne).section)),d(e,a)},$$slots:{default:!0}}),k(r);var n=T(r,2),v=T(h(n),2);F(v,{variant:"info",size:"sm",children:(e,s)=>{$();var a=b();y(()=>x(a,c(ne).category)),d(e,a)},$$slots:{default:!0}}),k(n);var o=T(n,2),u=T(h(o),2);F(u,{variant:"accent",size:"sm",children:(e,s)=>{$();var a=b();y((e,s)=>x(a,`$${e??""} - $${s??""}`),[()=>c(ne).estimatedCost.min.toFixed(3),()=>c(ne).estimatedCost.max.toFixed(3)]),d(e,a)},$$slots:{default:!0}}),k(o),k(a),d(e,a)},$$slots:{default:!0}});var D=T(I,2),G=e=>{var s=A(),a=T(h(s),2);q(a,21,()=>c(ne).tags,E,(e,s)=>{F(e,{variant:"default",size:"sm",outline:!0,children:(e,a)=>{$();var t=b();y(()=>x(t,c(s))),d(e,t)},$$slots:{default:!0}})}),k(a),k(s),d(e,s)};i(D,e=>{c(ne).tags.length>0&&e(G)});var le=T(D,2),re=h(le);L(re,{variant:"bordered",padding:"lg",children:(e,s)=>{var a=Z(),t=T(f(a),2),l=e=>{var s=H();d(e,s)},r=e=>{var s=U();q(s,21,()=>Object.entries(c(ne).inputs),E,(e,s)=>{var a=p(()=>w(c(s),2));let t=()=>c(a)[0],l=()=>c(a)[1];var r=g(),n=f(r),v=e=>{{let s=p(()=>l().description||"");P(e,{get label(){return t()},get helperText(){return c(s)},get required(){return l().required},fullWidth:!0,get value(){return c(ce)[t()]},set value(e){c(ce)[t()]=e}})}},o=e=>{var s=g(),a=f(s),r=e=>{{let s=p(()=>l().description||"");P(e,{type:"number",get label(){return t()},get helperText(){return c(s)},get required(){return l().required},fullWidth:!0,get value(){return c(ce)[t()]},set value(e){c(ce)[t()]=e}})}},n=e=>{var s=g(),a=f(s),r=e=>{var s=Q(),a=h(s),r=h(a);j(r);var n=T(r),v=T(n),o=e=>{var s=J();d(e,s)};i(v,e=>{l().required&&e(o)}),k(a);var u=T(a,2),p=e=>{var s=N(),a=h(s,!0);k(s),y(()=>x(a,l().description)),d(e,s)};i(u,e=>{l().description&&e(p)}),k(s),y(()=>x(n,` ${t()??""} `)),z(r,()=>c(ce)[t()],e=>c(ce)[t()]=e),d(e,s)},n=e=>{var s=g(),a=f(s),r=e=>{{let s=p(()=>l().description||"Enter comma-separated values");_(e,{get label(){return t()},get helperText(){return c(s)},get required(){return l().required},rows:3,fullWidth:!0,get value(){return c(ce)[t()]},set value(e){c(ce)[t()]=e}})}},n=e=>{{let s=p(()=>l().description||"");_(e,{get label(){return t()},get helperText(){return c(s)},get required(){return l().required},rows:5,fullWidth:!0,get value(){return c(ce)[t()]},set value(e){c(ce)[t()]=e}})}};i(a,e=>{"array"===l().type?e(r):e(n,!1)},!0),d(e,s)};i(a,e=>{"boolean"===l().type?e(r):e(n,!1)},!0),d(e,s)};i(a,e=>{"number"===l().type?e(r):e(n,!1)},!0),d(e,s)};i(n,e=>{"string"===l().type?e(v):e(o,!1)}),d(e,r)}),k(s),d(e,s)};i(t,e=>{0===Object.keys(c(ne).inputs).length?e(l):e(r,!1)});var n=T(t,2),v=T(h(n),2),o=h(v),m=h(o);j(m),$(),k(o),k(v);var C=T(v,2);O(C,{label:"Model",options:[{value:"claude-3.5-sonnet",label:"Claude 3.5 Sonnet"},{value:"gpt-4-turbo",label:"GPT-4 Turbo"},{value:"gpt-4",label:"GPT-4"}],fullWidth:!0,get value(){return c(ge)},set value(e){u(ge,e,!0)}});var I=T(C,2),W=h(I),F=h(W);k(W);var L=T(W,2);j(L),k(I);var D=T(I,2),G=h(D),M=h(G);k(G);var A=T(G,2);j(A),k(D),k(n);var K=T(n,2);B(K,{variant:"primary",size:"lg",fullWidth:!0,get loading(){return c(ue)},$$events:{click:ye},children:(e,s)=>{$();var a=b("Invoke Skill");d(e,a)},$$slots:{default:!0}}),y(()=>{x(F,`Temperature: ${c(fe)??""}`),x(M,`Max Tokens: ${c($e)??""}`)}),z(m,()=>c(me),e=>u(me,e)),S(L,()=>c(fe),e=>u(fe,e)),S(A,()=>c($e),e=>u($e,e)),d(e,a)},$$slots:{default:!0}});var ie=T(re,2);L(ie,{variant:"bordered",padding:"lg",children:(e,s)=>{var a=ae(),t=f(a),l=T(h(t),2),r=e=>{B(e,{variant:"ghost",size:"sm",$$events:{click:xe},children:(e,s)=>{$();var a=b("Clear");d(e,a)},$$slots:{default:!0}})};i(l,e=>{(c(pe)||c(he))&&e(r)}),k(t);var n=T(t,2),v=e=>{W(e,{variant:"error",title:"Error",children:(e,s)=>{$();var a=b();y(()=>x(a,c(oe))),d(e,a)},$$slots:{default:!0}})},o=e=>{var s=g(),a=f(s),t=e=>{var s=V(),a=h(s),t=e=>{var s=K(),a=h(s),t=h(a,!0);k(a);var l=T(a,2),r=h(l);F(r,{variant:"accent",dot:!0,children:(e,s)=>{$();var a=b("Streaming...");d(e,a)},$$slots:{default:!0}}),k(l),k(s),y(()=>x(t,c(he))),d(e,s)},l=e=>{var s=R();$(2),d(e,s)};i(a,e=>{c(ke)?e(t):e(l,!1)}),k(s),d(e,s)},l=e=>{var s=g(),a=f(s),t=e=>{var s=X(),a=h(s),t=h(a),l=h(t,!0);k(t),k(a),k(s),y(()=>x(l,c(he))),d(e,s)},l=e=>{var s=g(),a=f(s),t=e=>{var s=ee(),a=h(s),t=h(a),l=T(h(t),2);F(l,{variant:"default",size:"sm",children:(e,s)=>{$();var a=b();y(()=>x(a,c(pe).sessionId)),d(e,a)},$$slots:{default:!0}}),k(t);var r=T(t,2),n=T(h(r),2);F(n,{variant:"info",size:"sm",children:(e,s)=>{$();var a=b();y(()=>x(a,c(pe).metadata.model_used)),d(e,a)},$$slots:{default:!0}}),k(r);var v=T(r,2),o=T(h(v),2);F(o,{variant:"default",size:"sm",children:(e,s)=>{$();var a=b();y(()=>x(a,c(pe).metadata.tokens_used)),d(e,a)},$$slots:{default:!0}}),k(v);var u=T(v,2),p=T(h(u),2);F(p,{variant:"accent",size:"sm",children:(e,s)=>{$();var a=b();y(e=>x(a,`$${e??""}`),[()=>c(pe).metadata.cost.toFixed(4)]),d(e,a)},$$slots:{default:!0}}),k(u);var m=T(u,2),g=T(h(m),2);F(g,{variant:"default",size:"sm",children:(e,s)=>{$();var a=b();y(()=>x(a,`${c(pe).metadata.latency_ms??""}ms`)),d(e,a)},$$slots:{default:!0}}),k(m),k(a);var f=T(a,2),j=e=>{var s=Y(),a=h(s),t=h(a,!0);k(a),k(s),y(()=>x(t,c(pe).output)),d(e,s)},z=e=>{W(e,{variant:"error",title:"Execution Error",children:(e,s)=>{$();var a=b();y(()=>x(a,c(pe).error)),d(e,a)},$$slots:{default:!0}})};i(f,e=>{"success"===c(pe).status?e(j):e(z,!1)}),k(s),d(e,s)},l=e=>{var s=se();d(e,s)};i(a,e=>{c(pe)?e(t):e(l,!1)},!0),d(e,s)};i(a,e=>{c(he)?e(t):e(l,!1)},!0),d(e,s)};i(a,e=>{c(ue)?e(t):e(l,!1)},!0),d(e,s)};i(n,e=>{c(oe)?e(v):e(o,!1)}),d(e,a)},$$slots:{default:!0}}),k(le),k(s),y(()=>{x(v,c(ne).name),x(C,c(ne).description)}),d(e,s)};i(a,e=>{c(ne)&&e(t)},!0),d(e,s)};i(a,e=>{c(oe)&&!c(ne)?e(t):e(l,!1)},!0),d(e,s)};i(je,e=>{c(ve)?e(ze):e(Se,!1)}),k(Te),d(r,Te),n(),de()}export{re as component};
