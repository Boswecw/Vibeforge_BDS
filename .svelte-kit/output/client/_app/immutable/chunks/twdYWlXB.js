import{p as B,a as h,o as F,f as y,m as b,F as Q,a2 as S,g as t,q as n,r as g,w as H,U as u,L as U,h as R,n as k,Q as A,j as D,s as w,c as _}from"./CJ97sMGe.js";var E=y('<div class="virtual-list-item svelte-141dx9j"><!></div>'),G=y('<div class="virtual-list-container svelte-141dx9j"><div class="virtual-list-spacer svelte-141dx9j"><div class="virtual-list-content svelte-141dx9j"></div></div></div>');function K(I,a){B(a,!0);let f=h(a,"items",19,()=>[]),o=h(a,"itemHeight",3,100),j=h(a,"buffer",3,5),z=h(a,"height",3,"600px"),v=h(a,"gap",3,0),c,M=w(0),m=w(600),C=n(()=>f().length*(o()+v())),L=n(()=>Math.ceil(t(m)/(o()+v()))),r=n(()=>Math.max(0,Math.floor(t(M)/(o()+v()))-j())),O=n(()=>Math.min(f().length,t(r)+t(L)+j()*2)),T=n(()=>f().slice(t(r),t(O))),V=n(()=>t(r)*(o()+v()));function Y(e){const i=e.target;_(M,i.scrollTop,!0)}F(()=>{if(c){const e=c.getBoundingClientRect();_(m,e.height,!0);const i=new ResizeObserver(d=>{for(const s of d)_(m,s.contentRect.height,!0)});return i.observe(c),()=>{i.disconnect()}}});var l=G(),x=b(l),p=b(x);Q(p,23,()=>t(T),(e,i)=>t(r)+i,(e,i,d)=>{var s=E(),q=b(s);S(q,()=>a.children,()=>({item:t(i),index:t(r)+t(d)})),g(s),H(()=>{u(s,`height: ${o()??""}px; margin-bottom: ${v()??""}px;`),U(s,"data-index",t(r)+t(d))}),R(e,s)}),g(p),g(x),g(l),k(l,e=>c=e,()=>c),H(()=>{u(l,`height: ${z()??""}; overflow-y: auto;`),u(x,`height: ${t(C)??""}px;`),u(p,`transform: translateY(${t(V)??""}px);`)}),A("scroll",l,Y),R(I,l),D()}export{K as V};
