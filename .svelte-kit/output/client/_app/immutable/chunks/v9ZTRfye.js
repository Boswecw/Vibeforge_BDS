var a=Object.defineProperty;var o=(t,l,s)=>l in t?a(t,l,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[l]=s;var e=(t,l,s)=>o(t,typeof l!="symbol"?l+"":l,s);import{f as k}from"./DZdTBaFY.js";class g{constructor(){e(this,"allSkills",[]);e(this,"skillsLoaded",!1);e(this,"loadingPromise",null)}async loadSkills(){return this.skillsLoaded?this.allSkills:this.loadingPromise?this.loadingPromise:(this.loadingPromise=k.listSkills().then(l=>(this.allSkills=l.skills,this.skillsLoaded=!0,this.allSkills)),this.loadingPromise)}async getAllSkills(){return this.loadSkills()}async getSkill(l){return(await this.getAllSkills()).find(i=>i.id===l)}async getSkillsBySection(){return(await this.getAllSkills()).reduce((s,i)=>(s[i.section]||(s[i.section]=[]),s[i.section].push(i),s),{})}async getSkillsByCategory(){return(await this.getAllSkills()).reduce((s,i)=>(s[i.category]||(s[i.category]=[]),s[i.category].push(i),s),{})}async search(l){const s=await this.getAllSkills(),i=l.toLowerCase();return s.filter(r=>r.name.toLowerCase().includes(i)||r.description.toLowerCase().includes(i)||r.tags.some(n=>n.toLowerCase().includes(i)))}async getPublicSkills(){return(await this.getAllSkills()).filter(s=>s.access==="PUBLIC")}async getBDSOnlySkills(){return(await this.getAllSkills()).filter(s=>s.access==="BDS_ONLY")}clearCache(){this.allSkills=[],this.skillsLoaded=!1,this.loadingPromise=null}}const h=new g;export{h as s};
