import{f as I,a as H}from"./CHRq6SN2.js";import{o as S}from"./afJwds1U.js";import{p as k,c as b,g as t,u as l,r as h,t as R,a as q,b as y,s as _}from"./LjYFlPRR.js";import{e as A}from"./CedpH895.js";import{e as D}from"./xbjVpMZg.js";import{s as E}from"./BOo5x6Gw.js";import{s as F}from"./B4R2PCZ7.js";import{s as f}from"./Cm_8TLV5.js";import{b as G}from"./DUJ5kSHY.js";import{p as c}from"./KPNkJdFe.js";var J=I('<div class="virtual-list-item svelte-141dx9j"><!></div>'),K=I('<div class="virtual-list-container svelte-141dx9j"><div class="virtual-list-spacer svelte-141dx9j"><div class="virtual-list-content svelte-141dx9j"></div></div></div>');function it(w,r){k(r,!0);let g=c(r,"items",19,()=>[]),n=c(r,"itemHeight",3,100),M=c(r,"buffer",3,5),z=c(r,"height",3,"600px"),m=c(r,"gap",3,0),v,j=y(0),u=y(600),C=l(()=>g().length*(n()+m())),O=l(()=>Math.ceil(t(u)/(n()+m()))),a=l(()=>Math.max(0,Math.floor(t(j)/(n()+m()))-M())),T=l(()=>Math.min(g().length,t(a)+t(O)+M()*2)),V=l(()=>g().slice(t(a),t(T))),Y=l(()=>t(a)*(n()+m()));function B(e){const i=e.target;_(j,i.scrollTop,!0)}S(()=>{if(v){const e=v.getBoundingClientRect();_(u,e.height,!0);const i=new ResizeObserver(d=>{for(const s of d)_(u,s.contentRect.height,!0)});return i.observe(v),()=>{i.disconnect()}}});var o=K(),p=b(o),x=b(p);D(x,23,()=>t(V),(e,i)=>t(a)+i,(e,i,d)=>{var s=J(),L=b(s);E(L,()=>r.children,()=>({item:t(i),index:t(a)+t(d)})),h(s),R(()=>{f(s,`height: ${n()??""}px; margin-bottom: ${m()??""}px;`),F(s,"data-index",t(a)+t(d))}),H(e,s)}),h(x),h(p),h(o),G(o,e=>v=e,()=>v),R(()=>{f(o,`height: ${z()??""}; overflow-y: auto;`),f(p,`height: ${t(C)??""}px;`),f(x,`transform: translateY(${t(Y)??""}px);`)}),A("scroll",o,B),H(w,o),q()}export{it as V};
