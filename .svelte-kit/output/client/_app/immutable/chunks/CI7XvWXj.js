import{p as ar,a as tr,o as sr,a5 as or,k as m,d as h,i as w,h as a,j as nr,c as x,s as z,g as l,q as lr,a2 as C,f as H,m as f,e as u,H as b,v as j,w as L,x as A,r as k}from"./CJ97sMGe.js";import{a as B,e as ir}from"./CUflB2Gp.js";import{P as dr,B as F}from"./D8s3w_7f.js";import{A as vr}from"./BsnCgw2C.js";var cr=H('<details class="error-details svelte-1k3aqik"><summary class="svelte-1k3aqik">Technical Details</summary> <pre class="error-stack svelte-1k3aqik"> </pre></details>'),fr=H('<div class="error-container svelte-1k3aqik"><div class="error-icon svelte-1k3aqik">⚠️</div> <h2 class="svelte-1k3aqik">Something went wrong</h2> <!> <!> <div class="error-actions svelte-1k3aqik"><!> <!></div> <p class="error-id svelte-1k3aqik"> </p></div>'),ur=H('<div class="error-boundary svelte-1k3aqik"><!></div>');function gr(G,i){ar(i,!0);let J=tr(i,"showDetails",3,!1),d=z(null),p=z(""),K=lr(()=>l(d)!==null),g=null,E=null;sr(()=>{g=r=>{var t;const e=B(r.error);q(e,((t=r.error)==null?void 0:t.stack)||""),r.preventDefault()},E=r=>{var t;const e=B(r.reason);q(e,((t=r.reason)==null?void 0:t.stack)||""),r.preventDefault()},window.addEventListener("error",g),window.addEventListener("unhandledrejection",E)}),or(()=>{g&&window.removeEventListener("error",g),E&&window.removeEventListener("unhandledrejection",E)});function q(r,e=""){x(d,r,!0),x(p,e,!0),ir.addError(r),i.onError&&i.onError(r)}function N(){x(d,null),x(p,"")}function O(r){const e=B(r);q(e,r instanceof Error&&r.stack||"")}var Q={catchError:O},I=m(),U=h(I);{var V=r=>{var e=m(),t=h(e);{var y=s=>{var v=m(),D=h(v);C(D,()=>i.fallback,()=>l(d)),a(s,v)},_=s=>{var v=ur(),D=f(v);dr(D,{variant:"elevated",padding:"lg",children:(X,kr)=>{var P=fr(),M=u(f(P),4);vr(M,{variant:"error",get title(){return l(d).category},children:(o,c)=>{b();var n=j();L(()=>A(n,l(d).userMessage)),a(o,n)},$$slots:{default:!0}});var R=u(M,2);{var Y=o=>{var c=cr(),n=u(f(c),2),er=f(n,!0);k(n),k(c),L(()=>A(er,l(p))),a(o,c)};w(R,o=>{J()&&l(p)&&o(Y)})}var $=u(R,2),S=f($);F(S,{variant:"primary",$$events:{click:N},children:(o,c)=>{b();var n=j("Try Again");a(o,n)},$$slots:{default:!0}});var Z=u(S,2);F(Z,{variant:"secondary",$$events:{click:()=>window.location.reload()},children:(o,c)=>{b();var n=j("Reload Page");a(o,n)},$$slots:{default:!0}}),k($);var T=u($,2),rr=f(T);k(T),k(P),L(()=>A(rr,`Error ID: ${l(d).id??""}`)),a(X,P)},$$slots:{default:!0}}),k(v),a(s,v)};w(t,s=>{i.fallback?s(y):s(_,!1)})}a(r,e)},W=r=>{var e=m(),t=h(e);{var y=_=>{var s=m(),v=h(s);C(v,()=>i.children),a(_,s)};w(t,_=>{i.children&&_(y)},!0)}a(r,e)};w(U,r=>{l(K)&&l(d)?r(V):r(W,!1)})}return a(G,I),nr(Q)}export{gr as E};
