import{p as t,a as s,o as a,f as e,m as i,E as n,a5 as l,g as o,q as r,r as c,w as v,X as h,L as d,h as g,n as x,Q as f,j as m,s as p,c as u}from"./C9wVddXz.js";var j=e('<div class="virtual-list-item svelte-141dx9j"><!></div>'),$=e('<div class="virtual-list-container svelte-141dx9j"><div class="virtual-list-spacer svelte-141dx9j"><div class="virtual-list-content svelte-141dx9j"></div></div></div>');function b(e,b){t(b,!0);let M,w=s(b,"items",19,()=>[]),R=s(b,"itemHeight",3,100),q=s(b,"buffer",3,5),y=s(b,"height",3,"600px"),z=s(b,"gap",3,0),B=p(0),C=p(600),E=r(()=>w().length*(R()+z())),H=r(()=>Math.ceil(o(C)/(R()+z()))),L=r(()=>Math.max(0,Math.floor(o(B)/(R()+z()))-q())),O=r(()=>Math.min(w().length,o(L)+o(H)+2*q())),Q=r(()=>w().slice(o(L),o(O))),T=r(()=>o(L)*(R()+z()));a(()=>{if(M){const t=M.getBoundingClientRect();u(C,t.height,!0);const s=new ResizeObserver(t=>{for(const s of t)u(C,s.contentRect.height,!0)});return s.observe(M),()=>{s.disconnect()}}});var V=$(),X=i(V),Y=i(X);n(Y,23,()=>o(Q),(t,s)=>o(L)+s,(t,s,a)=>{var e=j(),n=i(e);l(n,()=>b.children,()=>({item:o(s),index:o(L)+o(a)})),c(e),v(()=>{h(e,`height: ${R()??""}px; margin-bottom: ${z()??""}px;`),d(e,"data-index",o(L)+o(a))}),g(t,e)}),c(Y),c(X),c(V),x(V,t=>M=t,()=>M),v(()=>{h(V,`height: ${y()??""}; overflow-y: auto;`),h(X,`height: ${o(E)??""}px;`),h(Y,`transform: translateY(${o(T)??""}px);`)}),f("scroll",V,function(t){const s=t.target;u(B,s.scrollTop,!0)}),g(e,V),m()}export{b as V};
