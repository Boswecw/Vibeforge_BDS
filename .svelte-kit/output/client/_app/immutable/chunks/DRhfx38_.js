var l=Object.defineProperty,s=(s,i,e)=>((s,i,e)=>i in s?l(s,i,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[i]=e)(s,"symbol"!=typeof i?i+"":i,e);import{f as i}from"./Bt2SublD.js";const e=new class{constructor(){s(this,"allSkills",[]),s(this,"skillsLoaded",!1),s(this,"loadingPromise",null)}async loadSkills(){return this.skillsLoaded?this.allSkills:(this.loadingPromise||(this.loadingPromise=i.listSkills().then(l=>(this.allSkills=l.skills,this.skillsLoaded=!0,this.allSkills))),this.loadingPromise)}async getAllSkills(){return this.loadSkills()}async getSkill(l){return(await this.getAllSkills()).find(s=>s.id===l)}async getSkillsBySection(){return(await this.getAllSkills()).reduce((l,s)=>(l[s.section]||(l[s.section]=[]),l[s.section].push(s),l),{})}async getSkillsByCategory(){return(await this.getAllSkills()).reduce((l,s)=>(l[s.category]||(l[s.category]=[]),l[s.category].push(s),l),{})}async search(l){const s=await this.getAllSkills(),i=l.toLowerCase();return s.filter(l=>l.name.toLowerCase().includes(i)||l.description.toLowerCase().includes(i)||l.tags.some(l=>l.toLowerCase().includes(i)))}async getPublicSkills(){return(await this.getAllSkills()).filter(l=>"PUBLIC"===l.access)}async getBDSOnlySkills(){return(await this.getAllSkills()).filter(l=>"BDS_ONLY"===l.access)}clearCache(){this.allSkills=[],this.skillsLoaded=!1,this.loadingPromise=null}};export{e as s};
