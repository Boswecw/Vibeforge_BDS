import{p as t,c as s,o as e,e as a,q as i,G as l,a4 as n,g as r,x as o,r as c,z as v,V as h,M as d,k as g,v as x,Q as f,l as m,s as p,a as u}from"./CS1oB8eq.js";var j=a('<div class="virtual-list-item svelte-141dx9j"><!></div>'),M=a('<div class="virtual-list-container svelte-141dx9j"><div class="virtual-list-spacer svelte-141dx9j"><div class="virtual-list-content svelte-141dx9j"></div></div></div>');function $(a,$){t($,!0);let b,R=s($,"items",19,()=>[]),w=s($,"itemHeight",3,100),z=s($,"buffer",3,5),V=s($,"height",3,"600px"),k=s($,"gap",3,0),q=p(0),y=p(600),B=o(()=>R().length*(w()+k())),C=o(()=>Math.ceil(r(y)/(w()+k()))),G=o(()=>Math.max(0,Math.floor(r(q)/(w()+k()))-z())),H=o(()=>Math.min(R().length,r(G)+r(C)+2*z())),O=o(()=>R().slice(r(G),r(H))),Q=o(()=>r(G)*(w()+k()));e(()=>{if(b){const t=b.getBoundingClientRect();u(y,t.height,!0);const s=new ResizeObserver(t=>{for(const s of t)u(y,s.contentRect.height,!0)});return s.observe(b),()=>{s.disconnect()}}});var T=M(),Y=i(T),A=i(Y);l(A,23,()=>r(O),(t,s)=>r(G)+s,(t,s,e)=>{var a=j(),l=i(a);n(l,()=>$.children,()=>({item:r(s),index:r(G)+r(e)})),c(a),v(()=>{h(a,`height: ${w()??""}px; margin-bottom: ${k()??""}px;`),d(a,"data-index",r(G)+r(e))}),g(t,a)}),c(A),c(Y),c(T),x(T,t=>b=t,()=>b),v(()=>{h(T,`height: ${V()??""}; overflow-y: auto;`),h(Y,`height: ${r(B)??""}px;`),h(A,`transform: translateY(${r(Q)??""}px);`)}),f("scroll",T,function(t){const s=t.target;u(q,s.scrollTop,!0)}),g(a,T),m()}export{$ as V};
