const e=!1,r={"<":"\\u003C","\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\u2028":"\\u2028","\u2029":"\\u2029"};class t extends Error{constructor(e,r){super(e),this.name="DevalueError",this.path=r.join("")}}function n(e){return Object(e)!==e}const a=Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function o(e){const r=Object.getPrototypeOf(e);return r===Object.prototype||null===r||null===Object.getPrototypeOf(r)||Object.getOwnPropertyNames(r).sort().join("\0")===a}function i(e){return Object.prototype.toString.call(e).slice(8,-1)}function s(e){switch(e){case'"':return'\\"';case"<":return"\\u003C";case"\\":return"\\\\";case"\n":return"\\n";case"\r":return"\\r";case"\t":return"\\t";case"\b":return"\\b";case"\f":return"\\f";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029";default:return e<" "?`\\u${e.charCodeAt(0).toString(16).padStart(4,"0")}`:""}}function c(e){let r="",t=0;const n=e.length;for(let a=0;a<n;a+=1){const n=s(e[a]);n&&(r+=e.slice(t,a)+n,t=a+1)}return`"${0===t?e:r+e.slice(t)}"`}function f(e){return Object.getOwnPropertySymbols(e).filter(r=>Object.getOwnPropertyDescriptor(e,r).enumerable)}const u=/^[a-zA-Z_$][a-zA-Z_$0-9]*$/;function l(e){return u.test(e)?"."+e:"["+JSON.stringify(e)+"]"}const p="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ_$",h=/[<\b\f\n\r\t\0\u2028\u2029]/g,y=/^(?:do|if|in|for|int|let|new|try|var|byte|case|char|else|enum|goto|long|this|void|with|await|break|catch|class|const|final|float|short|super|throw|while|yield|delete|double|export|import|native|return|switch|throws|typeof|boolean|default|extends|finally|package|private|abstract|continue|debugger|function|volatile|interface|protected|transient|implements|instanceof|synchronized)$/;function g(e,r){const a=new Map,s=[],u=new Map;!function e(c){if(!n(c)){if(a.has(c))return void a.set(c,a.get(c)+1);if(a.set(c,1),r){const e=r(c,e=>g(e,r));if("string"==typeof e)return void u.set(c,e)}if("function"==typeof c)throw new t("Cannot stringify a function",s);switch(i(c)){case"Number":case"BigInt":case"String":case"Boolean":case"Date":case"RegExp":case"URL":case"URLSearchParams":case"ArrayBuffer":case"Temporal.Duration":case"Temporal.Instant":case"Temporal.PlainDate":case"Temporal.PlainTime":case"Temporal.PlainDateTime":case"Temporal.PlainMonthDay":case"Temporal.PlainYearMonth":case"Temporal.ZonedDateTime":return;case"Array":c.forEach((r,t)=>{s.push(`[${t}]`),e(r),s.pop()});break;case"Set":Array.from(c).forEach(e);break;case"Map":for(const[r,t]of c)s.push(`.get(${n(r)?d(r):"..."})`),e(t),s.pop();break;case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"BigInt64Array":case"BigUint64Array":return void e(c.buffer);default:if(!o(c))throw new t("Cannot stringify arbitrary non-POJOs",s);if(f(c).length>0)throw new t("Cannot stringify POJOs with symbolic keys",s);for(const r in c)s.push(l(r)),e(c[r]),s.pop()}}}(e);const h=new Map;function m(e){if(h.has(e))return h.get(e);if(n(e))return d(e);if(u.has(e))return u.get(e);const r=i(e);switch(r){case"Number":case"String":case"Boolean":return`Object(${m(e.valueOf())})`;case"RegExp":return`new RegExp(${c(e.source)}, "${e.flags}")`;case"Date":return`new Date(${e.getTime()})`;case"URL":return`new URL(${c(e.toString())})`;case"URLSearchParams":return`new URLSearchParams(${c(e.toString())})`;case"Array":const t=e.map((r,t)=>t in e?m(r):""),n=0===e.length||e.length-1 in e?"":",";return`[${t.join(",")}${n}]`;case"Set":case"Map":return`new ${r}([${Array.from(e).map(m).join(",")}])`;case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"BigInt64Array":case"BigUint64Array":{let t=`new ${r}`;if(1===a.get(e.buffer)){t+=`([${new e.constructor(e.buffer)}])`}else t+=`([${m(e.buffer)}])`;const n=e.byteOffset,o=n+e.byteLength;if(n>0||o!==e.buffer.byteLength){const e=+/(\d+)/.exec(r)[1]/8;t+=`.subarray(${n/e},${o/e})`}return t}case"ArrayBuffer":return`new Uint8Array([${new Uint8Array(e).toString()}]).buffer`;case"Temporal.Duration":case"Temporal.Instant":case"Temporal.PlainDate":case"Temporal.PlainTime":case"Temporal.PlainDateTime":case"Temporal.PlainMonthDay":case"Temporal.PlainYearMonth":case"Temporal.ZonedDateTime":return`${r}.from(${c(e.toString())})`;default:const o=Object.keys(e),i=o.map(r=>`${function(e){return/^[_$a-zA-Z][_$a-zA-Z0-9]*$/.test(e)?e:b(JSON.stringify(e))}(r)}:${m(e[r])}`).join(",");return null===Object.getPrototypeOf(e)?o.length>0?`{${i},__proto__:null}`:"{__proto__:null}":`{${i}}`}}Array.from(a).filter(e=>e[1]>1).sort((e,r)=>r[1]-e[1]).forEach((e,r)=>{h.set(e[0],function(e){let r="";do{r=p[e%54]+r,e=~~(e/54)-1}while(e>=0);return y.test(r)?`${r}0`:r}(r))});const w=m(e);if(h.size){const e=[],r=[],t=[];return h.forEach((a,o)=>{if(e.push(a),u.has(o))return void t.push(u.get(o));if(n(o))return void t.push(d(o));switch(i(o)){case"Number":case"String":case"Boolean":t.push(`Object(${m(o.valueOf())})`);break;case"RegExp":t.push(o.toString());break;case"Date":t.push(`new Date(${o.getTime()})`);break;case"Array":t.push(`Array(${o.length})`),o.forEach((e,t)=>{r.push(`${a}[${t}]=${m(e)}`)});break;case"Set":t.push("new Set"),r.push(`${a}.${Array.from(o).map(e=>`add(${m(e)})`).join(".")}`);break;case"Map":t.push("new Map"),r.push(`${a}.${Array.from(o).map(([e,r])=>`set(${m(e)}, ${m(r)})`).join(".")}`);break;case"ArrayBuffer":t.push(`new Uint8Array([${new Uint8Array(o).join(",")}]).buffer`);break;default:t.push(null===Object.getPrototypeOf(o)?"Object.create(null)":"{}"),Object.keys(o).forEach(e=>{r.push(`${a}${function(e){return/^[_$a-zA-Z][_$a-zA-Z0-9]*$/.test(e)?`.${e}`:`[${b(JSON.stringify(e))}]`}(e)}=${m(o[e])}`)})}}),r.push(`return ${w}`),`(function(${e.join(",")}){${r.join(";")}}(${t.join(",")}))`}return w}function m(e){return r[e]||e}function b(e){return e.replace(h,m)}function d(e){if("string"==typeof e)return c(e);if(void 0===e)return"void 0";if(0===e&&1/e<0)return"-0";const r=String(e);return"number"==typeof e?r.replace(/^(-)?0\./,"$1."):"bigint"==typeof e?e+"n":r}function w(e){const r=new DataView(e);let t="";for(let n=0;n<e.byteLength;n++)t+=String.fromCharCode(r.getUint8(n));return function(e){let r="";for(let t=0;t<e.length;t+=3){const n=[void 0,void 0,void 0,void 0];n[0]=e.charCodeAt(t)>>2,n[1]=(3&e.charCodeAt(t))<<4,e.length>t+1&&(n[1]|=e.charCodeAt(t+1)>>4,n[2]=(15&e.charCodeAt(t+1))<<2),e.length>t+2&&(n[2]|=e.charCodeAt(t+2)>>6,n[3]=63&e.charCodeAt(t+2));for(let e=0;e<n.length;e++)void 0===n[e]?r+="=":r+=$[n[e]]}return r}(t)}function A(e){const r=function(e){e.length%4==0&&(e=e.replace(/==?$/,""));let r="",t=0,n=0;for(let a=0;a<e.length;a++)t<<=6,t|=$.indexOf(e[a]),n+=6,24===n&&(r+=String.fromCharCode((16711680&t)>>16),r+=String.fromCharCode((65280&t)>>8),r+=String.fromCharCode(255&t),t=n=0);12===n?(t>>=4,r+=String.fromCharCode(t)):18===n&&(t>>=2,r+=String.fromCharCode((65280&t)>>8),r+=String.fromCharCode(255&t));return r}(e),t=new ArrayBuffer(r.length),n=new DataView(t);for(let a=0;a<t.byteLength;a++)n.setUint8(a,r.charCodeAt(a));return t}const $="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function S(e,r){return function(e,r){if("number"==typeof e)return a(e,!0);if(!Array.isArray(e)||0===e.length)throw new Error("Invalid input");const t=e,n=Array(t.length);function a(e,o=!1){if(-1===e)return;if(-3===e)return NaN;if(-4===e)return 1/0;if(-5===e)return-1/0;if(-6===e)return-0;if(o||"number"!=typeof e)throw new Error("Invalid input");if(e in n)return n[e];const i=t[e];if(i&&"object"==typeof i)if(Array.isArray(i))if("string"==typeof i[0]){const o=i[0],s=r?.[o];if(s){let r=i[1];return"number"!=typeof r&&(r=t.push(i[1])-1),n[e]=s(a(r))}switch(o){case"Date":n[e]=new Date(i[1]);break;case"Set":const r=new Set;n[e]=r;for(let e=1;e<i.length;e+=1)r.add(a(i[e]));break;case"Map":const t=new Map;n[e]=t;for(let e=1;e<i.length;e+=2)t.set(a(i[e]),a(i[e+1]));break;case"RegExp":n[e]=new RegExp(i[1],i[2]);break;case"Object":n[e]=Object(i[1]);break;case"BigInt":n[e]=BigInt(i[1]);break;case"null":const s=Object.create(null);n[e]=s;for(let e=1;e<i.length;e+=2)s[i[e]]=a(i[e+1]);break;case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"BigInt64Array":case"BigUint64Array":{const r=new(0,globalThis[o])(a(i[1]));n[e]=void 0!==i[2]?r.subarray(i[2],i[3]):r;break}case"ArrayBuffer":{const r=A(i[1]);n[e]=r;break}case"Temporal.Duration":case"Temporal.Instant":case"Temporal.PlainDate":case"Temporal.PlainTime":case"Temporal.PlainDateTime":case"Temporal.PlainMonthDay":case"Temporal.PlainYearMonth":case"Temporal.ZonedDateTime":{const r=o.slice(9);n[e]=Temporal[r].from(i[1]);break}case"URL":{const r=new URL(i[1]);n[e]=r;break}case"URLSearchParams":{const r=new URLSearchParams(i[1]);n[e]=r;break}default:throw new Error(`Unknown type ${o}`)}}else{const r=new Array(i.length);n[e]=r;for(let e=0;e<i.length;e+=1){const t=i[e];-2!==t&&(r[e]=a(t))}}else{const r={};n[e]=r;for(const e in i){if("__proto__"===e)throw new Error("Cannot parse an object with a `__proto__` property");const t=i[e];r[e]=a(t)}}else n[e]=i;return n[e]}return a(0)}(JSON.parse(e),r)}function v(e,r){const a=[],s=new Map,u=[];if(r)for(const t of Object.getOwnPropertyNames(r))u.push({key:t,fn:r[t]});const p=[];let h=0;const y=function e(r){if(void 0===r)return-1;if(Number.isNaN(r))return-3;if(r===1/0)return-4;if(r===-1/0)return-5;if(0===r&&1/r<0)return-6;if(s.has(r))return s.get(r);const y=h++;s.set(r,y);for(const{key:t,fn:n}of u){const o=n(r);if(o)return a[y]=`["${t}",${e(o)}]`,y}if("function"==typeof r)throw new t("Cannot stringify a function",p);let g="";if(n(r))g=O(r);else{const a=i(r);switch(a){case"Number":case"String":case"Boolean":g=`["Object",${O(r)}]`;break;case"BigInt":g=`["BigInt",${r}]`;break;case"Date":g=`["Date","${!isNaN(r.getDate())?r.toISOString():""}"]`;break;case"URL":g=`["URL",${c(r.toString())}]`;break;case"URLSearchParams":g=`["URLSearchParams",${c(r.toString())}]`;break;case"RegExp":const{source:i,flags:s}=r;g=s?`["RegExp",${c(i)},"${s}"]`:`["RegExp",${c(i)}]`;break;case"Array":g="[";for(let t=0;t<r.length;t+=1)t>0&&(g+=","),t in r?(p.push(`[${t}]`),g+=e(r[t]),p.pop()):g+=-2;g+="]";break;case"Set":g='["Set"';for(const t of r)g+=`,${e(t)}`;g+="]";break;case"Map":g='["Map"';for(const[t,a]of r)p.push(`.get(${n(t)?O(t):"..."})`),g+=`,${e(t)},${e(a)}`,p.pop();g+="]";break;case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"BigInt64Array":case"BigUint64Array":{const t=r;g='["'+a+'",'+e(t.buffer);const n=r.byteOffset,o=n+r.byteLength;if(n>0||o!==t.buffer.byteLength){const e=+/(\d+)/.exec(a)[1]/8;g+=`,${n/e},${o/e}`}g+="]";break}case"ArrayBuffer":g=`["ArrayBuffer","${w(r)}"]`;break;case"Temporal.Duration":case"Temporal.Instant":case"Temporal.PlainDate":case"Temporal.PlainTime":case"Temporal.PlainDateTime":case"Temporal.PlainMonthDay":case"Temporal.PlainYearMonth":case"Temporal.ZonedDateTime":g=`["${a}",${c(r.toString())}]`;break;default:if(!o(r))throw new t("Cannot stringify arbitrary non-POJOs",p);if(f(r).length>0)throw new t("Cannot stringify POJOs with symbolic keys",p);if(null===Object.getPrototypeOf(r)){g='["null"';for(const t in r)p.push(l(t)),g+=`,${c(t)},${e(r[t])}`,p.pop();g+="]"}else{g="{";let t=!1;for(const n in r)t&&(g+=","),t=!0,p.push(l(n)),g+=`${c(n)}:${e(r[n])}`,p.pop();g+="}"}}}return a[y]=g,y}(e);return y<0?`${y}`:`[${a.join(",")}]`}function O(e){const r=typeof e;return"string"===r?c(e):e instanceof String?c(e.toString()):void 0===e?(-1).toString():0===e&&1/e<0?(-6).toString():"bigint"===r?`["BigInt","${e}"]`:String(e)}function k(e){var r,t,n="";if("string"==typeof e||"number"==typeof e)n+=e;else if("object"==typeof e)if(Array.isArray(e)){var a=e.length;for(r=0;r<a;r++)e[r]&&(t=k(e[r]))&&(n&&(n+=" "),n+=t)}else for(t in e)e[t]&&(n&&(n+=" "),n+=t);return n}function T(){for(var e,r,t=0,n="",a=arguments.length;t<a;t++)(e=arguments[t])&&(r=k(e))&&(n&&(n+=" "),n+=r);return n}var j,C={};function P(){if(j)return C;j=1,C.parse=function(e,r){if("string"!=typeof e)throw new TypeError("argument str must be a string");var n={},o=(r||{}).decode||t,i=0;for(;i<e.length;){var s=e.indexOf("=",i);if(-1===s)break;var c=e.indexOf(";",i);if(-1===c)c=e.length;else if(c<s){i=e.lastIndexOf(";",s-1)+1;continue}var f=e.slice(i,s).trim();if(void 0===n[f]){var u=e.slice(s+1,c).trim();34===u.charCodeAt(0)&&(u=u.slice(1,-1)),n[f]=a(u,o)}i=c+1}return n},C.serialize=function(t,a,o){var i=o||{},s=i.encode||n;if("function"!=typeof s)throw new TypeError("option encode is invalid");if(!r.test(t))throw new TypeError("argument name is invalid");var c=s(a);if(c&&!r.test(c))throw new TypeError("argument val is invalid");var f=t+"="+c;if(null!=i.maxAge){var u=i.maxAge-0;if(isNaN(u)||!isFinite(u))throw new TypeError("option maxAge is invalid");f+="; Max-Age="+Math.floor(u)}if(i.domain){if(!r.test(i.domain))throw new TypeError("option domain is invalid");f+="; Domain="+i.domain}if(i.path){if(!r.test(i.path))throw new TypeError("option path is invalid");f+="; Path="+i.path}if(i.expires){var l=i.expires;if(!function(r){return"[object Date]"===e.call(r)||r instanceof Date}(l)||isNaN(l.valueOf()))throw new TypeError("option expires is invalid");f+="; Expires="+l.toUTCString()}i.httpOnly&&(f+="; HttpOnly");i.secure&&(f+="; Secure");i.partitioned&&(f+="; Partitioned");if(i.priority){switch("string"==typeof i.priority?i.priority.toLowerCase():i.priority){case"low":f+="; Priority=Low";break;case"medium":f+="; Priority=Medium";break;case"high":f+="; Priority=High";break;default:throw new TypeError("option priority is invalid")}}if(i.sameSite){switch("string"==typeof i.sameSite?i.sameSite.toLowerCase():i.sameSite){case!0:f+="; SameSite=Strict";break;case"lax":f+="; SameSite=Lax";break;case"strict":f+="; SameSite=Strict";break;case"none":f+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return f};var e=Object.prototype.toString,r=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function t(e){return-1!==e.indexOf("%")?decodeURIComponent(e):e}function n(e){return encodeURIComponent(e)}function a(e,r){try{return r(e)}catch(t){return e}}return C}var U,x=P(),D={exports:{}};function I(){if(U)return D.exports;U=1;var e={decodeValues:!0,map:!1,silent:!1};function r(e){return"string"!=typeof e||e in{}}function t(){return Object.create(null)}function n(e){return"string"==typeof e&&!!e.trim()}function a(a,o){var i=a.split(";").filter(n),s=function(e){var r="",t="",n=e.split("=");n.length>1?(r=n.shift(),t=n.join("=")):t=e;return{name:r,value:t}}(i.shift()),c=s.name,f=s.value;if(o=o?Object.assign({},e,o):e,r(c))return null;try{f=o.decodeValues?decodeURIComponent(f):f}catch(l){}var u=t();return u.name=c,u.value=f,i.forEach(function(e){var t=e.split("="),n=t.shift().trimLeft().toLowerCase();if(!r(n)){var a=t.join("=");if("expires"===n)u.expires=new Date(a);else if("max-age"===n){var o=parseInt(a,10);Number.isNaN(o)||(u.maxAge=o)}else"secure"===n?u.secure=!0:"httponly"===n?u.httpOnly=!0:"samesite"===n?u.sameSite=a:"partitioned"===n?u.partitioned=!0:n&&(u[n]=a)}}),u}function o(o,i){if(i=i?Object.assign({},e,i):e,!o)return i.map?t():[];if(o.headers)if("function"==typeof o.headers.getSetCookie)o=o.headers.getSetCookie();else if(o.headers["set-cookie"])o=o.headers["set-cookie"];else{var s=o.headers[Object.keys(o.headers).find(function(e){return"set-cookie"===e.toLowerCase()})];!s&&o.headers.cookie&&i.silent,o=s}if(Array.isArray(o)||(o=[o]),i.map){var c=t();return o.filter(n).reduce(function(e,t){var n=a(t,i);return n&&!r(n.name)&&(e[n.name]=n),e},c)}return o.filter(n).map(function(e){return a(e,i)}).filter(Boolean)}return D.exports=o,D.exports.parse=o,D.exports.parseString=a,D.exports.splitCookiesString=function(e){if(Array.isArray(e))return e;if("string"!=typeof e)return[];var r,t,n,a,o,i=[],s=0;function c(){for(;s<e.length&&/\s/.test(e.charAt(s));)s+=1;return s<e.length}function f(){return"="!==(t=e.charAt(s))&&";"!==t&&","!==t}for(;s<e.length;){for(r=s,o=!1;c();)if(","===(t=e.charAt(s))){for(n=s,s+=1,c(),a=s;s<e.length&&f();)s+=1;s<e.length&&"="===e.charAt(s)?(o=!0,s=a,i.push(e.substring(r,n)),r=s):s=n+1}else s+=1;(!o||s>=e.length)&&i.push(e.substring(r,e.length))}return i},D.exports}var E=I();export{e as B,x as a,E as b,T as c,S as p,v as s,g as u};
