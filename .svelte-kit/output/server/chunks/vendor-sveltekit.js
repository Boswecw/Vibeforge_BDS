import{json as e,text as t,error as n}from"@sveltejs/kit";import{HttpError as r,SvelteKitError as s,Redirect as a,ActionFailure as o,ValidationError as i}from"@sveltejs/kit/internal";import{with_request_store as c,merge_tracing as l,try_get_request_store as u,get_request_store as d}from"@sveltejs/kit/internal/server";import{p,B as h,s as f,u as m,a as y,b as g}from"./vendor-common.js";import{r as _,w,s as v,a as b,g as $}from"./vendor-svelte.js";function k(){let e,t;return{promise:new Promise((n,r)=>{e=n,t=r}),resolve:e,reject:t}}const x=[101,103,204,205,304],E=!!globalThis.process?.versions?.webcontainer;let j="",O=j;const P="_app",R={base:j,assets:O};function S(){j=R.base,O=R.assets}function q(e){O=R.assets=e}const T=["GET","POST","PUT","PATCH","DELETE","OPTIONS","HEAD"],A=["GET","POST","HEAD"],C=new TextEncoder,U=new TextDecoder;function z(e){if(globalThis.Buffer)return globalThis.Buffer.from(e).toString("base64");let t="";for(let n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return btoa(t)}function L(e,t,n){t.startsWith("n:")?(t=t.slice(2),n=""===n?void 0:parseFloat(n)):t.startsWith("b:")&&(t=t.slice(2),n="on"===n),F(e,function(e){if(!D.test(e))throw new Error(`Invalid path ${e}`);return e.split(/\.|\[|\]/).filter(Boolean)}(t),n)}function N(e){const t={};for(let n of e.keys()){const r=n.endsWith("[]");let s=e.getAll(n);if(r&&(n=n.slice(0,-2)),s.length>1&&!r)throw new Error(`Form cannot contain duplicated keys — "${n}" has ${s.length} values`);s=s.filter(e=>"string"==typeof e||""!==e.name||e.size>0),n.startsWith("n:")?(n=n.slice(2),s=s.map(e=>""===e?void 0:parseFloat(e))):n.startsWith("b:")&&(n=n.slice(2),s=s.map(e=>"on"===e)),L(t,n,r?s:s[0])}return t}const H="application/x-sveltekit-formdata";async function I(e){if(e.headers.get("content-type")!==H){const t=await e.formData();return{data:N(t),meta:{},form_data:t}}if(!e.body)throw new Error("Could not deserialize binary form: no body");const t=e.body.getReader(),n=[];async function r(e){if(e in n)return n[e];let r=n.length;for(;r<=e;)n[r]=t.read().then(e=>e.value),r++;return n[e]}async function s(e,t){let n,s,a=0;for(s=0;;s++){const t=await r(s);if(!t)return null;const o=a+t.byteLength;if(e>=a&&e<o){n=t;break}a=o}if(e+t<=a+n.byteLength)return n.subarray(e-a,e+t-a);const o=new Uint8Array(t);o.set(n.subarray(e-a));let i=n.byteLength-e+a;for(;i<t;){s++;let e=await r(s);if(!e)return null;e.byteLength>t-i&&(e=e.subarray(0,t-i)),o.set(e,i),i+=e.byteLength}return o}const a=await s(0,7);if(!a)throw new Error("Could not deserialize binary form: too short");if(0!==a[0])throw new Error(`Could not deserialize binary form: got version ${a[0]}, expected version 0`);const o=new DataView(a.buffer),i=o.getUint32(1,!0),c=o.getUint16(5,!0),l=await s(7,i);if(!l)throw new Error("Could not deserialize binary form: data too short");let u,d;if(c>0){const e=await s(7+i,c);if(!e)throw new Error("Could not deserialize binary form: file offset table too short");u=JSON.parse(U.decode(e)),d=7+i+c}const[h,f]=p(U.decode(l),{File:([e,t,n,s,a])=>new Proxy(new W(e,t,n,s,r,d+u[a]),{getPrototypeOf:()=>File.prototype})});return(async()=>{let e=!0;for(;e;){e=!!(await r(n.length))}})(),{data:h,meta:f,form_data:null}}class W{#e;#t;constructor(e,t,n,r,s,a){this.name=e,this.type=t,this.size=n,this.lastModified=r,this.webkitRelativePath="",this.#e=s,this.#t=a,this.arrayBuffer=this.arrayBuffer.bind(this),this.bytes=this.bytes.bind(this),this.slice=this.slice.bind(this),this.stream=this.stream.bind(this),this.text=this.text.bind(this)}#n;async arrayBuffer(){return this.#n??=await new Response(this.stream()).arrayBuffer(),this.#n}async bytes(){return new Uint8Array(await this.arrayBuffer())}slice(e=0,t=this.size,n=this.type){e=e<0?Math.max(this.size+e,0):Math.min(e,this.size),t=t<0?Math.max(this.size+t,0):Math.min(t,this.size);const r=Math.max(t-e,0);return new W(this.name,n,r,this.lastModified,this.#e,this.#t+e)}stream(){let e=0,t=0;return new ReadableStream({start:async n=>{let r=0,s=null;for(t=0;;t++){const e=await this.#e(t);if(!e)return null;const n=r+e.byteLength;if(this.#t>=r&&this.#t<n){s=e;break}r=n}this.#t+this.size<=r+s.byteLength?(n.enqueue(s.subarray(this.#t-r,this.#t+this.size-r)),n.close()):(n.enqueue(s.subarray(this.#t-r)),e=s.byteLength-this.#t+r)},pull:async n=>{t++;let r=await this.#e(t);if(!r)return n.error("Could not deserialize binary form: incomplete file data"),void n.close();r.byteLength>this.size-e&&(r=r.subarray(0,this.size-e)),n.enqueue(r),e+=r.byteLength,e>=this.size&&n.close()}})}async text(){return U.decode(await this.arrayBuffer())}}const D=/^[a-zA-Z_$]\w*(\.[a-zA-Z_$]\w*|\[\d+\])*$/;function M(e){if("__proto__"===e||"constructor"===e||"prototype"===e)throw new Error(`Invalid key "${e}"`)}function F(e,t,n){let r=e;for(let a=0;a<t.length-1;a+=1){const e=t[a];M(e);const n=/^\d+$/.test(t[a+1]),s=e in r,o=r[e];if(s&&n!==Array.isArray(o))throw new Error(`Invalid array key ${t[a+1]}`);s||(r[e]=n?[]:{}),r=r[e]}const s=t[t.length-1];M(s),r[s]=n}function B(e,t=!1){const n={name:"",path:[],message:e.message,server:t};if(void 0!==e.path){let t="";for(const r of e.path){const e="object"==typeof r?r.key:r;n.path.push(e),"number"==typeof e?t+=`[${e}]`:"string"==typeof e&&(t+=""===t?e:"."+e)}n.name=t}return n}function J(e,t,n,r,s=[]){const a=()=>function(e,t){let n=e;for(const r of t){if(null==n||"object"!=typeof n)return n;n=n[r]}return n}(t(),s);return new Proxy(e,{get(e,o){if("symbol"==typeof o)return e[o];if(/^\d+$/.test(o))return J({},t,n,r,[...s,parseInt(o,10)]);const i=function(e){let t="";for(const n of e)t+="number"==typeof n?`[${n}]`:""===t?n:"."+n;return t}(s);if("set"===o){return J(function(e){return n(s,e),e},t,n,r,[...s,o])}if("value"===o)return J(a,t,n,r,[...s,o]);if("issues"===o||"allIssues"===o){return J(()=>{const e=r()[""===i?"$":i];return"allIssues"===o?e?.map(e=>({path:e.path,message:e.message})):e?.filter(e=>e.name===i)?.map(e=>({path:e.path,message:e.message}))},t,n,r,[...s,o])}if("as"===o){return J((e,t)=>{const n="file multiple"===e||"select multiple"===e||"checkbox"===e&&"string"==typeof t,s={name:("number"===e||"range"===e?"n:":"checkbox"!==e||n?"":"b:")+i+(n?"[]":""),get"aria-invalid"(){const e=r();return i in e?"true":void 0}};return"text"!==e&&"select"!==e&&"select multiple"!==e&&(s.type="file multiple"===e?"file":e),"submit"===e||"hidden"===e?Object.defineProperties(s,{value:{value:t,enumerable:!0}}):"select"===e||"select multiple"===e?Object.defineProperties(s,{multiple:{value:n,enumerable:!0},value:{enumerable:!0,get:()=>a()}}):"checkbox"===e||"radio"===e?Object.defineProperties(s,{value:{value:t??"on",enumerable:!0},checked:{enumerable:!0,get(){const r=a();return"radio"===e?r===t:n?(r??[]).includes(t):r}}}):"file"===e||"file multiple"===e?Object.defineProperties(s,{multiple:{value:n,enumerable:!0},files:{enumerable:!0,get(){const e=a();if(e instanceof File){if("undefined"!=typeof DataTransfer){const t=new DataTransfer;return t.items.add(e),t.files}return{0:e,length:1}}if(Array.isArray(e)&&e.every(e=>e instanceof File)){if("undefined"!=typeof DataTransfer){const t=new DataTransfer;return e.forEach(e=>t.items.add(e)),t.files}const t={length:e.length};return e.forEach((e,n)=>{t[n]=e}),t}return null}}}):Object.defineProperties(s,{value:{enumerable:!0,get(){const e=a();return null!=e?String(e):""}}})},t,n,r,[...s,"as"])}return J({},t,n,r,[...s,o])}})}function G(e,t){const n=[];let r;e.split(",").forEach((e,t)=>{const r=/([^/ \t]+)\/([^; \t]+)[ \t]*(?:;[ \t]*q=([0-9.]+))?/.exec(e);if(r){const[,e,s,a="1"]=r;n.push({type:e,subtype:s,q:+a,i:t})}}),n.sort((e,t)=>e.q!==t.q?t.q-e.q:"*"===e.subtype!=("*"===t.subtype)?"*"===e.subtype?1:-1:"*"===e.type!=("*"===t.type)?"*"===e.type?1:-1:e.i-t.i);let s=1/0;for(const a of t){const[e,t]=a.split("/"),o=n.findIndex(n=>!(n.type!==e&&"*"!==n.type||n.subtype!==t&&"*"!==n.subtype));-1!==o&&o<s&&(r=a,s=o)}return r}function V(e){return function(e,...t){const n=e.headers.get("content-type")?.split(";",1)[0].trim()??"";return t.includes(n.toLowerCase())}(e,"application/x-www-form-urlencoded","multipart/form-data","text/plain",H)}function Z(e){return e}function Q(e){return e instanceof r||e instanceof s?e.status:500}let X={};function Y(e){}function K(e){X=e}const ee={"&":"&amp;",'"':"&quot;"},te={"&":"&amp;","<":"&lt;"},ne="[\\ud800-\\udbff](?![\\udc00-\\udfff])|[\\ud800-\\udbff][\\udc00-\\udfff]|[\\udc00-\\udfff]",re=new RegExp(`[${Object.keys(ee).join("")}]|`+ne,"g"),se=new RegExp(`[${Object.keys(te).join("")}]|`+ne,"g");function ae(e,t){const n=t?ee:te;return e.replace(t?re:se,e=>2===e.length?e:n[e]??`&#${e.charCodeAt(0)};`)}function oe(e,n){return t(`${n} method not allowed`,{status:405,headers:{allow:ie(e).join(", ")}})}function ie(e){const t=T.filter(t=>t in e);return"GET"in e&&!("HEAD"in e)&&t.push("HEAD"),t}function ce(e){return`__sveltekit_${e.version_hash}`}function le(e,n,r){let s=e.templates.error({status:n,message:ae(r)});return t(s,{headers:{"content-type":"text/html; charset=utf-8"},status:n})}async function ue(t,n,s,a){var o;const i=Q(a=a instanceof r?a:(o=a)instanceof Error||o&&o.name&&o.message?o:new Error(JSON.stringify(o))),c=await de(t,n,s,a),l=G(t.request.headers.get("accept")||"text/html",["application/json","text/html"]);return t.isDataRequest||"application/json"===l?e(c,{status:i}):le(s,i,c.message)}async function de(e,t,n,a){if(a instanceof r)return{message:"Unknown Error",...a.body};const o=Q(a),i=function(e){return e instanceof s?e.text:"Internal Error"}(a);return await c({event:e,state:t},()=>n.hooks.handleError({error:a,event:e,status:o,message:i}))??{message:i}}function pe(e,t){return new Response(void 0,{status:e,headers:{location:t}})}function he(e,t){return t.path?`Data returned from \`load\` while rendering ${e.route.id} is not serializable: ${t.message} (${t.path}). If you need to serialize/deserialize custom types, use transport hooks: https://svelte.dev/docs/kit/hooks#Universal-hooks-transport.`:""===t.path?`Data returned from \`load\` while rendering ${e.route.id} is not a plain object`:t.message}function fe(e){const t={};return e.uses&&e.uses.dependencies.size>0&&(t.dependencies=Array.from(e.uses.dependencies)),e.uses&&e.uses.search_params.size>0&&(t.search_params=Array.from(e.uses.search_params)),e.uses&&e.uses.params.size>0&&(t.params=Array.from(e.uses.params)),e.uses?.parent&&(t.parent=1),e.uses?.route&&(t.route=1),e.uses?.url&&(t.url=1),t}function me(e,t){return e._.prerendered_routes.has(t)||"/"===t.at(-1)&&e._.prerendered_routes.has(t.slice(0,-1))}function ye(e){const t=e?.split("/"),n=t?.at(-1);if(!n)return"unknown";return n.split(".").slice(0,-1).join(".")}function ge(e){return e.filter(e=>null!=e)}const _e="/__data.json",we=".html__data.json";function ve(e){return e.endsWith(".html")?e.replace(/\.html$/,we):e.replace(/\/$/,"")+_e}const be="/__route.js";function $e(e){return e.replace(/\/$/,"")+be}const ke={spanContext:()=>xe,setAttribute(){return this},setAttributes(){return this},addEvent(){return this},setStatus(){return this},updateName(){return this},end(){return this},isRecording:()=>!1,recordException(){return this},addLink(){return this},addLinks(){return this}},xe={traceId:"",spanId:"",traceFlags:0};async function Ee({name:e,attributes:t,fn:n}){return n(ke)}function je(e){return"application/json"===G(e.request.headers.get("accept")??"*/*",["application/json","text/html"])&&"POST"===e.request.method}function Oe(e){return e instanceof o?new Error('Cannot "throw fail()". Use "return fail()"'):e}function Pe(e){return Re({type:"redirect",status:e.status,location:e.location})}function Re(t,n){return e(t,n)}function Se(e){if(e.default&&Object.keys(e).length>1)throw new Error("When using named actions, the default action cannot be used. See the docs for more info: https://svelte.dev/docs/kit/form-actions#named-actions")}async function qe(e,t,n){const r=new URL(e.request.url);let a="default";for(const s of r.searchParams)if(s[0].startsWith("/")){if(a=s[0].slice(1),"default"===a)throw new Error('Cannot use reserved action name "default"');break}const i=n[a];if(!i)throw new s(404,"Not Found",`No action with name '${a}' found`);if(!V(e.request))throw new s(415,"Unsupported Media Type",`Form actions expect form-encoded data — received ${e.request.headers.get("content-type")}`);return Ee({name:"sveltekit.form_action",attributes:{},fn:async n=>{const r=l(e,n),s=await c({event:r,state:t},()=>i(r));return s instanceof o&&n.setAttributes({"sveltekit.form_action.result.type":"failure","sveltekit.form_action.result.status":s.status}),s}})}function Te(e,t,n){const r=Object.fromEntries(Object.entries(n).map(([e,t])=>[e,t.encode]));return Ae(e,e=>f(e,r),t)}function Ae(e,t,n){try{return t(e)}catch(r){const t=r;if(e instanceof Response)throw new Error(`Data returned from action inside ${n} is not serializable. Form actions need to return plain objects or fail(). E.g. return { success: true } or return fail(400, { message: "invalid" });`);if("path"in t){let e=`Data returned from action inside ${n} is not serializable: ${t.message}`;throw""!==t.path&&(e+=` (data.${t.path})`),new Error(e)}throw t}}function Ce(){let e=-1,t=-1;const n=[];return{iterate:(e=e=>e)=>({[Symbol.asyncIterator]:()=>({next:async()=>{const r=n[++t];if(!r)return{value:null,done:!0};const s=await r.promise;return{value:e(s),done:!1}}})}),add:t=>{n.push(k()),t.then(t=>{n[++e].resolve(t)})}}}function Ue(e,t,n){let r=1,s=-1;const a=Ce(),o=ce(n);const i=[];return{set_max_nodes(e){s=e},add_node(s,c){try{if(!c)return void(i[s]="null");const u={type:"data",data:c.data,uses:fe(c)};c.slash&&(u.slash=c.slash),i[s]=m(u,(l=s,function s(i){if("function"==typeof i?.then){const c=r++,u=i.then(e=>({data:e})).catch(async r=>({error:await de(e,t,n,r)})).then(async({data:r,error:a})=>{let i;try{i=m(a?[,a]:[r],s)}catch{a=await de(e,t,n,new Error(`Failed to serialize promise while rendering ${e.route.id}`)),r=void 0,i=m([,a],s)}return{index:l,str:`${o}.resolve(${c}, ${i.includes("app.decode")?`(app) => ${i}`:`() => ${i}`})`}});return a.add(u),`${o}.defer(${c})`}for(const e in n.hooks.transport){const t=n.hooks.transport[e].encode(i);if(t)return`app.decode('${e}', ${m(t,s)})`}}))}catch(u){throw u.path=u.path.slice(1),new Error(he(e,u))}var l},get_data(e){const t=`<script${e.script_needs_nonce?` nonce="${e.nonce}"`:""}>`;return{data:`[${ge(s>-1?i.slice(0,s):i).join(",")}]`,chunks:r>1?a.iterate(({index:e,str:n})=>s>-1&&e>=s?"":t+n+"<\/script>\n"):null}}}}function ze(e,t,n){let r=1;const s=Ce(),a={...Object.fromEntries(Object.entries(n.hooks.transport).map(([e,t])=>[e,t.encode])),Promise:o=>{if("function"!=typeof o?.then)return;const i=r++;let c="data";const l=o.catch(async r=>(c="error",de(e,t,n,r))).then(async r=>{let s;try{s=f(r,a)}catch{const r=await de(e,t,n,new Error(`Failed to serialize promise while rendering ${e.route.id}`));c="error",s=f(r,a)}return`{"type":"chunk","id":${i},"${c}":${s}}\n`});return s.add(l),i}},o=[];return{add_node(t,n){try{if(!n)return void(o[t]="null");if("error"===n.type||"skip"===n.type)return void(o[t]=JSON.stringify(n));o[t]=`{"type":"data","data":${f(n.data,a)},"uses":${JSON.stringify(fe(n))}${n.slash?`,"slash":${JSON.stringify(n.slash)}`:""}}`}catch(r){throw r.path="data"+r.path,new Error(he(e,r))}},get_data:()=>({data:`{"type":"data","nodes":[${o.join(",")}]}\n`,chunks:r>1?s.iterate():null})}}const Le=new URL("sveltekit-internal://");function Ne(e,t){if("/"===t[0]&&"/"===t[1])return t;let n=new URL(e,Le);return n=new URL(t,n),n.protocol===Le.protocol?n.pathname+n.search+n.hash:n.href}function He(e,t){return"/"===e||"ignore"===t?e:"never"===t?e.endsWith("/")?e.slice(0,-1):e:"always"!==t||e.endsWith("/")?e:e+"/"}function Ie(e){for(const t in e)e[t]=decodeURIComponent(e[t]);return e}function We(e,t,n,r=!1){const s=new URL(e);Object.defineProperty(s,"searchParams",{value:new Proxy(s.searchParams,{get(e,r){if("get"===r||"getAll"===r||"has"===r)return t=>(n(t),e[r](t));t();const s=Reflect.get(e,r);return"function"==typeof s?s.bind(e):s}}),enumerable:!0,configurable:!0});const a=["href","pathname","search","toString","toJSON"];r&&a.push("hash");for(const o of a)Object.defineProperty(s,o,{get:()=>(t(),e[o]),enumerable:!0,configurable:!0});return s[Symbol.for("nodejs.util.inspect.custom")]=(t,n,r)=>r(e,n),s.searchParams[Symbol.for("nodejs.util.inspect.custom")]=(t,n,r)=>r(e.searchParams,n),r||function(e){Me(e),Object.defineProperty(e,"hash",{get(){throw new Error("Cannot access event.url.hash. Consider using `page.url.hash` inside a component instead")}})}(s),s}function De(e){Me(e);for(const t of["search","searchParams"])Object.defineProperty(e,t,{get(){throw new Error(`Cannot access url.${t} on a page with prerendering enabled`)}})}function Me(e){e[Symbol.for("nodejs.util.inspect.custom")]=(t,n,r)=>r(new URL(e),n)}const Fe="x-sveltekit-invalidated",Be="x-sveltekit-trailing-slash";function Je(e,t){const n=Object.fromEntries(Object.entries(t).map(([e,t])=>[e,t.encode]));return f(e,n)}function Ge(e,t){if(void 0===e)return"";const n=Je(e,t);return z((new TextEncoder).encode(n)).replaceAll("=","").replaceAll("+","-").replaceAll("/","_")}function Ve(e,t){if(!e)return;const n=U.decode(function(e){if(globalThis.Buffer){const t=globalThis.Buffer.from(e,"base64");return new Uint8Array(t)}const t=atob(e),n=new Uint8Array(t.length);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}(e.replaceAll("-","+").replaceAll("_","/"))),r=Object.fromEntries(Object.entries(t).map(([e,t])=>[e,t.decode]));return p(n,r)}function Ze(e,t){return e+"/"+t}async function Qe({event:e,event_state:t,state:n,node:r,parent:s}){if(!r?.server)return null;let a=!0;const o={dependencies:new Set,params:new Set,parent:!1,route:!1,url:!1,search_params:new Set},i=r.server.load,u=r.server.trailingSlash;if(!i)return{type:"data",data:null,uses:o,slash:u};const d=We(e.url,()=>{a&&(o.url=!0)},e=>{a&&o.search_params.add(e)});n.prerendering&&De(d);return{type:"data",data:await Ee({name:"sveltekit.load",attributes:{"sveltekit.load.node_type":ye(r.server_id)},fn:async n=>{const r=l(e,n);return await c({event:r,state:t},()=>i.call(null,{...r,fetch:(t,n)=>(new URL(t instanceof Request?t.url:t,e.url),e.fetch(t,n)),depends:(...t)=>{for(const n of t){const{href:t}=new URL(n,e.url);o.dependencies.add(t)}},params:new Proxy(e.params,{get:(e,t)=>(a&&o.params.add(t),e[t])}),parent:async()=>(a&&(o.parent=!0),s()),route:new Proxy(e.route,{get:(e,t)=>(a&&(o.route=!0),e[t])}),url:d,untrack(e){a=!1;try{return e()}finally{a=!0}}}))}})??null,uses:o,slash:u}}async function Xe({event:e,event_state:t,fetched:n,node:r,parent:s,server_data_promise:a,state:o,resolve_opts:i,csr:u}){const d=await a,p=r?.universal?.load;if(!p)return d?.data??null;return await Ee({name:"sveltekit.load",attributes:{"sveltekit.load.node_type":ye(r.universal_id)},fn:async r=>{const a=l(e,r);return await c({event:a,state:t},()=>p.call(null,{url:e.url,params:e.params,data:d?.data??null,route:e.route,fetch:Ye(e,o,n,u,i),setHeaders:e.setHeaders,depends:()=>{},parent:s,untrack:e=>e(),tracing:a.tracing}))}})??null}function Ye(e,t,n,r,s){const a=async(a,o)=>{const i=a instanceof Request&&a.body?a.clone().body:null,c=a instanceof Request&&[...a.headers].length?new Headers(a.headers):o?.headers;let l=await e.fetch(a,o);const u=new URL(a instanceof Request?a.url:a,e.url),d=u.origin===e.url.origin;let p,h;if(d)t.prerendering&&(p={response:l,body:null},t.prerendering.dependencies.set(u.pathname,p));else if("https:"===u.protocol||"http:"===u.protocol){if("no-cors"===(a instanceof Request?a.mode:o?.mode??"cors"))l=new Response("",{status:l.status,statusText:l.statusText,headers:l.headers});else{const t=l.headers.get("access-control-allow-origin");if(!t||t!==e.url.origin&&"*"!==t)throw new Error(`CORS error: ${t?"Incorrect":"No"} 'Access-Control-Allow-Origin' header is present on the requested resource`)}}const f=new Proxy(l,{get(t,r,s){async function l(r,s){const l=Number(t.status);if(isNaN(l))throw new Error(`response.status is not a number. value: "${t.status}" type: ${typeof t.status}`);n.push({url:d?u.href.slice(e.url.origin.length):u.href,method:e.request.method,request_body:a instanceof Request&&i?await Ke(i):o?.body,request_headers:c,response_body:r,response:t,is_b64:s})}if("body"===r){if(null===t.body)return null;if(h)return h;const[e,n]=t.body.tee();return(async()=>{let t=new Uint8Array;for await(const n of e){const e=new Uint8Array(t.length+n.length);e.set(t,0),e.set(n,t.length),t=e}p&&(p.body=new Uint8Array(t)),l(z(t),!0)})(),h=n}if("arrayBuffer"===r)return async()=>{const e=await t.arrayBuffer(),n=new Uint8Array(e);return p&&(p.body=n),e instanceof ArrayBuffer&&await l(z(n),!0),e};async function f(){const e=await t.text();if(""!==e||!x.includes(t.status))return e&&"string"!=typeof e||await l(e,!1),p&&(p.body=e),e;await l(void 0,!1)}if("text"===r)return f;if("json"===r)return async()=>{const e=await f();return e?JSON.parse(e):void 0};const m=Reflect.get(t,r,t);return m instanceof Function?Object.defineProperties(function(){return Reflect.apply(m,this===s?t:this,arguments)},{name:{value:m.name},length:{value:m.length}}):m}});if(r){const t=l.headers.get;l.headers.get=n=>{const r=n.toLowerCase(),a=t.call(l.headers,r);if(a&&!r.startsWith("x-sveltekit-")){if(!s.filterSerializedResponseHeaders(r,a))throw new Error(`Failed to get response header "${r}" — it must be included by the \`filterSerializedResponseHeaders\` option: https://svelte.dev/docs/kit/hooks#Server-hooks-handle (at ${e.route.id})`)}return a}}return f};return(e,t)=>{const n=a(e,t);return n.catch(()=>{}),n}}async function Ke(e){let t="";const n=e.getReader();for(;;){const{done:e,value:r}=await n.read();if(e)break;t+=U.decode(r)}return t}function et(...e){let t=5381;for(const n of e)if("string"==typeof n){let e=n.length;for(;e;)t=33*t^n.charCodeAt(--e)}else{if(!ArrayBuffer.isView(n))throw new TypeError("value must be a string or TypedArray");{const e=new Uint8Array(n.buffer,n.byteOffset,n.byteLength);let r=e.length;for(;r;)t=33*t^e[--r]}}return(t>>>0).toString(36)}const tt={"<":"\\u003C","\u2028":"\\u2028","\u2029":"\\u2029"},nt=new RegExp(`[${Object.keys(tt).join("")}]`,"g");const rt=JSON.stringify;function st(e){ot[0]||function(){function e(e){return 4294967296*(e-Math.floor(e))}let t=2;for(let n=0;n<64;t++){let r=!0;for(let e=2;e*e<=t;e++)if(t%e===0){r=!1;break}r&&(n<8&&(at[n]=e(t**.5)),ot[n]=e(t**(1/3)),n++)}}();const t=at.slice(0),n=function(e){const t=C.encode(e),n=8*t.length,r=512*Math.ceil((n+65)/512),s=new Uint8Array(r/8);s.set(t),s[t.length]=128,it(s);const a=new Uint32Array(s.buffer);return a[a.length-2]=Math.floor(n/4294967296),a[a.length-1]=n,a}(e);for(let s=0;s<n.length;s+=16){const e=n.subarray(s,s+16);let r,a,o,i=t[0],c=t[1],l=t[2],u=t[3],d=t[4],p=t[5],h=t[6],f=t[7];for(let t=0;t<64;t++)t<16?r=e[t]:(a=e[t+1&15],o=e[t+14&15],r=e[15&t]=(a>>>7^a>>>18^a>>>3^a<<25^a<<14)+(o>>>17^o>>>19^o>>>10^o<<15^o<<13)+e[15&t]+e[t+9&15]|0),r=r+f+(d>>>6^d>>>11^d>>>25^d<<26^d<<21^d<<7)+(h^d&(p^h))+ot[t],f=h,h=p,p=d,d=u+r|0,u=l,l=c,c=i,i=r+(c&l^u&(c^l))+(c>>>2^c>>>13^c>>>22^c<<30^c<<19^c<<10)|0;t[0]=t[0]+i|0,t[1]=t[1]+c|0,t[2]=t[2]+l|0,t[3]=t[3]+u|0,t[4]=t[4]+d|0,t[5]=t[5]+p|0,t[6]=t[6]+h|0,t[7]=t[7]+f|0}const r=new Uint8Array(t.buffer);return it(r),btoa(String.fromCharCode(...r))}const at=new Uint32Array(8),ot=new Uint32Array(64);function it(e){for(let t=0;t<e.length;t+=4){const n=e[t+0],r=e[t+1],s=e[t+2],a=e[t+3];e[t+0]=a,e[t+1]=s,e[t+2]=r,e[t+3]=n}}const ct=new Uint8Array(16);const lt=new Set(["self","unsafe-eval","unsafe-hashes","unsafe-inline","none","strict-dynamic","report-sample","wasm-unsafe-eval","script"]),ut=/^(nonce|sha\d\d\d)-/;class dt{#r;#s;#a;#o;#i;#c;#l;#u;#d;#p;#h;#f;#m;#y;#g;constructor(e,t,n){this.#r=e,this.#d=t;const r=this.#d;this.#p=[],this.#h=[],this.#f=[],this.#m=[],this.#y=[];const s=r["script-src"]||r["default-src"],a=r["script-src-elem"],o=r["style-src"]||r["default-src"],i=r["style-src-attr"],c=r["style-src-elem"],l=e=>!!e&&!e.some(e=>"unsafe-inline"===e);this.#a=l(s),this.#o=l(a),this.#c=l(o),this.#l=l(i),this.#u=l(c),this.#s=this.#a||this.#o,this.#i=this.#c||this.#l||this.#u,this.script_needs_nonce=this.#s&&!this.#r,this.style_needs_nonce=this.#i&&!this.#r,this.#g=n}add_script(e){if(!this.#s)return;const t=this.#r?`sha256-${st(e)}`:`nonce-${this.#g}`;this.#a&&this.#p.push(t),this.#o&&this.#h.push(t)}add_style(e){if(!this.#i)return;const t=this.#r?`sha256-${st(e)}`:`nonce-${this.#g}`;if(this.#c&&this.#f.push(t),this.#l&&this.#m.push(t),this.#u){const e="sha256-9OlNO0DNEeaVzHL4RZwCLsBHA8WBQ8toBp/4F5XV2nc=",n=this.#d;!n["style-src-elem"]||n["style-src-elem"].includes(e)||this.#y.includes(e)||this.#y.push(e),t!==e&&this.#y.push(t)}}get_header(e=!1){const t=[],n={...this.#d};this.#f.length>0&&(n["style-src"]=[...n["style-src"]||n["default-src"]||[],...this.#f]),this.#m.length>0&&(n["style-src-attr"]=[...n["style-src-attr"]||[],...this.#m]),this.#y.length>0&&(n["style-src-elem"]=[...n["style-src-elem"]||[],...this.#y]),this.#p.length>0&&(n["script-src"]=[...n["script-src"]||n["default-src"]||[],...this.#p]),this.#h.length>0&&(n["script-src-elem"]=[...n["script-src-elem"]||[],...this.#h]);for(const r in n){if(e&&("frame-ancestors"===r||"report-uri"===r||"sandbox"===r))continue;const s=n[r];if(!s)continue;const a=[r];Array.isArray(s)&&s.forEach(e=>{lt.has(e)||ut.test(e)?a.push(`'${e}'`):a.push(e)}),t.push(a.join(" "))}return t.join("; ")}}class pt extends dt{get_meta(){const e=this.get_header(!0);if(e)return`<meta http-equiv="content-security-policy" content="${ae(e,!0)}">`}}class ht extends dt{constructor(e,t,n){if(super(e,t,n),Object.values(t).filter(e=>!!e).length>0){const e=t["report-to"]?.length??!1,n=t["report-uri"]?.length??!1;if(!e&&!n)throw Error("`content-security-policy-report-only` must be specified with either the `report-to` or `report-uri` directives, or both")}}}class ft{nonce=function(){return crypto.getRandomValues(ct),btoa(String.fromCharCode(...ct))}();csp_provider;report_only_provider;constructor({mode:e,directives:t,reportOnly:n},{prerender:r}){const s="hash"===e||"auto"===e&&r;this.csp_provider=new pt(s,t,this.nonce),this.report_only_provider=new ht(s,n,this.nonce)}get script_needs_nonce(){return this.csp_provider.script_needs_nonce||this.report_only_provider.script_needs_nonce}get style_needs_nonce(){return this.csp_provider.style_needs_nonce||this.report_only_provider.style_needs_nonce}add_script(e){this.csp_provider.add_script(e),this.report_only_provider.add_script(e)}add_style(e){this.csp_provider.add_style(e),this.report_only_provider.add_style(e)}}function mt(e,t,n){const r={},s=e.slice(1),a=s.filter(e=>void 0!==e);let o=0;for(let i=0;i<t.length;i+=1){const e=t[i];let c=s[i-o];if(e.chained&&e.rest&&o&&(c=s.slice(i-o,i+1).filter(e=>e).join("/"),o=0),void 0!==c){if(!e.matcher||n[e.matcher](c)){r[e.name]=c;const n=t[i+1],l=s[i+1];n&&!n.rest&&n.optional&&l&&e.chained&&(o=0),n||l||Object.keys(r).length!==a.length||(o=0);continue}if(!e.optional||!e.chained)return;o++}else e.rest&&(r[e.name]="")}if(!o)return r}function yt(e,t,n){const{errors:r,layouts:s,leaf:a}=e,o=[...r,...s.map(e=>e?.[1]),a[1]].filter(e=>"number"==typeof e).map(e=>`'${e}': () => ${gt(n._.client.nodes?.[e],t)}`).join(",\n\t\t");return[`{\n\tid: ${rt(e.id)}`,`errors: ${rt(e.errors)}`,`layouts: ${rt(e.layouts)}`,`leaf: ${rt(e.leaf)}`,`nodes: {\n\t\t${o}\n\t}\n}`].join(",\n\t")}function gt(e,t){if(!e)return"Promise.resolve({})";if("/"===e[0])return`import('${e}')`;if(""!==O)return`import('${O}/${e}')`;let n=function(e,t){const n=e.split(/[/\\]/),r=t.split(/[/\\]/);for(n.pop();n[0]===r[0];)n.shift(),r.shift();let s=n.length;for(;s--;)n[s]="..";return n.concat(r).join("/")}(t.pathname,`${j}/${e}`);return"."!==n[0]&&(n=`./${n}`),`import('${n}')`}function _t(e,n,r,s){const a=new Headers({"content-type":"application/javascript; charset=utf-8"});if(e){const o=yt(e,r,s),i=`${function(e,t,n){const{errors:r,layouts:s,leaf:a}=e;let o="";for(const i of[...r,...s.map(e=>e?.[1]),a[1]]){if("number"!=typeof i)continue;const e=n._.client.css?.[i];for(const t of e??[])o+=`'${O||j}/${t}',`}return o?`${gt(n._.client.start,t)}.then(x => x.load_css([${o}]));`:""}(e,r,s)}\nexport const route = ${o}; export const params = ${JSON.stringify(n)};`;return{response:t(i,{headers:a}),body:i}}return{response:t("",{headers:a}),body:""}}const wt={..._(!1),check:()=>!1};async function vt({branch:e,fetched:n,options:r,manifest:s,state:a,page_config:o,status:i,error:l=null,event:u,event_state:d,resolve_opts:p,action_result:h,data_serializer:f}){if(a.prerendering){if("nonce"===r.csp.mode)throw new Error('Cannot use prerendering if config.kit.csp.mode === "nonce"');if(r.app_template_contains_nonce)throw new Error("Cannot use prerendering if page template contains %sveltekit.nonce%")}const{client:y}=s._,g=new Set(y.imports),_=new Set(y.stylesheets),v=new Set(y.fonts),b=new Set,$=new Set,k=new Map;let x;const E="success"===h?.type||"failure"===h?.type?h.data??null:null;let R=j,q=O,T=rt(j);if(a.prerendering?.fallback)r.hash_routing&&(T="new URL('.', location).pathname.slice(0, -1)");else{const e=u.url.pathname.slice(j.length).split("/").slice(2);R=e.map(()=>"..").join("/")||".",T=`new URL(${rt(R)}, location).pathname.slice(0, -1)`,(!O||"/"===O[0]&&"/_svelte_kit_assets"!==O)&&(q=R)}if(o.ssr){const t={stores:{page:w(null),navigating:w(null),updated:wt},constructors:await Promise.all(e.map(({node:e})=>{if(!e.component)throw new Error(`Missing +page.svelte component for route ${u.route.id}`);return e.component()})),form:E};let n={};for(let r=0;r<e.length;r+=1)n={...n,...e[r].data},t[`data_${r}`]=n;t.page={error:l,params:u.params,route:u.route,status:i,url:u.url,data:n,form:E,state:{}};const s={context:new Map([["__request__",{page:t.page}]])};globalThis.fetch;try{x=await c({event:u,state:d},async()=>{var e;j=(e={base:R,assets:q}).base,O=e.assets;const n=r.root.render(t,s),a=r.async&&"then"in n?n.then(e=>e):n;r.async&&S();const{head:o,html:i,css:c}=r.async?await a:a;return{head:o,html:i,css:c}})}finally{S()}for(const{node:r}of e){for(const e of r.imports)g.add(e);for(const e of r.stylesheets)_.add(e);for(const e of r.fonts)v.add(e);r.inline_styles&&!y.inline&&Object.entries(await r.inline_styles()).forEach(([e,t])=>k.set(e,t))}}else x={head:"",html:"",css:{code:"",map:null}};let A="",U=x.html;const z=new ft(r.csp,{prerender:!!a.prerendering}),L=e=>e.startsWith("/")?j+e:`${q}/${e}`,N=y.inline?y.inline?.style:Array.from(k.values()).join("\n");if(N){const e=[];z.style_needs_nonce&&e.push(` nonce="${z.nonce}"`),z.add_style(N),A+=`\n\t<style${e.join("")}>${N}</style>`}for(const t of _){const e=L(t),n=['rel="stylesheet"'];k.has(t)?n.push("disabled",'media="(max-width: 0)"'):p.preload({type:"css",path:e})&&b.add(`<${encodeURI(e)}>; rel="preload"; as="style"; nopush`),A+=`\n\t\t<link href="${e}" ${n.join(" ")}>`}for(const t of v){const e=L(t);if(p.preload({type:"font",path:e})){const n=t.slice(t.lastIndexOf(".")+1);$.add(`<link rel="preload" as="font" type="font/${n}" href="${e}" crossorigin>`),b.add(`<${encodeURI(e)}>; rel="preload"; as="font"; type="font/${n}"; crossorigin; nopush`)}}const H=ce(r),{data:I,chunks:W}=f.get_data(z);if(o.ssr&&o.csr&&(U+=`\n\t\t\t${n.map(e=>function(e,t,n=!1){const r={};let s=null,a=null,o=!1;for(const[u,d]of e.response.headers)t(u,d)&&(r[u]=d),"cache-control"===u?s=d:"age"===u?a=d:"vary"===u&&"*"===d.trim()&&(o=!0);const i={status:e.response.status,statusText:e.response.statusText,headers:r,body:e.response_body},c=JSON.stringify(i).replace(nt,e=>tt[e]),l=['type="application/json"',"data-sveltekit-fetched",`data-url="${ae(e.url,!0)}"`];if(e.is_b64&&l.push("data-b64"),e.request_headers||e.request_body){const t=[];e.request_headers&&t.push([...new Headers(e.request_headers)].join(",")),e.request_body&&t.push(e.request_body),l.push(`data-hash="${et(...t)}"`)}if(!n&&"GET"===e.method&&s&&!o){const e=/s-maxage=(\d+)/g.exec(s)??/max-age=(\d+)/g.exec(s);if(e){const t=+e[1]-+(a??"0");l.push(`data-ttl="${t}"`)}}return`<script ${l.join(" ")}>${c}<\/script>`}(e,p.filterSerializedResponseHeaders,!!a.prerendering)).join("\n\t\t\t")}`),o.csr){const t=s._.client.routes?.find(e=>e.id===u.route.id)??null;if(y.uses_env_dynamic_public&&a.prerendering&&g.add(`${P}/env.js`),!y.inline){const e=Array.from(g,e=>L(e)).filter(e=>p.preload({type:"js",path:e}));for(const t of e)b.add(`<${encodeURI(t)}>; rel="modulepreload"; nopush`),"modulepreload"!==r.preload_strategy?A+=`\n\t\t<link rel="preload" as="script" crossorigin="anonymous" href="${t}">`:$.add(`<link rel="modulepreload" href="${t}">`)}if(a.prerendering&&$.size>0&&(A+=Array.from($).map(e=>`\n\t\t${e}`).join("")),s._.client.routes&&a.prerendering&&!a.prerendering.fallback){const e=$e(u.url.pathname);a.prerendering.dependencies.set(e,_t(t,u.params,new URL(e,u.url),s))}const n=[],c=y.uses_env_dynamic_public&&a.prerendering,h=[`base: ${T}`];if(O&&h.push(`assets: ${rt(O)}`),y.uses_env_dynamic_public&&h.push(`env: ${c?"null":rt(X)}`),W){n.push("const deferred = new Map();"),h.push("defer: (id) => new Promise((fulfil, reject) => {\n\t\t\t\t\t\t\tdeferred.set(id, { fulfil, reject });\n\t\t\t\t\t\t})");let e="";Object.keys(r.hooks.transport).length>0&&(e=y.inline?`const app = __sveltekit_${r.version_hash}.app.app;`:y.app?`const app = await import(${rt(L(y.app))});`:`const { app } = await import(${rt(L(y.start))});`);const t=e?`${e}\n\t\t\t\t\t\t\tconst [data, error] = fn(app);`:"const [data, error] = fn();";h.push(`resolve: async (id, fn) => {\n\t\t\t\t\t\t\t${t}\n\n\t\t\t\t\t\t\tconst try_to_resolve = () => {\n\t\t\t\t\t\t\t\tif (!deferred.has(id)) {\n\t\t\t\t\t\t\t\t\tsetTimeout(try_to_resolve, 0);\n\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tconst { fulfil, reject } = deferred.get(id);\n\t\t\t\t\t\t\t\tdeferred.delete(id);\n\t\t\t\t\t\t\t\tif (error) reject(error);\n\t\t\t\t\t\t\t\telse fulfil(data);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\ttry_to_resolve();\n\t\t\t\t\t\t}`)}n.push(`${H} = {\n\t\t\t\t\t\t${h.join(",\n\t\t\t\t\t\t")}\n\t\t\t\t\t};`);const f=["element"];if(n.push("const element = document.currentScript.parentElement;"),o.ssr){const n={form:"null",error:"null"};E&&(n.form=function(e,t,n){const r=e=>{for(const t in n){const s=n[t].encode(e);if(s)return`app.decode('${t}', ${m(s,r)})`}};return Ae(e,e=>m(e,r),t)}(E,u.route.id,r.hooks.transport)),l&&(n.error=m(l));const a=[`node_ids: [${e.map(({node:e})=>e.index).join(", ")}]`,`data: ${I}`,`form: ${n.form}`,`error: ${n.error}`];if(200!==i&&a.push(`status: ${i}`),s._.client.routes){if(t){const e=yt(t,u.url,s).replaceAll("\n","\n\t\t\t\t\t\t\t");a.push(`params: ${m(u.params)}`,`server_route: ${e}`)}}else r.embedded&&a.push(`params: ${m(u.params)}`,`route: ${rt(u.route)}`);const o="\t".repeat(c?7:6);f.push(`{\n${o}\t${a.join(`,\n${o}\t`)}\n${o}}`)}const{remote_data:_}=d;let w="";if(_){const e={};for(const[n,r]of _)if(n.id)for(const t in r)e[Ze(n.id,t)]=await r[t];const t=e=>{for(const n in r.hooks.transport){const s=r.hooks.transport[n].encode(e);if(s)return`app.decode('${n}', ${m(s,t)})`}};w=`${H}.data = ${m(e,t)};\n\n\t\t\t\t\t\t`}const v=y.inline?`${y.inline.script}\n\n\t\t\t\t\t${w}${H}.app.start(${f.join(", ")});`:y.app?`Promise.all([\n\t\t\t\t\t\timport(${rt(L(y.start))}),\n\t\t\t\t\t\timport(${rt(L(y.app))})\n\t\t\t\t\t]).then(([kit, app]) => {\n\t\t\t\t\t\t${w}kit.start(app, ${f.join(", ")});\n\t\t\t\t\t});`:`import(${rt(L(y.start))}).then((app) => {\n\t\t\t\t\t\t${w}app.start(${f.join(", ")})\n\t\t\t\t\t});`;if(c?n.push(`import(${rt(`${R}/${P}/env.js`)}).then(({ env }) => {\n\t\t\t\t\t\t${H}.env = env;\n\n\t\t\t\t\t\t${v.replace(/\n/g,"\n\t")}\n\t\t\t\t\t});`):n.push(v),r.service_worker){let e="";if(null!=r.service_worker_options){const t={...r.service_worker_options};e=`, ${rt(t)}`}n.push(`if ('serviceWorker' in navigator) {\n\t\t\t\t\t\taddEventListener('load', function () {\n\t\t\t\t\t\t\tnavigator.serviceWorker.register('${L("service-worker.js")}'${e});\n\t\t\t\t\t\t});\n\t\t\t\t\t}`)}const k=`\n\t\t\t\t{\n\t\t\t\t\t${n.join("\n\n\t\t\t\t\t")}\n\t\t\t\t}\n\t\t\t`;z.add_script(k),U+=`\n\t\t\t<script${z.script_needs_nonce?` nonce="${z.nonce}"`:""}>${k}<\/script>\n\t\t`}const D=new Headers({"x-sveltekit-page":"true","content-type":"text/html"});if(a.prerendering){const e=[],t=z.csp_provider.get_meta();t&&e.push(t),a.prerendering.cache&&e.push(`<meta http-equiv="cache-control" content="${a.prerendering.cache}">`),e.length>0&&(A=e.join("\n")+A)}else{const e=z.csp_provider.get_header();e&&D.set("content-security-policy",e);const t=z.report_only_provider.get_header();t&&D.set("content-security-policy-report-only",t),b.size&&D.set("link",Array.from(b).join(", "))}A+=x.head;const M=r.templates.app({head:A,body:U,assets:q,nonce:z.nonce,env:X}),F=await p.transformPageChunk({html:M,done:!0})||"";return W||D.set("etag",`"${et(F)}"`),W?new Response(new ReadableStream({async start(e){e.enqueue(C.encode(F+"\n"));for await(const t of W)t.length&&e.enqueue(C.encode(t));e.close()},type:"bytes"}),{headers:D}):t(F,{status:i,headers:D})}function bt(e){return function(t,n){if(t)for(const r in t){if("_"===r[0]||e.has(r))continue;const t=[...e.values()],s=$t(r,n?.slice(n.lastIndexOf(".")))??`valid exports are ${t.join(", ")}, or anything with a '_' prefix`;throw new Error(`Invalid export '${r}'${n?` in ${n}`:""} (${s})`)}}}function $t(e,t=".js"){const n=[];if(kt.has(e)&&n.push(`+layout${t}`),xt.has(e)&&n.push(`+page${t}`),Et.has(e)&&n.push(`+layout.server${t}`),jt.has(e)&&n.push(`+page.server${t}`),Ot.has(e)&&n.push(`+server${t}`),n.length>0)return`'${e}' is a valid export in ${n.slice(0,-1).join(", ")}${n.length>1?" or ":""}${n.at(-1)}`}const kt=new Set(["load","prerender","csr","ssr","trailingSlash","config"]),xt=new Set([...kt,"entries"]),Et=new Set([...kt]),jt=new Set([...Et,"actions","entries"]),Ot=new Set(["GET","POST","PATCH","PUT","DELETE","OPTIONS","HEAD","fallback","prerender","trailingSlash","config","entries"]),Pt=bt(kt),Rt=bt(xt),St=bt(Et),qt=bt(jt);bt(Ot);class Tt{data;constructor(e){this.data=e}layouts(){return this.data.slice(0,-1)}page(){return this.data.at(-1)}validate(){for(const t of this.layouts())t&&(St(t.server,t.server_id),Pt(t.universal,t.universal_id));const e=this.page();e&&(qt(e.server,e.server_id),Rt(e.universal,e.universal_id))}#_(e){return this.data.reduce((t,n)=>n?.universal?.[e]??n?.server?.[e]??t,void 0)}csr(){return this.#_("csr")??!0}ssr(){return this.#_("ssr")??!0}prerender(){return this.#_("prerender")??!1}trailing_slash(){return this.#_("trailingSlash")??"never"}get_config(){let e={};for(const t of this.data)(t?.universal?.config||t?.server?.config)&&(e={...e,...t?.universal?.config,...t?.server?.config});return Object.keys(e).length?e:void 0}should_prerender_data(){return this.data.some(e=>e?.server?.load||void 0!==e?.server?.trailingSlash)}}async function At({event:e,event_state:t,options:n,manifest:r,state:s,status:o,error:i,resolve_opts:c}){if(e.request.headers.get("x-sveltekit-error"))return le(n,o,i.message);const l=[];try{const a=[],u=await r._.nodes[0](),d=new Tt([u]),p=d.ssr(),h=d.csr(),f=Ue(e,t,n);if(p){s.error=!0;const n=Qe({event:e,event_state:t,state:s,node:u,parent:async()=>({})}),o=await n;f.add_node(0,o);const i=await Xe({event:e,event_state:t,fetched:l,node:u,parent:async()=>({}),resolve_opts:c,server_data_promise:n,state:s,csr:h});a.push({node:u,server_data:o,data:i},{node:await r._.nodes[1](),data:null,server_data:null})}return await vt({options:n,manifest:r,state:s,page_config:{ssr:p,csr:h},status:o,error:await de(e,t,n,i),branch:a,fetched:l,event:e,event_state:t,resolve_opts:c,data_serializer:f})}catch(u){return u instanceof a?pe(u.status,u.location):le(n,Q(u),(await de(e,t,n,u)).message)}}async function Ct(t,o,i,u,d){return Ee({name:"sveltekit.remote.call",attributes:{},fn:p=>{const h=l(t,p);return c({event:h,state:o},()=>async function(t,o,i,l,u){const[d,p,h]=u.split("/"),f=l._.remotes;f[d]||n(404);const m=(await f[d]()).default[p];m||n(404);const y=m.__,g=i.hooks.transport;let _;t.tracing.current.setAttributes({"sveltekit.remote.call.type":y.type,"sveltekit.remote.call.name":y.name});try{if("query_batch"===y.type){if("POST"!==t.request.method)throw new s(405,"Method Not Allowed",`\`query.batch\` functions must be invoked via POST request, not ${t.request.method}`);const{payloads:n}=await t.request.json(),a=n.map(e=>Ve(e,g)),l=await c({event:t,state:o},()=>y.run(a)),u=await Promise.all(a.map(async(e,n)=>{try{return{type:"result",data:l(e,n)}}catch(a){return{type:"error",error:await de(t,o,i,a),status:a instanceof r||a instanceof s?a.status:500}}}));return e({type:"result",result:Je(u,g)})}if("form"===y.type){if("POST"!==t.request.method)throw new s(405,"Method Not Allowed",`\`form\` functions must be invoked via POST request, not ${t.request.method}`);if(!V(t.request))throw new s(415,"Unsupported Media Type",`\`form\` functions expect form-encoded data — received ${t.request.headers.get("content-type")}`);const{data:n,meta:r,form_data:a}=await I(t.request);h&&!("id"in n)&&(n.id=JSON.parse(decodeURIComponent(h)));const i=y.fn,l=await c({event:t,state:o},()=>i(n,r,a));return e({type:"result",result:Je(l,g),refreshes:l.issues?void 0:await w(r.remote_refreshes)})}if("command"===y.type){const{payload:n,refreshes:r}=await t.request.json(),s=Ve(n,g),a=await c({event:t,state:o},()=>m(s));return e({type:"result",result:Je(a,g),refreshes:await w(r)})}const n="prerender"===y.type?h:new URL(t.request.url).searchParams.get("payload"),a=await c({event:t,state:o},()=>m(Ve(n,g)));return e({type:"result",result:Je(a,g)})}catch(v){if(v instanceof a)return e({type:"redirect",location:v.location,refreshes:await w(_)});const n=v instanceof r||v instanceof s?v.status:500;return e({type:"error",error:await de(t,o,i,v),status:n},{status:o.prerendering?n:void 0,headers:{"cache-control":"private, no-store"}})}async function w(e){const r=o.refreshes??{};if(e)for(const s of e){if(void 0!==r[s])continue;const[e,a,i]=s.split("/"),u=l._.remotes[e],d=(await(u?.()))?.default?.[a];d||n(400,"Bad Request"),r[s]=c({event:t,state:o},()=>d(Ve(i,g)))}if(0!==Object.keys(r).length)return Je(Object.fromEntries(await Promise.all(Object.entries(r).map(async([e,t])=>[e,await t]))),g)}}(h,o,i,u,d))}})}async function Ut(e,t,n,r){return Ee({name:"sveltekit.remote.form.post",attributes:{},fn:o=>{const i=l(e,o);return c({event:i,state:t},()=>async function(e,t,n,r){const[o,i,l]=r.split("/"),u=n._.remotes,d=await(u[o]?.());let p=d?.default[i];if(!p)return e.setHeaders({allow:"GET"}),{type:"error",error:new s(405,"Method Not Allowed","POST method not allowed. No form actions exist for this page")};l&&(p=c({event:e,state:t},()=>p.for(JSON.parse(l))));try{const n=p.__.fn,{data:r,meta:s,form_data:a}=await I(e.request);return l&&!("id"in r)&&(r.id=JSON.parse(decodeURIComponent(l))),await c({event:e,state:t},()=>n(r,s,a)),{type:"success",status:200}}catch(h){const e=h;return e instanceof a?{type:"redirect",status:e.status,location:e.location}:{type:"error",error:Oe(e)}}}(i,t,n,r))}})}async function zt(e,n,r,i,c,l,u,d){if(l.depth>10)return t(`Not found: ${e.url.pathname}`,{status:404});if(je(e)){const t=await c._.nodes[r.leaf]();return async function(e,t,n,r){const i=r?.actions;if(!i){const r=new s(405,"Method Not Allowed","POST method not allowed. No form actions exist for this page");return Re({type:"error",error:await de(e,t,n,r)},{status:r.status,headers:{allow:"GET"}})}Se(i);try{const r=await qe(e,t,i);return Re(r instanceof o?{type:"failure",status:r.status,data:Te(r.data,e.route.id,n.hooks.transport)}:{type:"success",status:r?200:204,data:Te(r,e.route.id,n.hooks.transport)})}catch(c){const r=c;return r instanceof a?Pe(r):Re({type:"error",error:await de(e,t,n,Oe(r))},{status:Q(r)})}}(e,n,i,t?.server)}try{const f=u.page();let m,y=200;if(function(e){return"POST"===e.request.method}(e)){const t=e.url.searchParams.get("/remote");if(m=t?await Ut(e,n,c,t):await async function(e,t,n){const r=n?.actions;if(!r)return e.setHeaders({allow:"GET"}),{type:"error",error:new s(405,"Method Not Allowed","POST method not allowed. No form actions exist for this page")};Se(r);try{const n=await qe(e,t,r);return n instanceof o?{type:"failure",status:n.status,data:n.data}:{type:"success",status:200,data:n}}catch(i){const e=i;return e instanceof a?{type:"redirect",status:e.status,location:e.location}:{type:"error",error:Oe(e)}}}(e,n,f.server),"redirect"===m?.type)return pe(m.status,m.location);"error"===m?.type&&(y=Q(m.error)),"failure"===m?.type&&(y=m.status)}const g=u.prerender();if(g){const e=f.server;if(e?.actions)throw new Error("Cannot prerender pages with actions")}else if(l.prerendering)return new Response(void 0,{status:204});l.prerender_default=g;const _=u.should_prerender_data(),w=ve(e.url.pathname),v=[],b=u.ssr(),$=u.csr();if(!(!1!==b||l.prerendering&&_))return h&&m&&e.request.headers.has("x-sveltekit-action"),await vt({branch:[],fetched:v,page_config:{ssr:!1,csr:$},status:y,error:null,event:e,event_state:n,options:i,manifest:c,state:l,resolve_opts:d,data_serializer:Ue(e,n,i)});const k=[];let x=null;const E=Ue(e,n,i),j=l.prerendering&&_?ze(e,n,i):null,O=u.data.map((t,r)=>{if(x)throw x;return Promise.resolve().then(async()=>{try{if(t===f&&"error"===m?.type)throw m.error;const s=await Qe({event:e,event_state:n,state:l,node:t,parent:async()=>{const e={};for(let t=0;t<r;t+=1){const n=await O[t];n&&Object.assign(e,n.data)}return e}});return t&&E.add_node(r,s),j?.add_node(r,s),s}catch(s){throw x=s,x}})}),P=u.data.map((t,r)=>{if(x)throw x;return Promise.resolve().then(async()=>{try{return await Xe({event:e,event_state:n,fetched:v,node:t,parent:async()=>{const e={};for(let t=0;t<r;t+=1)Object.assign(e,await P[t]);return e},resolve_opts:d,server_data_promise:O[r],state:l,csr:$})}catch(s){throw x=s,x}})});for(const e of O)e.catch(()=>{});for(const e of P)e.catch(()=>{});for(let s=0;s<u.data.length;s+=1){const o=u.data[s];if(o)try{const e=await O[s],t=await P[s];k.push({node:o,server_data:e,data:t})}catch(p){const o=Z(p);if(o instanceof a){if(l.prerendering&&_){const e=JSON.stringify({type:"redirect",location:o.location});l.prerendering.dependencies.set(w,{response:t(e),body:e})}return pe(o.status,o.location)}const u=Q(o),h=await de(e,n,i,o);for(;s--;)if(r.errors[s]){const t=r.errors[s],a=await c._.nodes[t]();let o=s;for(;!k[o];)o-=1;E.set_max_nodes(o+1);const p=ge(k.slice(0,o+1)),f=new Tt(p.map(e=>e.node));return await vt({event:e,event_state:n,options:i,manifest:c,state:l,resolve_opts:d,page_config:{ssr:f.ssr(),csr:f.csr()},status:u,error:h,branch:p.concat({node:a,data:null,server_data:null}),fetched:v,data_serializer:E})}return le(i,u,h.message)}else k.push(null)}if(l.prerendering&&j){let{data:e,chunks:n}=j.get_data();if(n)for await(const t of n)e+=t;l.prerendering.dependencies.set(w,{response:t(e),body:e})}return await vt({event:e,event_state:n,options:i,manifest:c,state:l,resolve_opts:d,page_config:{csr:$,ssr:b},status:y,error:null,branch:!1===b?[]:ge(k),action_result:m,fetched:v,data_serializer:!1===b?Ue(e,n,i):E})}catch(p){return await At({event:e,event_state:n,options:i,manifest:c,state:l,status:500,error:p,resolve_opts:d})}}function Lt(e,n=200){return t("string"==typeof e?e:JSON.stringify(e),{status:n,headers:{"content-type":"application/json","cache-control":"private, no-store"}})}function Nt(e){return Lt({type:"redirect",location:e.location})}const Ht=/[\x00-\x1F\x7F()<>@,;:"/[\]?={} \t]/;function It(e){if(void 0===e?.path)throw new Error("You must specify a `path` when setting, deleting or serializing cookies")}function Wt(e,t){const n=e.headers.get("cookie")??"",r=y.parse(n,{decode:e=>e});let s;const a=new Map,o={httpOnly:!0,sameSite:"lax",secure:"localhost"!==t.hostname||"http:"!==t.protocol},i={get(e,r){const s=Array.from(a.values()).filter(n=>n.name===e&&Dt(t.hostname,n.options.domain)&&Mt(t.pathname,n.options.path)).sort((e,t)=>t.options.path.length-e.options.path.length)[0];if(s)return 0===s.options.maxAge?void 0:s.value;return y.parse(n,{decode:r?.decode})[e]},getAll(e){const r=y.parse(n,{decode:e?.decode}),s=new Map;for(const n of a.values())if(Dt(t.hostname,n.options.domain)&&Mt(t.pathname,n.options.path)){const e=s.get(n.name);(!e||n.options.path.length>e.options.path.length)&&s.set(n.name,n)}for(const t of s.values())r[t.name]=t.value;return Object.entries(r).map(([e,t])=>({name:e,value:t}))},set(e,t,n){e.match(Ht);It(n),l(e,t,{...o,...n})},delete(e,t){It(t),i.set(e,"",{...t,maxAge:0})},serialize(e,n,r){It(r);let a=r.path;if(!r.domain||r.domain===t.hostname){if(!s)throw new Error("Cannot serialize cookies until after the route is determined");a=Ne(s,a)}return y.serialize(e,n,{...o,...r,path:a})}};const c=[];function l(e,n,r){if(!s)return void c.push(()=>l(e,n,r));let o=r.path;r.domain&&r.domain!==t.hostname||(o=Ne(s,o));const i=function(e,t,n){return`${e||""}${t}?${encodeURIComponent(n)}`}(r.domain,o,e),u={name:e,value:n,options:{...r,path:o}};a.set(i,u)}return{cookies:i,new_cookies:a,get_cookie_header:function(e,t){const n={...r};for(const r of a.values()){if(!Dt(e.hostname,r.options.domain))continue;if(!Mt(e.pathname,r.options.path))continue;const t=r.options.encode||encodeURIComponent;n[r.name]=t(r.value)}if(t){const e=y.parse(t,{decode:e=>e});for(const t in e)n[t]=e[t]}return Object.entries(n).map(([e,t])=>`${e}=${t}`).join("; ")},set_internal:l,set_trailing_slash:function(e){s=He(t.pathname,e),c.forEach(e=>e())}}}function Dt(e,t){if(!t)return!0;const n="."===t[0]?t.slice(1):t;return e===n||e.endsWith("."+n)}function Mt(e,t){if(!t)return!0;const n=t.endsWith("/")?t.slice(0,-1):t;return e===n||e.startsWith(n+"/")}function Ft(e,t){for(const n of t){const{name:t,value:r,options:s}=n;if(e.append("set-cookie",y.serialize(t,r,s)),s.path.endsWith(".html")){const n=ve(s.path);e.append("set-cookie",y.serialize(t,r,{...s,path:n}))}}}let Bt,Jt,Gt,Vt=null;function Zt(e){Vt=e}function Qt(e){}function Xt({event:e,options:t,manifest:n,state:r,get_cookie_header:s,set_internal:a}){const o=async(o,i)=>{const c=Yt(o,i,e.url);let l=(o instanceof Request?o.mode:i?.mode)??"cors",u=(o instanceof Request?o.credentials:i?.credentials)??"same-origin";return t.hooks.handleFetch({event:e,request:c,fetch:async(o,i)=>{const d=Yt(o,i,e.url),p=new URL(d.url);if(d.headers.has("origin")||d.headers.set("origin",e.url.origin),o!==c&&(l=(o instanceof Request?o.mode:i?.mode)??"cors",u=(o instanceof Request?o.credentials:i?.credentials)??"same-origin"),"GET"!==d.method&&"HEAD"!==d.method||("no-cors"!==l||p.origin===e.url.origin)&&p.origin!==e.url.origin||d.headers.delete("origin"),p.origin!==e.url.origin){if(`.${p.hostname}`.endsWith(`.${e.url.hostname}`)&&"omit"!==u){const e=s(p,d.headers.get("cookie"));e&&d.headers.set("cookie",e)}return fetch(d)}const h=O||j,f=decodeURIComponent(p.pathname),m=(f.startsWith(h)?f.slice(h.length):f).slice(1),y=`${m}/index.html`,_=n.assets.has(m)||m in n._.server_assets,w=n.assets.has(y)||y in n._.server_assets;if(_||w){const e=_?m:y;if(r.read){const t=_?n.mimeTypes[m.slice(m.lastIndexOf("."))]:"text/html";return new Response(r.read(e),{headers:t?{"content-type":t}:{}})}if(Vt&&e in n._.server_assets){const t=n._.server_assets[e],r=n.mimeTypes[e.slice(e.lastIndexOf("."))];return new Response(Vt(e),{headers:{"Content-Length":""+t,"Content-Type":r}})}return await fetch(d)}if(me(n,j+f))return await fetch(d);if("omit"!==u){const t=s(p,d.headers.get("cookie"));t&&d.headers.set("cookie",t);const n=e.request.headers.get("authorization");n&&!d.headers.has("authorization")&&d.headers.set("authorization",n)}d.headers.has("accept")||d.headers.set("accept","*/*"),d.headers.has("accept-language")||d.headers.set("accept-language",e.request.headers.get("accept-language"));const v=await async function(e,t,n,r){if(e.signal){if(e.signal.aborted)throw new DOMException("The operation was aborted.","AbortError");let s=()=>{};const a=new Promise((t,n)=>{const r=()=>{n(new DOMException("The operation was aborted.","AbortError"))};e.signal.addEventListener("abort",r,{once:!0}),s=()=>e.signal.removeEventListener("abort",r)}),o=await Promise.race([sn(e,t,n,{...r,depth:r.depth+1}),a]);return s(),o}return await sn(e,t,n,{...r,depth:r.depth+1})}(d,t,n,r),b=v.headers.get("set-cookie");if(b)for(const e of g.splitCookiesString(b)){const{name:t,value:n,...r}=g.parseString(e,{decodeValues:!1}),s=r.path??(p.pathname.split("/").slice(0,-1).join("/")||"/");a(t,n,{path:s,encode:e=>e,...r})}return v}})};return(e,t)=>{const n=o(e,t);return n.catch(()=>{}),n}}function Yt(e,t,n){return e instanceof Request?e:new Request("string"==typeof e?new URL(e,n):e,t)}const Kt=({html:e})=>e,en=()=>!1,tn=({type:e})=>"js"===e||"css"===e,nn=new Set(["GET","HEAD","POST"]),rn=new Set(["GET","HEAD","OPTIONS"]);const sn=(an=async function(n,o,i,u){const d=new URL(n.url),p=d.pathname.endsWith(be),f=function(e){return e.endsWith(_e)||e.endsWith(we)}(d.pathname),m=function(e){return e.pathname.startsWith(`${j}/${P}/remote/`)&&e.pathname.replace(`${j}/${P}/remote/`,"")}(d);{const r=n.headers.get("origin");if(m){if("GET"!==n.method&&r!==d.origin)return e({message:"Cross-site remote requests are forbidden"},{status:403})}else if(o.csrf_check_origin&&V(n)&&("POST"===n.method||"PUT"===n.method||"PATCH"===n.method||"DELETE"===n.method)&&r!==d.origin&&(!r||!o.csrf_trusted_origins.includes(r))){const r=`Cross-site ${n.method} form submissions are forbidden`,s={status:403};return"application/json"===n.headers.get("accept")?e({message:r},s):t(r,s)}}if(o.hash_routing&&d.pathname!==j+"/"&&"/[fallback]"!==d.pathname)return t("Not found",{status:404});let y;p?d.pathname=function(e){return e.slice(0,-11)}(d.pathname):f?(d.pathname=function(e){return e.endsWith(we)?e.slice(0,-16)+".html":e.slice(0,-12)}(d.pathname)+("1"===d.searchParams.get(Be)?"/":"")||"/",d.searchParams.delete(Be),y=d.searchParams.get(Fe)?.split("").map(e=>"1"===e),d.searchParams.delete(Fe)):m&&(d.pathname=n.headers.get("x-sveltekit-pathname")??j,d.search=n.headers.get("x-sveltekit-search")??"");const g={},{cookies:_,new_cookies:w,get_cookie_header:v,set_internal:b,set_trailing_slash:$}=Wt(n,d),k={prerendering:u.prerendering,transport:o.hooks.transport,handleValidationError:o.hooks.handleValidationError,tracing:{record_span:Ee},is_in_remote_function:!1},x={cookies:_,fetch:null,getClientAddress:u.getClientAddress||(()=>{throw new Error("@sveltejs/adapter-auto does not specify getClientAddress. Please raise an issue")}),locals:{},params:{},platform:u.platform,request:n,route:{id:null},setHeaders:e=>{for(const t in e){const n=t.toLowerCase(),r=e[t];if("set-cookie"===n)throw new Error("Use `event.cookies.set(name, value, options)` instead of `event.setHeaders` to set cookies");if(n in g){if("server-timing"!==n)throw new Error(`"${t}" header is already set`);g[n]+=", "+r}else g[n]=r,u.prerendering&&"cache-control"===n&&(u.prerendering.cache=r)}},url:d,isDataRequest:f,isSubRequest:u.depth>0,isRemoteRequest:!!m};x.fetch=Xt({event:x,options:o,manifest:i,state:u,get_cookie_header:v,set_internal:b}),u.emulator?.platform&&(x.platform=await u.emulator.platform({config:{},prerender:!!u.prerendering?.fallback}));let E=d.pathname;if(!m){const e=u.prerendering?.inside_reroute;try{u.prerendering&&(u.prerendering.inside_reroute=!0),E=await o.hooks.reroute({url:new URL(d),fetch:x.fetch})??d.pathname}catch{return t("Internal Server Error",{status:500})}finally{u.prerendering&&(u.prerendering.inside_reroute=e)}}try{E=function(e){return e.split("%25").map(decodeURI).join("%25")}(E)}catch{return t("Malformed URI",{status:400})}if(E!==d.pathname&&!u.prerendering?.fallback&&me(i,E)){const e=new URL(n.url);e.pathname=f?ve(E):p?$e(E):E;const t=await fetch(e,n),r=new Headers(t.headers);return r.has("content-encoding")&&(r.delete("content-encoding"),r.delete("content-length")),new Response(t.body,{headers:r,status:t.status,statusText:t.statusText})}let O=null;if(j&&!u.prerendering?.fallback){if(!E.startsWith(j))return t("Not found",{status:404});E=E.slice(j.length)||"/"}if(p)return async function(e,n,r){if(!r._.client.routes)return t("Server-side route resolution disabled",{status:400});let s=null,a={};const o=await r._.matchers();for(const t of r._.client.routes){const n=t.pattern.exec(e);if(!n)continue;const r=mt(n,t.params,o);if(r){s=t,a=Ie(r);break}}return _t(s,a,n,r).response}(E,new URL(n.url),i);if(E===`/${P}/env.js`)return function(e){return Bt??=`export const env=${JSON.stringify(X)}`,Jt??=`W/${Date.now()}`,Gt??=new Headers({"content-type":"application/javascript; charset=utf-8",etag:Jt}),e.headers.get("if-none-match")===Jt?new Response(void 0,{status:304,headers:Gt}):new Response(Bt,{headers:Gt})}(n);if(!m&&E.startsWith(`/${P}`)){const e=new Headers;return e.set("cache-control","public, max-age=0, must-revalidate"),t("Not found",{status:404,headers:e})}if(!u.prerendering?.fallback){const e=await i._.matchers();for(const t of i._.routes){const n=t.pattern.exec(E);if(!n)continue;const r=mt(n,t.params,e);if(r){O=t,x.route={id:O.id},x.params=Ie(r);break}}}let R={transformPageChunk:Kt,filterSerializedResponseHeaders:en,preload:tn},S="never";try{const e=O?.page?new Tt(await function(e,t){return Promise.all([...e.layouts.map(e=>null==e?e:t._.nodes[e]()),t._.nodes[e.leaf]()])}(O.page,i)):void 0;if(O&&!m){if(d.pathname===j||d.pathname===j+"/")S="always";else if(e)S=e.trailing_slash();else if(O.endpoint){const e=await O.endpoint();S=e.trailingSlash??"never"}if(!f){const e=He(d.pathname,S);if(e!==d.pathname&&!u.prerendering?.fallback)return new Response(void 0,{status:308,headers:{"x-sveltekit-normalize":"1",location:(e.startsWith("//")?d.origin+e:e)+("?"===d.search?"":d.search)}})}if(u.before_handle||u.emulator?.platform){let t={},n=!1;if(O.endpoint){const e=await O.endpoint();t=e.config??t,n=e.prerender??n}else e&&(t=e.get_config()??t,n=e.prerender());u.before_handle&&u.before_handle(x,t,n),u.emulator?.platform&&(x.platform=await u.emulator.platform({config:t,prerender:n}))}}$(S),!u.prerendering||u.prerendering.fallback||u.prerendering.inside_reroute||De(d);const p=await Ee({name:"sveltekit.handle.root",attributes:{"http.route":x.route.id||"unknown","http.method":x.request.method,"http.url":x.url.href,"sveltekit.is_data_request":f,"sveltekit.is_sub_request":x.isSubRequest},fn:async d=>{const p={...x,tracing:{enabled:!1,root:d,current:d}};return await c({event:p,state:k},()=>o.hooks.handle({event:p,resolve:(d,p)=>Ee({name:"sveltekit.resolve",attributes:{"http.route":d.route.id||"unknown"},fn:_=>c(null,()=>async function(e,l,d){try{if(d&&(R={transformPageChunk:d.transformPageChunk||Kt,filterSerializedResponseHeaders:d.filterSerializedResponseHeaders||en,preload:d.preload||tn}),o.hash_routing||u.prerendering?.fallback)return await vt({event:e,event_state:k,options:o,manifest:i,state:u,page_config:{ssr:!1,csr:!0},status:200,error:null,branch:[],fetched:[],resolve_opts:R,data_serializer:Ue(e,k,o)});if(m)return await Ct(e,k,o,i,m);if(O){const t=e.request.method;let d;if(f)d=await async function(e,t,n,o,i,c,l,u){if(!n.page)return new Response(void 0,{status:404});try{const d=[...n.page.layouts,n.page.leaf],p=l??d.map(()=>!0);let h=!1;const f=new URL(e.url);f.pathname=He(f.pathname,u);const m={...e,url:f},y=d.map((e,n)=>function(e){let t,n=!1;return()=>n?t:(n=!0,t=e())}(async()=>{try{if(h)return{type:"skip"};const r=null==e?e:await i._.nodes[e]();return Qe({event:m,event_state:t,state:c,node:r,parent:async()=>{const e={};for(let t=0;t<n;t+=1){const n=await y[t]();n&&Object.assign(e,n.data)}return e}})}catch(r){throw h=!0,r}})),g=y.map(async(e,t)=>p[t]?e():{type:"skip"});let _=g.length;const w=await Promise.all(g.map((n,i)=>n.catch(async n=>{if(n instanceof a)throw n;return _=Math.min(_,i+1),{type:"error",error:await de(e,t,o,n),status:n instanceof r||n instanceof s?n.status:void 0}}))),v=ze(e,t,o);for(let e=0;e<w.length;e++)v.add_node(e,w[e]);const{data:b,chunks:$}=v.get_data();return $?new Response(new ReadableStream({async start(e){e.enqueue(C.encode(b));for await(const t of $)e.enqueue(C.encode(t));e.close()},type:"bytes"}),{headers:{"content-type":"text/sveltekit-data","cache-control":"private, no-store"}}):Lt(b)}catch(d){const n=d;return n instanceof a?Nt(n):Lt(await de(e,t,o,n),500)}}(e,k,O,o,i,u,y,S);else if(!O.endpoint||O.page&&!function(e){const{method:t,headers:n}=e.request;return!(!T.includes(t)||A.includes(t))||("POST"!==t||"true"!==n.get("x-sveltekit-action"))&&"text/html"!==G(e.request.headers.get("accept")??"*/*",["*","text/html"])}(e)){if(!O.page)throw new Error("Route is neither page nor endpoint. This should never happen");if(!l)throw new Error("page_nodes not found. This should never happen");if(nn.has(t))d=await zt(e,k,O.page,o,i,u,l,R);else{const e=new Set(rn),n=await i._.nodes[O.page.leaf]();n?.server?.actions&&e.add("POST"),d="OPTIONS"===t?new Response(null,{status:204,headers:{allow:Array.from(e.values()).join(", ")}}):oe([...e].reduce((e,t)=>(e[t]=!0,e),{}),t)}}else d=await async function(e,t,n,r){const s=e.request.method;let o=n[s]||n.fallback;if("HEAD"===s&&!n.HEAD&&n.GET&&(o=n.GET),!o)return oe(n,s);const i=n.prerender??r.prerender_default;if(i&&(n.POST||n.PATCH||n.PUT||n.DELETE))throw new Error("Cannot prerender endpoints that have mutative methods");if(r.prerendering&&!r.prerendering.inside_reroute&&!i){if(r.depth>0)throw new Error(`${e.route.id} is not prerenderable`);return new Response(void 0,{status:204})}t.is_endpoint_request=!0;try{const n=await c({event:e,state:t},()=>o(e));if(!(n instanceof Response))throw new Error(`Invalid response from route ${e.url.pathname}: handler should return a Response object`);if(r.prerendering&&(!r.prerendering.inside_reroute||i)){const t=new Response(n.clone().body,{status:n.status,statusText:n.statusText,headers:new Headers(n.headers)});if(t.headers.set("x-sveltekit-prerender",String(i)),!r.prerendering.inside_reroute||!i)return t;t.headers.set("x-sveltekit-routeid",encodeURI(e.route.id)),r.prerendering.dependencies.set(e.url.pathname,{response:t,body:null})}return n}catch(l){if(l instanceof a)return new Response(void 0,{status:l.status,headers:{location:l.location}});throw l}}(e,k,await O.endpoint(),u);if("GET"===n.method&&O.page&&O.endpoint){const e=d.headers.get("vary")?.split(",")?.map(e=>e.trim().toLowerCase());e?.includes("accept")||e?.includes("*")||(d=new Response(d.body,{status:d.status,statusText:d.statusText,headers:new Headers(d.headers)}),d.headers.append("Vary","Accept"))}return d}if(u.error&&e.isSubRequest){const e=new Headers(n.headers);return e.set("x-sveltekit-error","true"),await fetch(n,{headers:e})}if(u.error)return t("Internal Server Error",{status:500});if(0===u.depth)return h&&e.url.pathname,await At({event:e,event_state:k,options:o,manifest:i,state:u,status:404,error:new s(404,"Not Found",`Not found: ${e.url.pathname}`),resolve_opts:R});if(u.prerendering)return t("not found",{status:404});const p=await fetch(n);return new Response(p.body,p)}catch(p){return await ue(e,k,o,p)}finally{e.cookies.set=()=>{throw new Error("Cannot use `cookies.set(...)` after the response has been generated")},e.setHeaders=()=>{throw new Error("Cannot use `setHeaders(...)` after the response has been generated")}}}(l(d,_),e,p).then(e=>{for(const t in g){const n=g[t];e.headers.set(t,n)}return Ft(e.headers,w.values()),u.prerendering&&null!==d.route.id&&e.headers.set("x-sveltekit-routeid",encodeURI(d.route.id)),_.setAttributes({"http.response.status_code":e.status,"http.response.body.size":e.headers.get("content-length")||"unknown"}),e}))})}))}});if(200===p.status&&p.headers.has("etag")){let e=n.headers.get("if-none-match");e?.startsWith('W/"')&&(e=e.substring(2));const t=p.headers.get("etag");if(e===t){const e=new Headers({etag:t});for(const t of["cache-control","content-location","date","expires","vary","set-cookie"]){const n=p.headers.get(t);n&&e.set(t,n)}return new Response(void 0,{status:304,headers:e})}}if(f&&p.status>=300&&p.status<=308){const e=p.headers.get("location");if(e)return Nt(new a(p.status,e))}return p}catch(q){if(q instanceof a){const e=f||m?Nt(q):O?.page&&je(x)?Pe(q):pe(q.status,q.location);return Ft(e.headers,w.values()),e}return await ue(x,k,o,q)}},async(e,...t)=>an(e,...t));var an;let on=!1;function cn(){}function ln(){on=!0}const un={app_template_contains_nonce:!1,async:!1,csp:{mode:"auto",directives:{"upgrade-insecure-requests":!1,"block-all-mixed-content":!1},reportOnly:{"upgrade-insecure-requests":!1,"block-all-mixed-content":!1}},csrf_check_origin:!0,csrf_trusted_origins:[],embedded:!1,env_public_prefix:"PUBLIC_",env_private_prefix:"",hash_routing:!1,hooks:null,preload_strategy:"modulepreload",root:b(function(e,t){e.component(e=>{let{stores:n,page:r,constructors:s,form:a,data_0:o=null,data_1:i=null,data_2:c=null}=t;v("__svelte__",n),n.page.set(r);const l=s[2];if(s[1]){e.push("\x3c!--[--\x3e");const t=s[0];e.push("\x3c!----\x3e"),t(e,{data:o,form:a,params:r.params,children:e=>{if(s[2]){e.push("\x3c!--[--\x3e");const t=s[1];e.push("\x3c!----\x3e"),t(e,{data:i,form:a,params:r.params,children:e=>{e.push("\x3c!----\x3e"),l(e,{data:c,form:a,params:r.params}),e.push("\x3c!----\x3e")},$$slots:{default:!0}}),e.push("\x3c!----\x3e")}else{e.push("\x3c!--[!--\x3e");const t=s[1];e.push("\x3c!----\x3e"),t(e,{data:i,form:a,params:r.params}),e.push("\x3c!----\x3e")}e.push("\x3c!--]--\x3e")},$$slots:{default:!0}}),e.push("\x3c!----\x3e")}else{e.push("\x3c!--[!--\x3e");const t=s[0];e.push("\x3c!----\x3e"),t(e,{data:o,form:a,params:r.params}),e.push("\x3c!----\x3e")}e.push("\x3c!--]--\x3e "),e.push("\x3c!--[!--\x3e"),e.push("\x3c!--]--\x3e")})}),service_worker:!1,service_worker_options:void 0,templates:{app:({head:e,body:t,assets:n,nonce:r,env:s})=>'<!doctype html>\n<html lang="en">\n\t<head>\n\t\t<meta charset="utf-8" />\n\t\t<link rel="icon" href="'+n+'/favicon.png" />\n\t\t<meta name="viewport" content="width=device-width, initial-scale=1" />\n\t\t'+e+'\n\t</head>\n\t<body data-sveltekit-preload-data="hover">\n\t\t<div style="display: contents">'+t+"</div>\n\t</body>\n</html>\n",error:({status:e,message:t})=>'<!doctype html>\n<html lang="en">\n\t<head>\n\t\t<meta charset="utf-8" />\n\t\t<title>'+t+"</title>\n\n\t\t<style>\n\t\t\tbody {\n\t\t\t\t--bg: white;\n\t\t\t\t--fg: #222;\n\t\t\t\t--divider: #ccc;\n\t\t\t\tbackground: var(--bg);\n\t\t\t\tcolor: var(--fg);\n\t\t\t\tfont-family:\n\t\t\t\t\tsystem-ui,\n\t\t\t\t\t-apple-system,\n\t\t\t\t\tBlinkMacSystemFont,\n\t\t\t\t\t'Segoe UI',\n\t\t\t\t\tRoboto,\n\t\t\t\t\tOxygen,\n\t\t\t\t\tUbuntu,\n\t\t\t\t\tCantarell,\n\t\t\t\t\t'Open Sans',\n\t\t\t\t\t'Helvetica Neue',\n\t\t\t\t\tsans-serif;\n\t\t\t\tdisplay: flex;\n\t\t\t\talign-items: center;\n\t\t\t\tjustify-content: center;\n\t\t\t\theight: 100vh;\n\t\t\t\tmargin: 0;\n\t\t\t}\n\n\t\t\t.error {\n\t\t\t\tdisplay: flex;\n\t\t\t\talign-items: center;\n\t\t\t\tmax-width: 32rem;\n\t\t\t\tmargin: 0 1rem;\n\t\t\t}\n\n\t\t\t.status {\n\t\t\t\tfont-weight: 200;\n\t\t\t\tfont-size: 3rem;\n\t\t\t\tline-height: 1;\n\t\t\t\tposition: relative;\n\t\t\t\ttop: -0.05rem;\n\t\t\t}\n\n\t\t\t.message {\n\t\t\t\tborder-left: 1px solid var(--divider);\n\t\t\t\tpadding: 0 0 0 1rem;\n\t\t\t\tmargin: 0 0 0 1rem;\n\t\t\t\tmin-height: 2.5rem;\n\t\t\t\tdisplay: flex;\n\t\t\t\talign-items: center;\n\t\t\t}\n\n\t\t\t.message h1 {\n\t\t\t\tfont-weight: 400;\n\t\t\t\tfont-size: 1em;\n\t\t\t\tmargin: 0;\n\t\t\t}\n\n\t\t\t@media (prefers-color-scheme: dark) {\n\t\t\t\tbody {\n\t\t\t\t\t--bg: #222;\n\t\t\t\t\t--fg: #ddd;\n\t\t\t\t\t--divider: #666;\n\t\t\t\t}\n\t\t\t}\n\t\t</style>\n\t</head>\n\t<body>\n\t\t<div class=\"error\">\n\t\t\t<span class=\"status\">"+e+'</span>\n\t\t\t<div class="message">\n\t\t\t\t<h1>'+t+"</h1>\n\t\t\t</div>\n\t\t</div>\n\t</body>\n</html>\n"},version_hash:"vmmy36"};async function dn(){return{handle:undefined,handleFetch:undefined,handleError:undefined,handleValidationError:undefined,init:undefined,reroute:undefined,transport:undefined}}function pn(e,t,n){return Object.fromEntries(Object.entries(e).filter(([e])=>e.startsWith(t)&&(""===n||!e.startsWith(n))))}let hn,fn=null;class mn{#w;#v;constructor(e){if(this.#w=un,this.#v=e,E){const e=this.respond.bind(this);this.respond=async(...t)=>{const{promise:n,resolve:r}=k(),s=fn;return fn=n,await s,e(...t).finally(r)}}}async init({env:e,read:t}){const{env_public_prefix:n,env_private_prefix:r}=this.#w;if(pn(e,r,n),K(pn(e,n,r)),t){Zt(e=>{const n=t(e);return n instanceof ReadableStream?n:new ReadableStream({async start(e){try{const t=await Promise.resolve(n);if(!t)return void e.close();const r=t.getReader();for(;;){const{done:t,value:n}=await r.read();if(t)break;e.enqueue(n)}e.close()}catch(t){e.error(t)}}})})}await(hn??=(async()=>{try{const e=await dn();this.#w.hooks={handle:e.handle||(({event:e,resolve:t})=>t(e)),handleError:e.handleError||(({status:e,error:t,event:n})=>{!function(e,t,n){const r=`\n[1;31m[${e}] ${n.request.method} ${n.url.pathname}[0m`;404===e||t.stack}(e,t,n)}),handleFetch:e.handleFetch||(({request:e,fetch:t})=>t(e)),handleValidationError:e.handleValidationError||(({issues:e})=>({message:"Bad Request"})),reroute:e.reroute||(()=>{}),transport:e.transport||{}},e.transport&&Object.fromEntries(Object.entries(e.transport).map(([e,t])=>[e,t.decode])),e.init&&await e.init()}catch(e){throw e}})())}async respond(e,t){return sn(e,this.#w,this.#v,{...t,error:!1,depth:0})}}function yn(e,t){if(!t)return e=>{void 0!==e&&n(400,"Bad Request")};if("unchecked"===e)return e=>e;if("~standard"in e)return async t=>{const{event:r,state:s}=d(),a=await e["~standard"].validate(t);return a.issues&&n(400,await s.handleValidationError({issues:a.issues,event:r})),a.value};throw new Error('Invalid validator passed to remote function. Expected "unchecked" or a Standard Schema (https://standardschema.dev)')}async function gn(e,t,n,r){await 0;const s=wn(e,n);return s[Ge(t,n.transport)]??=r()}async function _n(e,t,n,r,s,a){const o={event:{...e,setHeaders:()=>{throw new Error("setHeaders is not allowed in remote functions")},cookies:{...e.cookies,set:(t,r,s)=>{if(!n)throw new Error("Cannot set cookies in `query` or `prerender` functions");if(s.path&&!s.path.startsWith("/"))throw new Error("Cookies set in remote functions must have an absolute path");return e.cookies.set(t,r,s)},delete:(t,r)=>{if(!n)throw new Error("Cannot delete cookies in `query` or `prerender` functions");if(r.path&&!r.path.startsWith("/"))throw new Error("Cookies deleted in remote functions must have an absolute path");return e.cookies.delete(t,r)}}},state:{...t,is_in_remote_function:!0}},i=await c(o,()=>s(r));return c(o,()=>a(i))}function wn(e,t=d().state){let n=t.remote_data?.get(e);return void 0===n&&(n={},(t.remote_data??=new Map).set(e,n)),n}function vn(e,t){const n=t??e,r=yn(e,t),s={type:"command",id:"",name:""},a=e=>{const{event:a,state:o}=d();if(o.is_endpoint_request){if(!["POST","PUT","PATCH","DELETE"].includes(a.request.method))throw new Error(`Cannot call a command (\`${s.name}(${t?"...":""})\`) from a ${a.request.method} handler`)}else if(!a.isRemoteRequest)throw new Error(`Cannot call a command (\`${s.name}(${t?"...":""})\`) during server-side rendering`);o.refreshes??={};const i=Promise.resolve(_n(a,o,!0,e,r,n));return i.updates=()=>{throw new Error(`Cannot call '${s.name}(...).updates(...)' on the server`)},i};return Object.defineProperty(a,"__",{value:s}),Object.defineProperty(a,"pending",{get:()=>0}),a}function bn(e,t){const n=t??e,r=t&&"unchecked"!==e?e:null;return function e(s){const a={method:"POST"};Object.defineProperty(a,"enhance",{value:()=>({action:a.action,method:a.method})});const o={type:"submit",onclick:()=>{}};Object.defineProperty(o,"enhance",{value:()=>({type:"submit",formaction:a.buttonProps.formaction,onclick:()=>{}})}),Object.defineProperty(a,"buttonProps",{value:o});const c={type:"form",name:"",id:"",fn:async(e,s,a)=>{const o={submission:!0},{event:l,state:u}=d(),p=await(r?.["~standard"].validate(e));if(s.validate_only)return p?.issues?.map(e=>B(e,!0))??[];if(void 0!==p?.issues)$n(o,p.issues,a);else{void 0!==p&&(e=p.value),u.refreshes??={};const r=function(){return new Proxy(t=>{if("string"!=typeof t)throw new Error("`invalid` should now be imported from `@sveltejs/kit` to throw validation issues. The second parameter provided to the form function (renamed to `issue`) is still used to construct issues, e.g. `invalid(issue.field('message'))`. For more info see https://github.com/sveltejs/kit/pulls/14768");return e(t)},{get:(e,n)=>"symbol"==typeof n?e[n]:t(n,[])});function e(e,t=[]){return{message:e,path:t}}function t(n,r){const s=[...r,n];return new Proxy(t=>e(t,s),{get:(e,n)=>"symbol"==typeof n?e[n]:/^\d+$/.test(n)?t(parseInt(n,10),s):t(n,s)})}}();try{o.result=await _n(l,u,!0,e,e=>e,e=>t?n(e,r):n())}catch(h){if(!(h instanceof i))throw h;$n(o,h.issues,a)}}return l.isRemoteRequest||(wn(c,u)[""]??=o),o}};return Object.defineProperty(a,"__",{value:c}),Object.defineProperty(a,"action",{get:()=>`?/remote=${c.id}`,enumerable:!0}),Object.defineProperty(o,"formaction",{get:()=>`?/remote=${c.id}`,enumerable:!0}),Object.defineProperty(a,"fields",{get(){const e=wn(c)?.[""],t=function(e){const t={};for(const n of e){(t.$??=[]).push(n);let e="";if(void 0!==n.path)for(const r of n.path)"number"==typeof r?e+=`[${r}]`:"string"==typeof r&&(e+=""===e?r:"."+r),(t[e]??=[]).push(n)}return t}(e?.issues??[]);return J({},()=>e?.input??{},(t,n)=>{if(e?.submission)return;const r=0===t.length?n:F(e?.input??{},t.map(String),n);(wn(c)[""]??={}).input=r},()=>t)}}),Object.defineProperty(a,"result",{get(){try{return wn(c)?.[""]?.result}catch{return}}}),Object.defineProperty(a,"pending",{get:()=>0}),Object.defineProperty(o,"pending",{get:()=>0}),Object.defineProperty(a,"preflight",{value:()=>a}),Object.defineProperty(a,"validate",{value:()=>{throw new Error("Cannot call validate() on the server")}}),null==s&&Object.defineProperty(a,"for",{value:t=>{const{state:n}=d(),r=c.id+"|"+JSON.stringify(t);let s=(n.form_instances??=new Map).get(r);return s||(s=e(t),s.__.id=`${c.id}/${encodeURIComponent(JSON.stringify(t))}`,s.__.name=c.name,n.form_instances.set(r,s)),s}}),a}()}function $n(e,t,n){if(e.issues=t.map(e=>B(e,!0)),n){e.input={};for(let t of n.keys()){if(/^[.\]]?_/.test(t))continue;const r=t.endsWith("[]"),s=n.getAll(t).filter(e=>"string"==typeof e);r&&(t=t.slice(0,-2)),L(e.input,t,r?s:s[0])}}}function kn(t,r,s){const a="function"==typeof r?r:void 0,o=s??(a?void 0:r),i=a??t,c=yn(t,a),l={type:"prerender",id:"",name:"",has_arg:!!a,inputs:o?.inputs,dynamic:o?.dynamic},u=t=>{const r=(async()=>{const{event:r,state:s}=d(),a=Ge(t,s.transport),o=`${j}/${P}/remote/${l.id}${a?`/${a}`:""}`;if(!s.prerendering&&!h&&!r.isRemoteRequest)try{return await gn(l,t,s,async()=>{const e=Ge(t,s.transport),a=wn(l,s),i=a[e]??=fetch(new URL(o,r.url.origin).href).then(async e=>{if(!e.ok)throw new Error("Prerendered response not found");const t=await e.json();return"error"===t.type&&n(t.status,t.error),t.result});return function(e,t){const n={};for(const r in t)n[r]=t[r].decode;return p(e,n)}(await i,s.transport)})}catch{}if(s.prerendering?.remote_responses.has(o))return s.prerendering.remote_responses.get(o);const u=gn(l,t,s,()=>_n(r,s,!1,t,c,i));s.prerendering&&s.prerendering.remote_responses.set(o,u);const f=await u;if(s.prerendering){const t={type:"result",result:Je(f,s.transport)};s.prerendering.dependencies.set(o,{body:JSON.stringify(t),response:e(t)})}return f})();return r.catch(()=>{}),r};return Object.defineProperty(u,"__",{value:l}),u}function xn(e,t){const n=t??e,r=yn(e,t),s={type:"query",id:"",name:""},a=e=>{if(on)throw new Error(`Cannot call query '${s.name}' while prerendering, as prerendered pages need static data. Use 'prerender' from $app/server instead`);const{event:t,state:a}=d(),o=()=>_n(t,a,!1,e,r,n),i=gn(s,e,a,o);return i.catch(()=>{}),i.set=t=>jn(En(s,"set",e),t),i.refresh=()=>{const t=En(s,"refresh",e),n=!t.cache[t.cache_key];return jn(t,n?i:o(),n)},i.withOverride=()=>{throw new Error(`Cannot call '${s.name}.withOverride()' on the server`)},i};return Object.defineProperty(a,"__",{value:s}),a}function En(e,t,n){const{state:r}=d(),{refreshes:s}=r;if(!s){const n="query_batch"===e.type?`query.batch '${e.name}'`:`query '${e.name}'`;throw new Error(`Cannot call ${t} on ${n} because it is not executed in the context of a command/form remote function`)}const a=wn(e,r),o=Ge(n,r.transport);return{__:e,state:r,refreshes:s,refreshes_key:Ze(e.id,o),cache:a,cache_key:o}}function jn({__:e,refreshes:t,refreshes_key:n,cache:r,cache_key:s},a,o=!1){const i=Promise.resolve(a);return o||(r[s]=i),e.id&&(t[n]=i),i.then(()=>{})}Object.defineProperty(xn,"batch",{value:function(e,t){const n=t??e,r=yn(e,t),s={type:"query_batch",id:"",name:"",run:e=>{const{event:t,state:s}=d();return _n(t,s,!1,e,e=>Promise.all(e.map(r)),n)}};let a={args:[],resolvers:[]};const o=e=>{if(on)throw new Error(`Cannot call query.batch '${s.name}' while prerendering, as prerendered pages need static data. Use 'prerender' from $app/server instead`);const{event:t,state:o}=d(),i=()=>new Promise((s,i)=>{a.args.push(e),a.resolvers.push({resolve:s,reject:i}),a.args.length>1||setTimeout(async()=>{const e=a;a={args:[],resolvers:[]};try{const a=await _n(t,o,!1,e.args,e=>Promise.all(e.map(r)),n);for(let t=0;t<e.resolvers.length;t++)try{e.resolvers[t].resolve(a(e.args[t],t))}catch(s){e.resolvers[t].reject(s)}}catch(s){for(const t of e.resolvers)t.reject(s)}},0)}),c=gn(s,e,o,i);return c.catch(()=>{}),c.set=t=>jn(En(s,"set",e),t),c.refresh=()=>{const t=En(s,"refresh",e),n=!t.cache[t.cache_key];return jn(t,n?c:i(),n)},c.withOverride=()=>{throw new Error(`Cannot call '${s.name}.withOverride()' on the server`)},c};return Object.defineProperty(o,"__",{value:s}),o},enumerable:!0});const On={subscribe:e=>(()=>{const e=$("__svelte__");return{page:{subscribe:e.page.subscribe},navigating:{subscribe:e.navigating.subscribe},updated:e.updated}})().page.subscribe(e)};export{mn as S,cn as a,Qt as b,ln as c,Y as d,K as e,Zt as f,dn as g,vn as h,bn as i,kn as j,un as o,On as p,xn as q,q as s};
